<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <title>oschina - project - 简体中文</title>
    <link>https://www.oschina.net/news/project</link>
    <atom:link href="http://127.0.0.1:30044/oschina/news/project" rel="self" type="application/rss+xml"/>
    <description>已对该 RSS 进行格式化操作：中英字符之间插入空格、使用直角引号、标点符号修正</description>
    <generator>RSSHub</generator>
    <webMaster>contact@rsshub.app (RSSHub)</webMaster>
    <language>zh-cn</language>
    <lastBuildDate>Sun, 31 Aug 2025 12:43:33 GMT</lastBuildDate>
    <ttl>5</ttl>
    <item>
      <title>维基框架 (Wiki FW) v1.1.1 | 企业级微服务开发框架</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;h2&gt;Release Notes&lt;/h2&gt; 
&lt;p style="color:rgba(0, 0, 0, 0.75); margin-left:0; margin-right:0; text-align:start"&gt;版本修复日志&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;【修复】修复 wiki-all-jpa 包命名空间错误问题&lt;/li&gt; 
 &lt;li&gt;【修复】修改日志输出目录至项目根目录&lt;/li&gt; 
 &lt;li&gt;【修复】wiki-all，wiki-all-jpa 启动类型注解配置&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="color:rgba(0, 0, 0, 0.75); margin-left:0; margin-right:0; text-align:start"&gt;新增 wiki-oauth2 组件，支持 OAuth2 授权&lt;/p&gt; 
&lt;h3&gt;1.【安全】OAuth2 权限体系强化&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;新增标准 OAuth2 授权码（authorization_code）获取流程，支持/oauth2/authorize 端点动态生成权限 code&lt;/li&gt; 
 &lt;li&gt;扩展令牌端点/oauth2/access_token，支持通过授权码交换访问令牌（access_token）&lt;/li&gt; 
 &lt;li&gt;新增令牌刷新机制，支持 grant_type=refresh_token 动态刷新访问凭证&lt;/li&gt; 
 &lt;li&gt;集成 RBAC 权限模型，实现细粒度 Scope 权限控制&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;2.【优化】Spring Security 深度整合&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;重构认证过滤器链，支持 OAuth2 与原生表单登录无缝切换&lt;/li&gt; 
 &lt;li&gt;新增@OAuth2ResourceServer 注解，一键开启资源服务器配置&lt;/li&gt; 
 &lt;li&gt;优化 JWT 令牌校验性能，支持 HS256/RS256 双签名算法&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;3.【安全】令牌管理增强&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;令牌存储支持数据库模式，持久化访问凭证&lt;/li&gt; 
 &lt;li&gt;新增令牌自动回收机制，闲置令牌 15 分钟强制失效&lt;/li&gt; 
 &lt;li&gt;令牌绑定客户端 IP，防止凭证劫持（CVE-2025-8821 修复）&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;4.【优化】配置简化&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-yaml"&gt;&lt;span style="color:#0077aa"&gt;spring&lt;/span&gt;&lt;span style="color:#999999"&gt;:&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;custom&lt;/span&gt;&lt;span style="color:#999999"&gt;:&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;oauth2&lt;/span&gt;&lt;span style="color:#999999"&gt;:&lt;/span&gt;
      &lt;span style="color:#708090"&gt;# 刷新令牌有效期，单位秒，默认 30 天（默认值）&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;refresh-token-time-to-live&lt;/span&gt;&lt;span style="color:#999999"&gt;:&lt;/span&gt; &lt;span style="color:#990055"&gt;2592000&lt;/span&gt;
      &lt;span style="color:#708090"&gt;# 访问令牌有效期，单位秒，默认 7 天（默认值）&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;access-token-time-to-live&lt;/span&gt;&lt;span style="color:#999999"&gt;:&lt;/span&gt; &lt;span style="color:#990055"&gt;604800&lt;/span&gt;
      &lt;span style="color:#708090"&gt;# 需要授权接口&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;api-path-patterns&lt;/span&gt;&lt;span style="color:#999999"&gt;:&lt;/span&gt;
        &lt;span style="color:#999999"&gt;-&lt;/span&gt; /api/&lt;span style="color:#ee9900"&gt;**&lt;/span&gt;
      &lt;span style="color:#708090"&gt;# 需要放行接口&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;allow-list&lt;/span&gt;&lt;span style="color:#999999"&gt;:&lt;/span&gt;
        &lt;span style="color:#999999"&gt;-&lt;/span&gt; /oauth2/&lt;span style="color:#ee9900"&gt;**&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h1&gt;OAuth2 接入示例&lt;/h1&gt; 
&lt;h2&gt;1. 引入依赖&lt;/h2&gt; 
&lt;pre&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;dependencies&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="background-color:rgba(0, 0, 0, 0.05); color:rgba(0, 0, 0, 0.75)"&gt; &lt;/span&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="background-color:rgba(0, 0, 0, 0.05); color:rgba(0, 0, 0, 0.75)"&gt;com.framewiki&amp;lt;/&lt;/span&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#999999"&gt;groupId&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="background-color:rgba(0, 0, 0, 0.05); color:rgba(0, 0, 0, 0.75)"&gt; &lt;/span&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="background-color:rgba(0, 0, 0, 0.05); color:rgba(0, 0, 0, 0.75)"&gt;wiki-oauth2&amp;lt;/&lt;/span&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#999999"&gt;artifactId&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="background-color:rgba(0, 0, 0, 0.05); color:rgba(0, 0, 0, 0.75)"&gt; &lt;/span&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;version&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="background-color:rgba(0, 0, 0, 0.05); color:rgba(0, 0, 0, 0.75)"&gt;1.1.1&lt;/span&gt;&lt;span style="color:#990055"&gt;&lt;span style="color:#999999"&gt;version&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="color:rgba(0, 0, 0, 0.75)"&gt;&lt;span style="background-color:rgba(0, 0, 0, 0.05)"&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;dependencies&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;span style="color:#990055"&gt;
&lt;/span&gt;&lt;/pre&gt; 
&lt;h2&gt;2. 请求示例&lt;/h2&gt; 
&lt;h3&gt;1. 获取授权码&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-http"&gt;GET /oauth2/authorize?response_type=code
    &amp;amp;client_id=client123
    &amp;amp;scope=read
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;2. 兑换访问令牌&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-http"&gt;GET /oauth2/access_token
    grant_type=authorization_code
    &amp;amp;code=MmUuMrt
    &amp;amp;client_id=client123
    ×tamp=1756625626
    &amp;amp;signature=817a2bcb5720fec967ba936fdfc64fc5
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;3. 刷新访问令牌&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-http"&gt;GET /oauth2/access_token
    grant_type=refresh_token
    &amp;amp;refresh_token=eyJhbGciOiJIUzUxMiJ9.eyJkaXNwbGF5TmFtZSI6ImNsaWVudDEyMyIsImxvZ2luTmFtZSI6ImNsaWVudDEyMyIsInRpbWUiOjE3NTY3MTIyNTAsInVzZXJUeXBlIjoiY2xpZW50MTIzIiwiZXhwIjoxNzU2NzEyMjUwLCJ0b2tlbl90eXBlIjoicmVmcmVzaCIsInVzZXJuYW1lIjoiY2xpZW50MTIzIiwidG9rZW4iOiIzNjc3YjIzYmFhMDhmNzRjMjhhYmEwN2YwY2I2NTU0ZSJ9.GGeatgfoGdG56HV9fvgaONY4kJKso5M4crF9KHOV_zYq0U5aM7BT6tyfgnni7t0FG6o8wSLpkmTFcwLJc2g9Fw
&lt;/code&gt;&lt;/pre&gt; 
&lt;h2&gt;3. 实现代码示例&lt;/h2&gt; 
&lt;h3&gt;1. 常量&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;constant&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.constant
 * @ClassName: OAuth2Constant
 * @Description: 常量
 * @Author: xiaLin
 * @Date: 2025/7/31 16:51
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;interface&lt;/span&gt; &lt;span&gt;OAuth2Constant&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权端点
   * 注意：不以双斜杠结尾，避免路径拼接出现
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;OAUTH2&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"/oauth2/"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;


  &lt;span style="color:#708090"&gt;/**
   * 授权类型 - 刷新令牌
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;REFRESH_TOKEN&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"refresh_token"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权端点
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;AUTHORIZE&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;OAUTH2&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; &lt;span style="color:#669900"&gt;"authorize"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 访问令牌端点
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;OAUTH2_ACCESS_TOKEN&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;OAUTH2&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; &lt;span style="color:#669900"&gt;"token"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#708090"&gt;/**
   * 撤销令牌端点
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;OAUTH2_REVOKE&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;OAUTH2&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; &lt;span style="color:#669900"&gt;"revoke"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 密钥
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;SECRET_KEY&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"cdkj-framework-jwt"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 权限
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;AUTHORIZATION&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"Authorization"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 权限值
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;BEARER&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"Bearer "&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权类型
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;CLIENT_ID&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"client_id"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 空
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;EMPTY&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;""&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权码
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;ACCESS_TOKEN&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"access_token"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 过期时间
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;EXPIRES_IN&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"expires_in"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权类型
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;TOKEN_TYPE&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"token_type"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 令牌时间
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;ACCESS_TOKEN_TIME_TO_LIVE&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"accessTokenTimeToLive"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 刷新令牌时间
   */&lt;/span&gt;
  &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;REFRESH_TOKEN_TIME_TO_LIVE&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"refreshTokenTimeToLive"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权编码错误
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;CODE_ERROR&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;10000&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权编码过期
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;CODE_EXPIRED&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;10001&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * client_id 错误
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;CLIENT_ERROR&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;10002&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 密钥错误
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;SECRET_ERROR&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;10003&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 刷新令牌错误
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;REFRESH_TOKEN_ERROR&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;10004&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 刷新令牌过期
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;REFRESH_TOKEN_EXPIRED&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;10005&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权类型未找到
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;GRANT_TYPE&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;10006&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权类型错误
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;GRANT_TYPE_ERROR&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;10007&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 时间戳错误
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;TIMESTAMP_ERROR&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;10008&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 签名错误
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;SIGNATURE_ERROR&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;10009&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 系统错误
   */&lt;/span&gt;
  &lt;span&gt;Integer&lt;/span&gt; &lt;span style="color:#990055"&gt;ERROR&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;999&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;2. 授权服务器配置&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;config&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;filter&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;JwtTokenFilter&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;lombok&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;RequiredArgsConstructor&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;context&lt;span style="color:#999999"&gt;.&lt;/span&gt;annotation&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Bean&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;context&lt;span style="color:#999999"&gt;.&lt;/span&gt;annotation&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Configuration&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;config&lt;span style="color:#999999"&gt;.&lt;/span&gt;annotation&lt;span style="color:#999999"&gt;.&lt;/span&gt;web&lt;span style="color:#999999"&gt;.&lt;/span&gt;builders&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;HttpSecurity&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;config&lt;span style="color:#999999"&gt;.&lt;/span&gt;annotation&lt;span style="color:#999999"&gt;.&lt;/span&gt;web&lt;span style="color:#999999"&gt;.&lt;/span&gt;configuration&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;EnableWebSecurity&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;config&lt;span style="color:#999999"&gt;.&lt;/span&gt;http&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;SessionCreationPolicy&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;server&lt;span style="color:#999999"&gt;.&lt;/span&gt;authorization&lt;span style="color:#999999"&gt;.&lt;/span&gt;settings&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;AuthorizationServerSettings&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;web&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;SecurityFilterChain&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;web&lt;span style="color:#999999"&gt;.&lt;/span&gt;authentication&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;UsernamePasswordAuthenticationFilter&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ArrayList&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;List&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span style="color:#0077aa"&gt;static&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;constant&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#a67f59"&gt;*&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package:com.cdkjframework.oauth2.config
 * @ClassName: AuthorizationServerConfig
 * @Description: 授权服务器配置
 * @Author: xiaLin
 * @Date: 2025/7/31 13:32
 * @Version: 1.0
 */&lt;/span&gt;

&lt;span style="color:#999999"&gt;@Configuration&lt;/span&gt;
&lt;span style="color:#999999"&gt;@EnableWebSecurity&lt;/span&gt;
&lt;span style="color:#999999"&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;class&lt;/span&gt; &lt;span&gt;AuthorizationServerConfig&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 凭证过滤
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;JwtTokenFilter&lt;/span&gt; jwtTokenFilter&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * OAuth2 配置
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;Oauth2Config&lt;/span&gt; oauth2Config&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 定义安全策略
   *
   * @param http http 安全
   * @return 安全过滤链
   * @throws Exception 异常信息
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@Bean&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span&gt;SecurityFilterChain&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;securityFilterChain&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpSecurity&lt;/span&gt; http&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#0077aa"&gt;throws&lt;/span&gt; &lt;span&gt;Exception&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;List&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; publicEndpoints &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;ArrayList&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#999999"&gt;{&lt;/span&gt;
        &lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;AUTHORIZE&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        &lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;OAUTH2_ACCESS_TOKEN&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    publicEndpoints&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;addAll&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;oauth2Config&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getAllowList&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;List&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; finalPathArray &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; oauth2Config&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getApiPathPatterns&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    http
        &lt;span style="color:#708090"&gt;// 配置授权规则&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;authorizeHttpRequests&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;authorizeRequests &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; authorizeRequests
            &lt;span style="color:#708090"&gt;// 公开的 OAuth2 端点&lt;/span&gt;
            &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;requestMatchers&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;publicEndpoints&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toArray&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;[&lt;/span&gt;&lt;span style="color:#999999"&gt;]&lt;/span&gt;&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#0077aa"&gt;new&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;permitAll&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
            &lt;span style="color:#708090"&gt;// 权限页面&lt;/span&gt;
            &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;requestMatchers&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;finalPathArray&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toArray&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;[&lt;/span&gt;&lt;span style="color:#999999"&gt;]&lt;/span&gt;&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#0077aa"&gt;new&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;authenticated&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
            &lt;span style="color:#708090"&gt;// 其他请求需要认证&lt;/span&gt;
            &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;anyRequest&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;authenticated&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// 在 UsernamePasswordAuthenticationFilter 前添加 JWT 过滤器&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;addFilterBefore&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;jwtTokenFilter&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;UsernamePasswordAuthenticationFilter&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#0077aa"&gt;class&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// 禁用 Session&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;sessionManagement&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;session &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; session&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;sessionCreationPolicy&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;SessionCreationPolicy&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;STATELESS&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// 可选：禁用 CSRF 防护（针对无状态认证，如 JWT）&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;csrf&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;csrf &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; csrf&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;disable&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; http&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;build&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 客户端详情存储库
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@Bean&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span&gt;AuthorizationServerSettings&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;authorizationServerSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span&gt;AuthorizationServerSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;builder&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;authorizationEndpoint&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;AUTHORIZE&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;tokenEndpoint&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;OAUTH2_ACCESS_TOKEN&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;tokenRevocationEndpoint&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;OAUTH2_REVOKE&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;build&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;3. JWT 令牌过滤器&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;filter&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;constant&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ClientDetails&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;provider&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;JwtTokenProvider&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;repository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;OAuth2ClientRepository&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;tool&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;StringUtils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;jakarta&lt;span style="color:#999999"&gt;.&lt;/span&gt;servlet&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;FilterChain&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;jakarta&lt;span style="color:#999999"&gt;.&lt;/span&gt;servlet&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ServletException&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;jakarta&lt;span style="color:#999999"&gt;.&lt;/span&gt;servlet&lt;span style="color:#999999"&gt;.&lt;/span&gt;http&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;HttpServletRequest&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;jakarta&lt;span style="color:#999999"&gt;.&lt;/span&gt;servlet&lt;span style="color:#999999"&gt;.&lt;/span&gt;http&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;HttpServletResponse&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;lombok&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;RequiredArgsConstructor&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;authentication&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;UsernamePasswordAuthenticationToken&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;core&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;GrantedAuthority&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;core&lt;span style="color:#999999"&gt;.&lt;/span&gt;authority&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;SimpleGrantedAuthority&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;core&lt;span style="color:#999999"&gt;.&lt;/span&gt;context&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;SecurityContextHolder&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;core&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;server&lt;span style="color:#999999"&gt;.&lt;/span&gt;authorization&lt;span style="color:#999999"&gt;.&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;RegisteredClient&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;server&lt;span style="color:#999999"&gt;.&lt;/span&gt;authorization&lt;span style="color:#999999"&gt;.&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;RegisteredClientRepository&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;stereotype&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Component&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;web&lt;span style="color:#999999"&gt;.&lt;/span&gt;filter&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;OncePerRequestFilter&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;io&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;IOException&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ArrayList&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;List&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Locale&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.filter
 * @ClassName: JwtTokenFilter
 * @Description: JWT 令牌过滤器
 * @Author: xiaLin
 * @Date: 2025/7/31 16:48
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#999999"&gt;@Component&lt;/span&gt;
&lt;span style="color:#999999"&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;class&lt;/span&gt; &lt;span&gt;JwtTokenFilter&lt;/span&gt; &lt;span style="color:#0077aa"&gt;extends&lt;/span&gt; &lt;span&gt;OncePerRequestFilter&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 使用自定义的 RegisteredClientRepository 进行客户端与权限信息的加载
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;RegisteredClientRepository&lt;/span&gt; registeredClientRepository&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 是否进行内部筛选
   *
   * @param request     请求
   * @param response    响应
   * @param filterChain 过滤器链
   * @throws ServletException Servlet 异常
   * @throws IOException      IO 异常
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@Override&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;protected&lt;/span&gt; &lt;span style="color:#0077aa"&gt;void&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;doFilterInternal&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpServletRequest&lt;/span&gt; request&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;HttpServletResponse&lt;/span&gt; response&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;FilterChain&lt;/span&gt; filterChain&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#0077aa"&gt;throws&lt;/span&gt; &lt;span&gt;ServletException&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;IOException&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;String&lt;/span&gt; token &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; request&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getHeader&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;AUTHORIZATION&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;StringUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isNotNullAndEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;token&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;&amp;amp;&amp;amp;&lt;/span&gt; token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;startsWith&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BEARER&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;try&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
        &lt;span&gt;String&lt;/span&gt; jwt &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;replace&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BEARER&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;EMPTY&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

        &lt;span style="color:#708090"&gt;// Validate and parse the JWT token&lt;/span&gt;
        &lt;span&gt;JwtTokenProvider&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;validateToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;jwt&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        &lt;span&gt;String&lt;/span&gt; clientId &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;JwtTokenProvider&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientIdFromToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;jwt&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

        &lt;span style="color:#708090"&gt;// 通过自定义仓库加载 RegisteredClient&lt;/span&gt;
        &lt;span&gt;RegisteredClient&lt;/span&gt; registeredClient &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; registeredClientRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;findByClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;registeredClient &lt;span style="color:#a67f59"&gt;==&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
          response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpServletResponse&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SC_UNAUTHORIZED&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setContentType&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"application/json"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getWriter&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;write&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"{\\\\"error\\\\":\\\\"Client Not Found\\\\",\\\\"clientId\\\\":\\\\""&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; clientId &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; &lt;span style="color:#669900"&gt;"\\\\"}"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#0077aa"&gt;return&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        &lt;span style="color:#999999"&gt;}&lt;/span&gt;

        &lt;span style="color:#708090"&gt;// 从 RegisteredClient 构造权限集合（Scopes -&amp;gt; SCOPE_xxx，GrantTypes -&amp;gt; GRANT_xxx）&lt;/span&gt;
        &lt;span&gt;List&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;GrantedAuthority&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; authorities &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;parseAuthorities&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;registeredClient&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

        &lt;span style="color:#708090"&gt;// 基于 HTTP 方法的简单权限校验：GET/HEAD/OPTIONS 需要 SCOPE_read，其它需要 SCOPE_write&lt;/span&gt;
        &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#a67f59"&gt;!&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;checkHttpMethodPermission&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;request&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getMethod&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; authorities&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
          response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpServletResponse&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SC_FORBIDDEN&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setContentType&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"application/json"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getWriter&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;write&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"{\\\\"error\\\\":\\\\"Forbidden\\\\",\\\\"message\\\\":\\\\"insufficient_scope\\\\"}"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#0077aa"&gt;return&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        &lt;span style="color:#999999"&gt;}&lt;/span&gt;
        request&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setAttribute&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;CLIENT_ID&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

        &lt;span style="color:#708090"&gt;// 设置认证信息到 SecurityContext&lt;/span&gt;
        &lt;span&gt;SecurityContextHolder&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getContext&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setAuthentication&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;
            &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;UsernamePasswordAuthenticationToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; registeredClient&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientSecret&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; authorities&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

      &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;catch&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;Exception&lt;/span&gt; e&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
        response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpServletResponse&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SC_UNAUTHORIZED&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setContentType&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"application/json"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getWriter&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;write&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"{\\\\"error\\\\": \\\\"Invalid Token\\\\", \\\\"message\\\\": \\\\""&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; e&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getMessage&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; &lt;span style="color:#669900"&gt;"\\\\"}"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        &lt;span style="color:#0077aa"&gt;return&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// Proceed with the filter chain&lt;/span&gt;
    filterChain&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;doFilter&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;request&lt;span style="color:#999999"&gt;,&lt;/span&gt; response&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 将 RegisteredClient 的 scopes 与授权类型转换为权限集合
   * - Scopes: 生成形如 SCOPE_xxx 的权限
   * - GrantTypes: 生成形如 GRANT_xxx 的权限
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;List&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;GrantedAuthority&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;parseAuthorities&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;RegisteredClient&lt;/span&gt; client&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;List&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;GrantedAuthority&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; list &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;ArrayList&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// scopes -&amp;gt; SCOPE_*&lt;/span&gt;
    client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getScopes&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;forEach&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;scope &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; list&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;SimpleGrantedAuthority&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"SCOPE_"&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; scope&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// grant types -&amp;gt; GRANT_*&lt;/span&gt;
    client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getAuthorizationGrantTypes&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;stream&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;map&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getValue&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;forEach&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;gt &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; list&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;SimpleGrantedAuthority&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"GRANT_"&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; gt&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; list&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 基于 HTTP 方法的通用权限校验
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;boolean&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;checkHttpMethodPermission&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; method&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;List&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;GrantedAuthority&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; authorities&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;String&lt;/span&gt; m &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; method &lt;span style="color:#a67f59"&gt;==&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt; &lt;span style="color:#a67f59"&gt;?&lt;/span&gt; &lt;span style="color:#669900"&gt;"GET"&lt;/span&gt; &lt;span style="color:#a67f59"&gt;:&lt;/span&gt; method&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toUpperCase&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;Locale&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;ROOT&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;boolean&lt;/span&gt; isRead &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; m&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;equals&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"GET"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;||&lt;/span&gt; m&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;equals&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"HEAD"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;||&lt;/span&gt; m&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;equals&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"OPTIONS"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;String&lt;/span&gt; required &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; isRead &lt;span style="color:#a67f59"&gt;?&lt;/span&gt; &lt;span style="color:#669900"&gt;"SCOPE_read"&lt;/span&gt; &lt;span style="color:#a67f59"&gt;:&lt;/span&gt; &lt;span style="color:#669900"&gt;"SCOPE_write"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; authorities&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;stream&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;anyMatch&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;a &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; a&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getAuthority&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;equals&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;required&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;4. JWT 令牌提供者&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;provider&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;constant&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;BusinessConsts&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;constant&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;IntegerConsts&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;constant&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;encrypts&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;JwtUtils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;encrypts&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Md5Utils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;tool&lt;span style="color:#999999"&gt;.&lt;/span&gt;number&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ConvertUtils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;io&lt;span style="color:#999999"&gt;.&lt;/span&gt;jsonwebtoken&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Claims&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;io&lt;span style="color:#999999"&gt;.&lt;/span&gt;jsonwebtoken&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Jwts&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;io&lt;span style="color:#999999"&gt;.&lt;/span&gt;jsonwebtoken&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;SignatureAlgorithm&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;stereotype&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Component&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Instant&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;LocalDateTime&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ZoneId&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;time&lt;span style="color:#999999"&gt;.&lt;/span&gt;temporal&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ChronoUnit&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Date&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;HashMap&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Map&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;UUID&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span style="color:#0077aa"&gt;static&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;constant&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span&gt;TOKEN_TYPE&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.service
 * @ClassName: JwtTokenProvider
 * @Description: JWT 令牌提供者
 * @Author: xiaLin
 * @Date: 2025/7/31 13:30
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#999999"&gt;@Component&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;class&lt;/span&gt; &lt;span&gt;JwtTokenProvider&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 生成 JWT Token
   *
   * @param clientId              客户端 ID
   * @param accessTokenTimeToLive 访问令牌存活时间（秒）
   * @return 返回 JWT Token
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;static&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;generateToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;Long&lt;/span&gt; accessTokenTimeToLive&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;LocalDateTime&lt;/span&gt; now &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;LocalDateTime&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;now&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 1 天有效期&lt;/span&gt;
    &lt;span&gt;LocalDateTime&lt;/span&gt; expiryDate &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; now&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;plusSeconds&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;accessTokenTimeToLive&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;Instant&lt;/span&gt; time &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; expiryDate&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;atZone&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;ZoneId&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;systemDefault&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toInstant&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;Long&lt;/span&gt; seconds &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getEpochSecond&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;*&lt;/span&gt; &lt;span&gt;IntegerConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;ONE_THOUSAND&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span&gt;JwtUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;createJwt&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;parseToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getEpochSecond&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SECRET_KEY&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; seconds&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 生成 Refresh Token
   *
   * @param clientId               客户端 ID
   * @param refreshTokenTimeToLive 刷新令牌存活时间（秒）
   * @return 返回 Refresh Token
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;static&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;generateRefreshToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;Long&lt;/span&gt; refreshTokenTimeToLive&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;Instant&lt;/span&gt; time &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;Instant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;now&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;plus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;refreshTokenTimeToLive&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;ChronoUnit&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SECONDS&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 构建包含客户端标识和唯一性的 JWT&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span&gt;Jwts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;builder&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// JWT 唯一标识&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;UUID&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;randomUUID&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toString&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// 绑定客户端 ID[1,8](@ref)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setSubject&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// 签发时间&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setIssuedAt&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;Date&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;from&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;Instant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;now&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setClaims&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;parseToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getEpochSecond&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// 30 天有效期[4](@ref)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setExpiration&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;Date&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;from&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;time&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// 明确令牌类型&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;claim&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;TOKEN_TYPE&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"refresh"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// 强加密签名[2](@ref)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;signWith&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;SignatureAlgorithm&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;HS512&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SECRET_KEY&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;compact&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 解析 Token
   *
   * @param clientId 客户端 ID
   * @param time     时间
   * @return 返回，解析后的 Token 信息
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;static&lt;/span&gt; &lt;span&gt;Map&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;Object&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;parseToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;Long&lt;/span&gt; time&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 生成 JWT token&lt;/span&gt;
    &lt;span&gt;Map&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;Object&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; map &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;HashMap&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;IntegerConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;FOUR&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    map&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;put&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;BusinessConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;LOGIN_NAME&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    map&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;put&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;BusinessConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;TIME&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; time&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    map&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;put&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;BusinessConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;USER_NAME&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    map&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;put&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;BusinessConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;USER_TYPE&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    map&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;put&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;BusinessConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;DISPLAY_NAME&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;String&lt;/span&gt; token &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;Md5Utils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getMd5&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    map&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;put&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;BusinessConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;HEADER_TOKEN&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; token&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; map&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 解析 Token 获取用户名（clientId）
   *
   * @param token 令牌
   * @return 返回，用户名（clientId）
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;static&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;getClientIdFromToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; token&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;Claims&lt;/span&gt; claims &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;JwtUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;parseJwt&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;token&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SECRET_KEY&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;claims &lt;span style="color:#a67f59"&gt;==&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span&gt;ConvertUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;convertString&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;claims&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;get&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;BusinessConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;LOGIN_NAME&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 验证 Token 是否有效
   *
   * @param token 令牌
   * @return 返回是否有效
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;static&lt;/span&gt; &lt;span style="color:#0077aa"&gt;boolean&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;validateToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; token&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;try&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span&gt;Jwts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;parser&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setSigningKey&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SECRET_KEY&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;parseClaimsJws&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;token&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span style="color:#990055"&gt;true&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;catch&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;Exception&lt;/span&gt; e&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span style="color:#990055"&gt;false&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 生成 MD5 签名
   *
   * @param clientSecret 客户端密钥
   * @param clientId     客户端 ID
   * @param timestamp    时间戳
   * @return 返回 MD5 签名
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;static&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;md5Signature&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; clientSecret&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; timestamp&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;String&lt;/span&gt; input &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"client_id="&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; clientId &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; &lt;span style="color:#669900"&gt;"&amp;amp;client_secret="&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; clientSecret &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; &lt;span style="color:#669900"&gt;"×tamp="&lt;/span&gt; &lt;span style="color:#a67f59"&gt;+&lt;/span&gt; timestamp&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span&gt;Md5Utils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getMd5&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;input&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;5. OAuth2 授权服务接口&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;service&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;builder&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;TokenResponse&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * OAuth2 授权服务接口
 *
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.service
 * @ClassName: Oauth2AuthorizationService
 * @Description: OAuth2 授权服务接口
 * @Author: xiaLin
 * @Date: 2025/7/31 21:15
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;interface&lt;/span&gt; &lt;span&gt;Oauth2AuthorizationService&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权端点
   *
   * @param clientId     客户端 ID
   * @param responseType 响应类型
   * @param scope        授权范围
   * @return 授权页面或信息
   */&lt;/span&gt;
  &lt;span&gt;ResponseBuilder&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;authorizationCode&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; responseType&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; scope&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 获取访问令牌
   *
   * @param grantType    授权类型
   * @param clientId     客户端 ID
   * @param code         授权码
   * @param timestamp    时间戳
   * @param refreshToken 刷新令牌
   * @param signature    签名
   * @return
   */&lt;/span&gt;
  &lt;span&gt;TokenResponse&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;token&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; grantType&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; code&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; timestamp&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; refreshToken&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; signature&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;6. OAuth2 授权服务实现类&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;service&lt;span style="color:#999999"&gt;.&lt;/span&gt;impl&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;builder&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ResponseBuilder&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;constant&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;IntegerConsts&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;exceptions&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;config&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Oauth2Config&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;AuthorizationCode&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;OAuth2Token&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;TokenResponse&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;provider&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;JwtTokenProvider&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;repository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;AuthorizationCodeRepository&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;repository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;CustomRegisteredClientRepository&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;repository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;OAuth2TokenRepository&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;service&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Oauth2AuthorizationService&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;service&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Oauth2TokenService&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;network&lt;span style="color:#999999"&gt;.&lt;/span&gt;http&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;HttpServletUtils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;tool&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;CollectUtils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;tool&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;StringUtils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;tool&lt;span style="color:#999999"&gt;.&lt;/span&gt;number&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ConvertUtils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;jakarta&lt;span style="color:#999999"&gt;.&lt;/span&gt;servlet&lt;span style="color:#999999"&gt;.&lt;/span&gt;http&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;HttpServletResponse&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;lombok&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;RequiredArgsConstructor&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;http&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;core&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;server&lt;span style="color:#999999"&gt;.&lt;/span&gt;authorization&lt;span style="color:#999999"&gt;.&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;RegisteredClient&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;server&lt;span style="color:#999999"&gt;.&lt;/span&gt;authorization&lt;span style="color:#999999"&gt;.&lt;/span&gt;settings&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;TokenSettings&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;stereotype&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Service&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ObjectUtils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;SecureRandom&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;LocalDateTime&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ZoneId&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;HashMap&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Map&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span style="color:#0077aa"&gt;static&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;constant&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;OAuth2Constant&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#a67f59"&gt;*&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * OAuth2 授权服务实现类
 *
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.service.impl
 * @ClassName: Oauth2AuthorizationServiceImpl
 * @Description: OAuth2 授权服务实现类
 * @Author: xiaLin
 * @Date: 2025/7/31 21:16
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#999999"&gt;@Service&lt;/span&gt;
&lt;span style="color:#999999"&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;class&lt;/span&gt; &lt;span&gt;Oauth2AuthorizationServiceImpl&lt;/span&gt; &lt;span style="color:#0077aa"&gt;implements&lt;/span&gt; &lt;span&gt;Oauth2AuthorizationService&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 自定义注册的客户端存储库
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;CustomRegisteredClientRepository&lt;/span&gt; registeredClientRepository&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权码存储库
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;AuthorizationCodeRepository&lt;/span&gt; authorizationCodeRepository&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * OAuth2 客户端存储库
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;OAuth2TokenRepository&lt;/span&gt; auth2TokenRepository&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * oauth2 令牌服务
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;Oauth2TokenService&lt;/span&gt; oauth2TokenService&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * Oauth2 配置
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;Oauth2Config&lt;/span&gt; oauth2Config&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 安全字符集（排除易混淆字符）
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;static&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#990055"&gt;SAFE_CHARACTERS&lt;/span&gt; &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnopqrstuvwxyz23456789"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 授权端点
   *
   * @param clientId     客户端 ID
   * @param responseType 响应类型
   * @param scope        授权范围
   * @return code
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@Override&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span&gt;ResponseBuilder&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;authorizationCode&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; responseType&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; scope&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;HttpServletResponse&lt;/span&gt; response &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;HttpServletUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getResponse&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 验证客户端&lt;/span&gt;
    &lt;span&gt;RegisteredClient&lt;/span&gt; client &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; registeredClientRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;findByClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;client &lt;span style="color:#a67f59"&gt;==&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;CODE_ERROR&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"Invalid client ID"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 生成授权编码&lt;/span&gt;
    &lt;span&gt;String&lt;/span&gt; authCode &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;generate&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;IntegerConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SEVEN&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span&gt;AuthorizationCode&lt;/span&gt; code &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;AuthorizationCode&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    code&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setCode&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;authCode&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    code&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    code&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setRedirectUri&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getRedirectUris&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;stream&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;findFirst&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;orElse&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#0077aa"&gt;null&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    code&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setIssuedAt&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;LocalDateTime&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;now&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 设置过期时间为 10 分钟后&lt;/span&gt;
    code&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setExpiryAt&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;code&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getIssuedAt&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;plusMinutes&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;IntegerConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;TEN&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 检查授权码是否已存在&lt;/span&gt;
    authorizationCodeRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;save&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;code&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 返回授权码&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span&gt;ResponseBuilder&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;successBuilder&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;authCode&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 获取访问令牌
   *
   * @param grantType    授权类型
   * @param clientId     客户端 ID
   * @param code         授权码
   * @param timestamp    时间戳
   * @param refreshToken 刷新令牌
   * @param signature    签名
   * @return 访问令牌
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@Override&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span&gt;TokenResponse&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;token&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; grantType&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; code&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; timestamp&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; refreshToken&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; signature&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;HttpServletResponse&lt;/span&gt; response &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;HttpServletUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getResponse&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 2. 校验客户端 ID 和客户端密钥&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;StringUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isNullAndSpaceOrEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;grantType&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;GRANT_TYPE&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"grant_type not found"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 3. 根据授权类型处理请求&lt;/span&gt;
    &lt;span&gt;AuthorizationGrantType&lt;/span&gt; authorizationGrantType &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;grantType&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toLowerCase&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;AUTHORIZATION_CODE&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;equals&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;authorizationGrantType&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#708090"&gt;// 处理授权码模式&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;handleAuthorizationCode&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;response&lt;span style="color:#999999"&gt;,&lt;/span&gt; authorizationGrantType&lt;span style="color:#999999"&gt;,&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; code&lt;span style="color:#999999"&gt;,&lt;/span&gt; timestamp&lt;span style="color:#999999"&gt;,&lt;/span&gt; signature&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;else&lt;/span&gt; &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;REFRESH_TOKEN&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;equals&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;authorizationGrantType&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#708090"&gt;// 处理刷新令牌模式&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;handleRefreshToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;response&lt;span style="color:#999999"&gt;,&lt;/span&gt; authorizationGrantType&lt;span style="color:#999999"&gt;,&lt;/span&gt; refreshToken&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;else&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;GRANT_TYPE&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"Unsupported grant_type"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 处理授权码模式
   *
   * @param response  HTTP 响应对象
   * @param grantType 授权类型
   * @param clientId  客户端 ID
   * @param code      授权码
   * @param timestamp 时间戳
   * @param signature 签名
   * @return 响应构建器
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;TokenResponse&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;handleAuthorizationCode&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpServletResponse&lt;/span&gt; response&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;AuthorizationGrantType&lt;/span&gt; grantType&lt;span style="color:#999999"&gt;,&lt;/span&gt;
                                                &lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; code&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; timestamp&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; signature&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 验证时间戳&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;try&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#dd4a68"&gt;verifyTimestamp&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;timestamp&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;catch&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;IllegalArgumentException&lt;/span&gt; e&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;TIMESTAMP_ERROR&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; e&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getMessage&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 1. 验证授权码是否有效&lt;/span&gt;
    &lt;span&gt;AuthorizationCode&lt;/span&gt; authorizationCode &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; authorizationCodeRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;findByCode&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;code&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;ObjectUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;authorizationCode&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;CODE_ERROR&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"Invalid authorization code"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;authorizationCode&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isExpired&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;CODE_EXPIRED&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"expired authorization code"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 2. 根据 clientId 查找注册的客户端&lt;/span&gt;
    &lt;span&gt;RegisteredClient&lt;/span&gt; client &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; registeredClientRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;findByClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;ObjectUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;client&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;CLIENT_ERROR&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"client_id not found"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 3. 验证签名&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;try&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#dd4a68"&gt;verifySignature&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;client&lt;span style="color:#999999"&gt;,&lt;/span&gt; signature&lt;span style="color:#999999"&gt;,&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; timestamp&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;catch&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;IllegalArgumentException&lt;/span&gt; e&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;SIGNATURE_ERROR&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; e&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getMessage&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 4. 验证授权类型是否被允许&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#a67f59"&gt;!&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getAuthorizationGrantTypes&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;contains&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;grantType&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;GRANT_TYPE_ERROR&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"Invalid grant_type"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 7. 将生成的令牌存储到数据库中&lt;/span&gt;
    &lt;span&gt;OAuth2Token&lt;/span&gt; oauth2Token &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;OAuth2Token&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    oauth2Token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setUserId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;code&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 8. 构建授权&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;buildToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;client&lt;span style="color:#999999"&gt;,&lt;/span&gt; oauth2Token&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 刷新访问令牌
   *
   * @param refreshToken 刷新令牌
   * @return 刷新后的访问令牌
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span&gt;TokenResponse&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;handleRefreshToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpServletResponse&lt;/span&gt; response&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;AuthorizationGrantType&lt;/span&gt; grantType&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; refreshToken&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;StringUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isNullAndSpaceOrEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;refreshToken&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;REFRESH_TOKEN_ERROR&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"Invalid refresh token"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 1. 验证刷新令牌是否有效&lt;/span&gt;
    &lt;span&gt;OAuth2Token&lt;/span&gt; oauth2Token &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; auth2TokenRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;findByRefreshToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;refreshToken&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;ObjectUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;oauth2Token&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;||&lt;/span&gt; &lt;span&gt;StringUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isNullAndSpaceOrEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;oauth2Token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getRefreshToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;REFRESH_TOKEN_ERROR&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"Invalid refresh token"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;int&lt;/span&gt; status &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;ConvertUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;convertInt&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;oauth2Token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#a67f59"&gt;!&lt;/span&gt;&lt;span&gt;IntegerConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;ONE&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;equals&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;status&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;REFRESH_TOKEN_ERROR&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"Invalid refresh token"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 2. 检查刷新令牌是否过期&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;oauth2Token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isExpired&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      response&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;HttpStatus&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;BAD_REQUEST&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;value&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;REFRESH_TOKEN_EXPIRED&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#669900"&gt;"Refresh token has expired"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 2. 根据 clientId 查找注册的客户端&lt;/span&gt;
    &lt;span&gt;RegisteredClient&lt;/span&gt; client &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; registeredClientRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;findByClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;oauth2Token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;assert&lt;/span&gt; client &lt;span style="color:#a67f59"&gt;!=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 3. 构建授权&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;buildToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;client&lt;span style="color:#999999"&gt;,&lt;/span&gt; oauth2Token&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 构建并返回新的访问令牌和刷新令牌
   *
   * @param client      注册的客户端
   * @param oauth2Token 当前的 OAuth2 令牌实体
   * @return 响应构建器，包含新的访问令牌和刷新令牌
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;TokenResponse&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;buildToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;RegisteredClient&lt;/span&gt; client&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;OAuth2Token&lt;/span&gt; oauth2Token&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 1. 获取令牌设置&lt;/span&gt;
    &lt;span&gt;TokenSettings&lt;/span&gt; settings &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getTokenSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;Long&lt;/span&gt; accessTokenTimeToLive&lt;span style="color:#999999"&gt;,&lt;/span&gt; refreshTokenTimeToLive&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;settings &lt;span style="color:#a67f59"&gt;!=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt; &lt;span style="color:#a67f59"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span&gt;CollectUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isNotEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;settings&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span&gt;Map&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;Object&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; map &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; settings&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      accessTokenTimeToLive &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;ConvertUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;convertLong&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;map&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;get&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;ACCESS_TOKEN_TIME_TO_LIVE&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      refreshTokenTimeToLive &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;ConvertUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;convertLong&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;map&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;get&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;REFRESH_TOKEN_TIME_TO_LIVE&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;else&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      accessTokenTimeToLive &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; oauth2Config&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getAccessTokenTimeToLive&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      refreshTokenTimeToLive &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; oauth2Config&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getRefreshTokenTimeToLive&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 2. 成新的访问令牌&lt;/span&gt;
    &lt;span&gt;String&lt;/span&gt; newAccessToken &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;JwtTokenProvider&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;generateToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; accessTokenTimeToLive&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    oauth2TokenService&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;validateToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;newAccessToken&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 3. 生成新的刷新令牌（可选）&lt;/span&gt;
    &lt;span&gt;String&lt;/span&gt; newRefreshToken &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;JwtTokenProvider&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;generateRefreshToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; refreshTokenTimeToLive&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;LocalDateTime&lt;/span&gt; localDateTime &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;LocalDateTime&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;now&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 4. 更新数据库中的刷新令牌（这里我们选择创建一个新刷新令牌）&lt;/span&gt;
    oauth2Token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setAccessToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;newAccessToken&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    oauth2Token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setRefreshToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;newRefreshToken&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    oauth2Token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setIssuedAt&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;localDateTime&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    oauth2Token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 5. 设置访问令牌过期时间为 7 天&lt;/span&gt;
    oauth2Token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setExpiration&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;localDateTime&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;plusDays&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;IntegerConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SEVEN&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    auth2TokenRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;save&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;oauth2Token&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 6. 返回令牌信息&lt;/span&gt;
    &lt;span&gt;TokenResponse&lt;/span&gt; tokenResponse &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;TokenResponse&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    tokenResponse&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setAccessToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;newAccessToken&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    tokenResponse&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setRefreshToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;newRefreshToken&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    tokenResponse&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setExpiresIn&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;accessTokenTimeToLive&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 返回新的访问令牌&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; tokenResponse&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 验证时间戳
   *
   * @param timestamp 时间戳
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;void&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;verifyTimestamp&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; timestamp&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;LocalDateTime&lt;/span&gt; currentTime &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;LocalDateTime&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;now&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 这里假设 timestamp 是一个表示毫秒的字符串&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;long&lt;/span&gt; requestTimeMillis&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;try&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      requestTimeMillis &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;Long&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;parseLong&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;timestamp&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;catch&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;NumberFormatException&lt;/span&gt; e&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;IllegalArgumentException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"Invalid timestamp format"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;

    &lt;span style="color:#708090"&gt;//&lt;/span&gt;
    &lt;span&gt;LocalDateTime&lt;/span&gt; requestTime &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;LocalDateTime&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;ofEpochSecond&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;requestTimeMillis&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;IntegerConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;ZERO&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;ZoneOffset&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;UTC&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;LocalDateTime&lt;/span&gt; beijingTime &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; requestTime&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;atZone&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;ZoneId&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;of&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"UTC"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;withZoneSameInstant&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;ZoneId&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;of&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"Asia/Shanghai"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toLocalDateTime&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 允许的时间窗口（例如 5 分钟）&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;long&lt;/span&gt; allowedWindowMillis &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;IntegerConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;FIVE&lt;/span&gt; &lt;span style="color:#a67f59"&gt;*&lt;/span&gt; &lt;span&gt;IntegerConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;SIXTY&lt;/span&gt; &lt;span style="color:#a67f59"&gt;*&lt;/span&gt; &lt;span&gt;IntegerConsts&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;ONE_THOUSAND&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#0077aa"&gt;long&lt;/span&gt; timeDifference &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;Math&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;abs&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;Duration&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;between&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;currentTime&lt;span style="color:#999999"&gt;,&lt;/span&gt; beijingTime&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toMillis&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;timeDifference &lt;span style="color:#a67f59"&gt;&amp;gt;&lt;/span&gt; allowedWindowMillis&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;IllegalArgumentException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"Timestamp is out of the allowed range"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 验证签名 md5 签名
   *
   * @param client    注册的客户端
   * @param signature 签名
   * @param clientId  客户端 ID
   * @param timestamp 时间戳
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;void&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;verifySignature&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;RegisteredClient&lt;/span&gt; client&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; signature&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; timestamp&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span&gt;String&lt;/span&gt; sign &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;JwtTokenProvider&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;md5Signature&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientSecret&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;,&lt;/span&gt; timestamp&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#a67f59"&gt;!&lt;/span&gt;sign&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;equals&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;signature&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;IllegalArgumentException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"Invalid signature"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 生成指定长度的随机字符串
   *
   * @param length 生成字符串的长度
   * @return 随机字符串
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;generate&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#0077aa"&gt;int&lt;/span&gt; length&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;length &lt;span style="color:#a67f59"&gt;&amp;lt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;0&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;IllegalArgumentException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"Length must be positive"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;

    &lt;span&gt;SecureRandom&lt;/span&gt; random &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;SecureRandom&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;StringBuilder&lt;/span&gt; sb &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;StringBuilder&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;length&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;for&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#0077aa"&gt;int&lt;/span&gt; i &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;0&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt; i &lt;span style="color:#a67f59"&gt;&amp;lt;&lt;/span&gt; length&lt;span style="color:#999999"&gt;;&lt;/span&gt; i&lt;span style="color:#a67f59"&gt;++&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;int&lt;/span&gt; index &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; random&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;nextInt&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;SAFE_CHARACTERS&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;length&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      sb&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;append&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;SAFE_CHARACTERS&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;charAt&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;index&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; sb&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toString&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;5. 自定义注册客户端存储库&lt;/h3&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;repository&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;exceptions&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;config&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Oauth2Config&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ClientDetails&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;tool&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;StringUtils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;fasterxml&lt;span style="color:#999999"&gt;.&lt;/span&gt;jackson&lt;span style="color:#999999"&gt;.&lt;/span&gt;core&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;JsonProcessingException&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;fasterxml&lt;span style="color:#999999"&gt;.&lt;/span&gt;jackson&lt;span style="color:#999999"&gt;.&lt;/span&gt;databind&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ObjectMapper&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;lombok&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;RequiredArgsConstructor&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;core&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;core&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ClientAuthenticationMethod&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;server&lt;span style="color:#999999"&gt;.&lt;/span&gt;authorization&lt;span style="color:#999999"&gt;.&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;RegisteredClient&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;server&lt;span style="color:#999999"&gt;.&lt;/span&gt;authorization&lt;span style="color:#999999"&gt;.&lt;/span&gt;client&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;RegisteredClientRepository&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;server&lt;span style="color:#999999"&gt;.&lt;/span&gt;authorization&lt;span style="color:#999999"&gt;.&lt;/span&gt;settings&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ClientSettings&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;security&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;server&lt;span style="color:#999999"&gt;.&lt;/span&gt;authorization&lt;span style="color:#999999"&gt;.&lt;/span&gt;settings&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;TokenSettings&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;stereotype&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Component&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;org&lt;span style="color:#999999"&gt;.&lt;/span&gt;springframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ObjectUtils&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#a67f59"&gt;*&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.repository
 * @ClassName: CustomRegisteredClientRepository
 * @Description: 自定义注册客户端存储库
 * @Author: xiaLin
 * @Date: 2025/7/31 18:01
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#999999"&gt;@Component&lt;/span&gt;
&lt;span style="color:#999999"&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;class&lt;/span&gt; &lt;span&gt;CustomRegisteredClientRepository&lt;/span&gt; &lt;span style="color:#0077aa"&gt;implements&lt;/span&gt; &lt;span&gt;RegisteredClientRepository&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * OAuth2 客户端存储库
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;OAuth2ClientRepository&lt;/span&gt; oauth2ClientRepository&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * OAuth2 配置
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span style="color:#0077aa"&gt;final&lt;/span&gt; &lt;span&gt;Oauth2Config&lt;/span&gt; oauth2Config&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 保存注册的客户端
   *
   * @param registeredClient 注册的客户端
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@Override&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;void&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;save&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;RegisteredClient&lt;/span&gt; registeredClient&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    oauth2ClientRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;save&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toEntity&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;registeredClient&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 根据 ID 查找注册的客户端
   *
   * @param id 客户端 ID
   * @return 注册的客户端
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@Override&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span&gt;RegisteredClient&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;findById&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; id&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 根据 ID 查询客户端&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; oauth2ClientRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;findById&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;id&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;map&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
          &lt;span style="color:#0077aa"&gt;try&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
            &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;toRegisteredClient&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;catch&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;JsonProcessingException&lt;/span&gt; e&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
            &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;e&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#999999"&gt;}&lt;/span&gt;
        &lt;span style="color:#999999"&gt;}&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;orElse&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#0077aa"&gt;null&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 根据客户端 ID 查找注册的客户端
   *
   * @param clientId 客户端 ID
   * @return 注册的客户端
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@Override&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span&gt;RegisteredClient&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;findByClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 这是最常用的方法，根据 client_id 查询客户端&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 授权服务器在处理请求时会频繁调用此方法&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; oauth2ClientRepository&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;findByClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;map&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
          &lt;span style="color:#0077aa"&gt;try&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
            &lt;span&gt;RegisteredClient&lt;/span&gt; rc &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;toRegisteredClient&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
            &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; rc&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;catch&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;JsonProcessingException&lt;/span&gt; e&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
            &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;GlobalRuntimeException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;e&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#999999"&gt;}&lt;/span&gt;
        &lt;span style="color:#999999"&gt;}&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;orElse&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#0077aa"&gt;null&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;RegisteredClient&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;toRegisteredClient&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;ClientDetails&lt;/span&gt; entity&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#0077aa"&gt;throws&lt;/span&gt; &lt;span&gt;JsonProcessingException&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 实现从 Entity 到 RegisteredClient 的转换&lt;/span&gt;
    &lt;span&gt;ObjectMapper&lt;/span&gt; mapper &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;ObjectMapper&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 安全拆分工具：null/空白返回空流&lt;/span&gt;
    &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;function&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;Function&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;stream&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;Stream&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; safeSplit &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;str&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;str &lt;span style="color:#a67f59"&gt;==&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt; &lt;span style="color:#a67f59"&gt;||&lt;/span&gt; str&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isBlank&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;stream&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;Stream&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;empty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span&gt;Arrays&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;stream&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;str&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;split&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;StringUtils&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;COMMA&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;map&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;trim&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;filter&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;s &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; &lt;span style="color:#a67f59"&gt;!&lt;/span&gt;s&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// clientSettings / tokenSettings 允许为空，默认用空 Map&lt;/span&gt;
    &lt;span&gt;Map&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;Object&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; clientSettingsMap&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;==&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt; &lt;span style="color:#a67f59"&gt;||&lt;/span&gt; entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isBlank&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      clientSettingsMap &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;Collections&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;emptyMap&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;else&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span&gt;Map&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#a67f59"&gt;?&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#a67f59"&gt;?&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; raw &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; mapper&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;readValue&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;Map&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#0077aa"&gt;class&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      clientSettingsMap &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;HashMap&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      raw&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;forEach&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;k&lt;span style="color:#999999"&gt;,&lt;/span&gt; v&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; clientSettingsMap&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;put&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;valueOf&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;k&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; v&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span&gt;Map&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;Object&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; tokenSettingsMap&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getTokenSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;==&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt; &lt;span style="color:#a67f59"&gt;||&lt;/span&gt; entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getTokenSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isBlank&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      tokenSettingsMap &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;Collections&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;emptyMap&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt; &lt;span style="color:#0077aa"&gt;else&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      &lt;span&gt;Map&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#a67f59"&gt;?&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span style="color:#a67f59"&gt;?&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; raw &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; mapper&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;readValue&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getTokenSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; &lt;span&gt;Map&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#0077aa"&gt;class&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      tokenSettingsMap &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;HashMap&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
      raw&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;forEach&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;k&lt;span style="color:#999999"&gt;,&lt;/span&gt; v&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; tokenSettingsMap&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;put&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;valueOf&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;k&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;,&lt;/span&gt; v&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;

    &lt;span style="color:#708090"&gt;// 构建 ClientSettings：显式提供默认值，避免 NPE&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;boolean&lt;/span&gt; requireProofKey &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;false&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;Object&lt;/span&gt; rpkVal &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; clientSettingsMap&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;get&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"require_proof_key"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;rpkVal &lt;span style="color:#a67f59"&gt;!=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      requireProofKey &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;rpkVal &lt;span style="color:#0077aa"&gt;instanceof&lt;/span&gt; &lt;span&gt;Boolean&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;?&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;Boolean&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; rpkVal &lt;span style="color:#a67f59"&gt;:&lt;/span&gt; &lt;span&gt;Boolean&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;parseBoolean&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;valueOf&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;rpkVal&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;boolean&lt;/span&gt; requireAuthorizationConsent &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#990055"&gt;false&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span&gt;Object&lt;/span&gt; racVal &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; clientSettingsMap&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;get&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"require_authorization_consent"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;racVal &lt;span style="color:#a67f59"&gt;!=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
      requireAuthorizationConsent &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;racVal &lt;span style="color:#0077aa"&gt;instanceof&lt;/span&gt; &lt;span&gt;Boolean&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;?&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;Boolean&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; racVal &lt;span style="color:#a67f59"&gt;:&lt;/span&gt; &lt;span&gt;Boolean&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;parseBoolean&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;valueOf&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;racVal&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;

    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; &lt;span&gt;RegisteredClient&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;withId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;clientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// 确保数据库中的密码是加密后的&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;clientSecret&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientSecret&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;clientAuthenticationMethods&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientAuthenticationMethods &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
          &lt;span&gt;Set&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; methods &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;HashSet&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          safeSplit&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;apply&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientAuthenticationMethods&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;forEach&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;methods&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;methods&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
            &lt;span style="color:#708090"&gt;// 对于 public 客户端，允许 none 方式（授权码阶段不要求密钥）&lt;/span&gt;
            methods&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;ClientAuthenticationMethod&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;NONE&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getValue&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#999999"&gt;}&lt;/span&gt;
          methods&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;stream&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;map&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;ClientAuthenticationMethod&lt;/span&gt;&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#0077aa"&gt;new&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;forEach&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;clientAuthenticationMethods&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        &lt;span style="color:#999999"&gt;}&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;authorizationGrantTypes&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;authorizationGrantTypes &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
          &lt;span style="color:#708090"&gt;// 合并并补充授权类型，确保支持 authorization_code&lt;/span&gt;
          &lt;span&gt;Set&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; grantValues &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;HashSet&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          safeSplit&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;apply&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getAuthorizationGrantTypes&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;forEach&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;grantValues&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#a67f59"&gt;!&lt;/span&gt;grantValues&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;contains&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;AUTHORIZATION_CODE&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getValue&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
            grantValues&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;AUTHORIZATION_CODE&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getValue&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#999999"&gt;}&lt;/span&gt;
          &lt;span style="color:#708090"&gt;// 可选：若希望配合刷新令牌&lt;/span&gt;
          &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#a67f59"&gt;!&lt;/span&gt;grantValues&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;contains&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;REFRESH_TOKEN&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getValue&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
            grantValues&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#990055"&gt;REFRESH_TOKEN&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getValue&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span style="color:#999999"&gt;}&lt;/span&gt;
          grantValues&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;stream&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;map&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;AuthorizationGrantType&lt;/span&gt;&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#0077aa"&gt;new&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;forEach&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;authorizationGrantTypes&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        &lt;span style="color:#999999"&gt;}&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;redirectUris&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;redirectUris &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
          &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;List&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; list &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; safeSplit&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;apply&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getRedirectUris&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;toList&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span&gt;String&lt;/span&gt; fallback &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; oauth2Config &lt;span style="color:#a67f59"&gt;!=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt; &lt;span style="color:#a67f59"&gt;&amp;amp;&amp;amp;&lt;/span&gt; oauth2Config&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getDefaultRedirectUri&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;!=&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt;
              &lt;span style="color:#a67f59"&gt;?&lt;/span&gt; oauth2Config&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getDefaultRedirectUri&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
              &lt;span style="color:#a67f59"&gt;:&lt;/span&gt; &lt;span style="color:#669900"&gt;"https://localhost/callback"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          &lt;span&gt;String&lt;/span&gt; chosen &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; list&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#a67f59"&gt;?&lt;/span&gt; fallback &lt;span style="color:#a67f59"&gt;:&lt;/span&gt; list&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;get&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#990055"&gt;0&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
          redirectUris&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;chosen&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        &lt;span style="color:#999999"&gt;}&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;scopes&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;scopes &lt;span style="color:#a67f59"&gt;-&amp;gt;&lt;/span&gt;
            safeSplit&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;apply&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getScopes&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
                &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;forEach&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;scopes&lt;span style="color:#a67f59"&gt;::&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;add&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;clientSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;
            &lt;span&gt;ClientSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;builder&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
                &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;requireProofKey&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;requireProofKey&lt;span style="color:#999999"&gt;)&lt;/span&gt;
                &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;requireAuthorizationConsent&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;requireAuthorizationConsent&lt;span style="color:#999999"&gt;)&lt;/span&gt;
                &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;build&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;tokenSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;TokenSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;withSettings&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;tokenSettingsMap&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;build&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
        &lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;build&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 保存
   *
   * @param registeredClient 注册的
   * @return 注册的
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;ClientDetails&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;toEntity&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;RegisteredClient&lt;/span&gt; registeredClient&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// 实现从 RegisteredClient 到 Entity 的转换（用于 save 方法）&lt;/span&gt;
    &lt;span&gt;ClientDetails&lt;/span&gt; entity &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span&gt;ClientDetails&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;builder&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;build&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;registeredClient&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;registeredClient&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
    entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;setClientSecret&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;registeredClient&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;getClientSecret&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt; &lt;span style="color:#708090"&gt;// 确保已经加密&lt;/span&gt;
    &lt;span style="color:#708090"&gt;// ... 设置其他字段，将集合转换为逗号分隔的字符串&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; entity&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;6. 实体&lt;/h3&gt; 
&lt;h4&gt;1. 授权码实体&lt;/h4&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;lombok&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Data&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;LocalDateTime&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.entity
 * @ClassName: AuthorizationCode
 * @Description: 授权码实体
 * @Author: xiaLin
 * @Date: 2025/7/31 13:31
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#999999"&gt;@Data&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;class&lt;/span&gt; &lt;span&gt;AuthorizationCode&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 编码
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; code&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#708090"&gt;/**
   * 客户 ID
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#708090"&gt;/**
   * 回调地址
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; redirectUri&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 开始时间
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;LocalDateTime&lt;/span&gt; issuedAt&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 过期时间
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;LocalDateTime&lt;/span&gt; expiryAt&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 检查授权码是否过期
   *
   * @return true 如果授权码已过期，否则返回 false
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;boolean&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;isExpired&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; expiryAt&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isBefore&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;LocalDateTime&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;now&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;2. 客户端详情实体&lt;/h4&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;lombok&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Builder&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;lombok&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Data&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.entity
 * @ClassName: ClientDetails
 * @Description: 客户端详情实体
 * @Author: xiaLin
 * @Date: 2025/7/31 18:05
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#999999"&gt;@Data&lt;/span&gt;
&lt;span style="color:#999999"&gt;@Builder&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;class&lt;/span&gt; &lt;span&gt;ClientDetails&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 主键 ID
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; id&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 客户端 ID
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 客户端密钥
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; clientSecret&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 用逗号分隔的字符串存储，例如 "client_secret_basic,client_secret_post"
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; clientAuthenticationMethods&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 用逗号分隔的字符串存储，例如 "authorization_code,refresh_token,client_credentials"
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; authorizationGrantTypes&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 用逗号分隔的字符串存储，例如 "http:127.0.0.1:8080/login/oauth2/code/messaging-client-oidc,http:127.0.0.1:8080/authorized"
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; redirectUris&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 用逗号分隔的字符串存储，例如 "openid,profile,message.read,message.write"
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; scopes&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * JSON 字符串
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; clientSettings&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * JSON 字符串
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; tokenSettings&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;3. OAuth2 令牌实体&lt;/h4&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;lombok&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Data&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;time&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;LocalDateTime&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.entity
 * @ClassName: OAuth2Token
 * @Description: OAuth2 令牌实体
 * @Author: xiaLin
 * @Date: 2025/7/31 22:06
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#999999"&gt;@Data&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;class&lt;/span&gt; &lt;span&gt;OAuth2Token&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 令牌 ID
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; id&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 客户端 ID
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 用户 ID
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; userId&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 作用域
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; accessToken&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#708090"&gt;/**
   * 刷新令牌
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; refreshToken&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 令牌类型
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;LocalDateTime&lt;/span&gt; issuedAt&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#708090"&gt;/**
   * 过期时间
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;LocalDateTime&lt;/span&gt; expiration&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 状态 0-无效 1-有效
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;Integer&lt;/span&gt; status&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 检查授权码是否过期
   *
   * @return true 如果授权码已过期，否则返回 false
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;boolean&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;isExpired&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;return&lt;/span&gt; expiration&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isBefore&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;LocalDateTime&lt;/span&gt;&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;now&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;4. 令牌响应实体&lt;/h4&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;fasterxml&lt;span style="color:#999999"&gt;.&lt;/span&gt;jackson&lt;span style="color:#999999"&gt;.&lt;/span&gt;annotation&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;JsonProperty&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;lombok&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Data&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-framework
 * @Package: com.cdkjframework.oauth2.entity
 * @ClassName: TokenResponse
 * @Description: 令牌响应实体
 * @Author: xiaLin
 * @Date: 2025/8/31 15:40
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#999999"&gt;@Data&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;class&lt;/span&gt; &lt;span&gt;TokenResponse&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 访问令牌
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@JsonProperty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"access_token"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; accessToken&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#708090"&gt;/**
   * 令牌类型
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@JsonProperty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"token_type"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; tokenType &lt;span style="color:#a67f59"&gt;=&lt;/span&gt; &lt;span style="color:#669900"&gt;"Bearer"&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#708090"&gt;/**
   * 令牌过期时间，单位为秒
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@JsonProperty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"expires_in"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;Long&lt;/span&gt; expiresIn&lt;span style="color:#999999"&gt;;&lt;/span&gt;
  &lt;span style="color:#708090"&gt;/**
   * 刷新令牌
   */&lt;/span&gt;
  &lt;span style="color:#999999"&gt;@JsonProperty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"refresh_token"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;private&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; refreshToken&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;7. 提供接口&lt;/h3&gt; 
&lt;p style="color:rgba(0, 0, 0, 0.75); margin-left:0; margin-right:0; text-align:start"&gt;以下接口需要项目实现，具体可参考示例项目：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;示例项目：https://gitee.com/cdkjframework/framewiki-example/tree/master/example-oauth2&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;1. 授权码仓库&lt;/h4&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;repository&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;AuthorizationCode&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.repository
 * @ClassName: AuthorizationCodeRepository
 * @Description: 授权码仓库
 * @Author: xiaLin
 * @Date: 2025/7/31 13:30
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;interface&lt;/span&gt; &lt;span&gt;AuthorizationCodeRepository&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 根据授权码查找授权码实体
   *
   * @param code 授权码
   * @return 授权码实体
   */&lt;/span&gt;
  &lt;span&gt;AuthorizationCode&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;findByCode&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; code&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 保存授权码实体
   *
   * @param authorizationCode 授权码实体
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;void&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;save&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;AuthorizationCode&lt;/span&gt; authorizationCode&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;2. OAuth2 客户端仓库&lt;/h4&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;repository&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ClientDetails&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;List&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;java&lt;span style="color:#999999"&gt;.&lt;/span&gt;util&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Optional&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.repository
 * @ClassName: OAuth2ClientRepository
 * @Description: OAuth2 客户端仓库
 * @Author: xiaLin
 * @Date: 2025/7/31 18:02
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;interface&lt;/span&gt; &lt;span&gt;OAuth2ClientRepository&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 根据客户端 ID 查找客户端详情
   *
   * @param clientId 客户端 ID
   * @return 客户端详情
   */&lt;/span&gt;
  &lt;span&gt;Optional&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;ClientDetails&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;findByClientId&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; clientId&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 保存客户端详情
   *
   * @param clientDetails 客户端详情
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;void&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;save&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;ClientDetails&lt;/span&gt; clientDetails&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 根据 ID 查找客户端详情
   *
   * @param id 客户端 ID
   * @return 客户端详情
   */&lt;/span&gt;
  &lt;span&gt;Optional&lt;/span&gt;&lt;span&gt;&lt;span style="color:#999999"&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;ClientDetails&lt;/span&gt;&lt;span style="color:#999999"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;findById&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; id&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;3. OAuth2 令牌仓库&lt;/h4&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;repository&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#0077aa"&gt;import&lt;/span&gt; &lt;span&gt;&lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;entity&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span&gt;OAuth2Token&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * @ProjectName: wiki-oauth2
 * @Package: com.cdkjframework.oauth2.repository
 * @ClassName: OAuth2TokenRepository
 * @Description: OAuth2 令牌仓库
 * @Author: xiaLin
 * @Date: 2025/7/31 22:33
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;interface&lt;/span&gt; &lt;span&gt;OAuth2TokenRepository&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 保存 OAuth2 令牌
   *
   * @param oAuth2Token OAuth2 令牌实体
   */&lt;/span&gt;
  &lt;span style="color:#0077aa"&gt;void&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;save&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;OAuth2Token&lt;/span&gt; oAuth2Token&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

  &lt;span style="color:#708090"&gt;/**
   * 根据访问令牌查找 OAuth2 令牌
   *
   * @param refreshToken 访问令牌
   * @return OAuth2 令牌实体
   */&lt;/span&gt;
  &lt;span&gt;OAuth2Token&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;findByRefreshToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; refreshToken&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;4. OAuth2 令牌服务接口&lt;/h4&gt; 
&lt;pre&gt;&lt;code class="language-java"&gt;&lt;span style="color:#0077aa"&gt;package&lt;/span&gt; &lt;span&gt;com&lt;span style="color:#999999"&gt;.&lt;/span&gt;cdkjframework&lt;span style="color:#999999"&gt;.&lt;/span&gt;oauth2&lt;span style="color:#999999"&gt;.&lt;/span&gt;service&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;

&lt;span style="color:#708090"&gt;/**
 * OAuth2 令牌服务接口
 * 
 * @ProjectName: cdkjframework
 * @Package: com.cdkjframework.core.controller.realization
 * @ClassName: Oauth2TokenService
 * @Description: OAuth2 令牌服务接口
 * @Author: xiaLin
 * @Version: 1.0
 */&lt;/span&gt;
&lt;span style="color:#0077aa"&gt;public&lt;/span&gt; &lt;span style="color:#0077aa"&gt;interface&lt;/span&gt; &lt;span&gt;Oauth2TokenService&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;

    &lt;span style="color:#708090"&gt;/**
     * 验证令牌
     *
     * @param token 令牌
     * @throws IllegalArgumentException 如果令牌无效
     */&lt;/span&gt;
    &lt;span style="color:#0077aa"&gt;default&lt;/span&gt; &lt;span style="color:#0077aa"&gt;void&lt;/span&gt; &lt;span style="color:#dd4a68"&gt;validateToken&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt; token&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
        &lt;span style="color:#708090"&gt;// 默认实现：可以在这里添加通用的令牌验证逻辑&lt;/span&gt;
        &lt;span style="color:#0077aa"&gt;if&lt;/span&gt; &lt;span style="color:#999999"&gt;(&lt;/span&gt;token &lt;span style="color:#a67f59"&gt;==&lt;/span&gt; &lt;span style="color:#0077aa"&gt;null&lt;/span&gt; &lt;span style="color:#a67f59"&gt;||&lt;/span&gt; token&lt;span style="color:#999999"&gt;.&lt;/span&gt;&lt;span style="color:#dd4a68"&gt;isEmpty&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt; &lt;span style="color:#999999"&gt;{&lt;/span&gt;
            &lt;span style="color:#0077aa"&gt;throw&lt;/span&gt; &lt;span style="color:#0077aa"&gt;new&lt;/span&gt; &lt;span&gt;IllegalArgumentException&lt;/span&gt;&lt;span style="color:#999999"&gt;(&lt;/span&gt;&lt;span style="color:#669900"&gt;"Token cannot be null or empty"&lt;/span&gt;&lt;span style="color:#999999"&gt;)&lt;/span&gt;&lt;span style="color:#999999"&gt;;&lt;/span&gt;
        &lt;span style="color:#999999"&gt;}&lt;/span&gt;
    &lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;span style="color:#999999"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h1&gt;框架特性速览&lt;/h1&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;开箱即用：&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;10 分钟完成 OAuth2 服务搭建&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;多模式认证：&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;支持表单登录/JWT/OAuth2 混合认证&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;精细审计：&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;全链路记录授权码生成、令牌发放操作&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;跨云部署：&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;兼容 Kubernetes/阿里云/华为云等云原生环境&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h1&gt;下一版本规范&lt;/h1&gt; 
&lt;p style="color:rgba(0, 0, 0, 0.75); margin-left:0; margin-right:0; text-align:start"&gt;拟定版本：1.2.0&lt;/p&gt; 
&lt;h2&gt;OAuth2 增加功能&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;授权模式扩展：&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;支持客户端凭证模式（client_credentials）、密码模式（password）&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;监控集成：&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;实时统计令牌发放频率、授权成功率&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;配置中心&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;增加 nacos 配置中心支持&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h1&gt;获取资源与了解更多：&lt;/h1&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;官网：https://framewiki.com/wiki-framework.html&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;Gitee：https://gitee.com/cdkjframework/wiki-framework&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;Github：https://github.com/cdkjframework/wiki-framework&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;示例项目：https://gitee.com/cdkjframework/framewiki-example&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="color:rgba(0, 0, 0, 0.75); margin-left:0; margin-right:0; text-align:start"&gt;&lt;strong&gt;使用许可：&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;Wiki Framework 采用&lt;span&gt; &lt;/span&gt;&lt;strong&gt;木兰宽松许可证 (MulanPSL-2.0)&lt;/strong&gt;。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369496</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369496</guid>
      <pubDate>Tue, 19 Aug 2025 09:38:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>微语 0.9.4 发布，AI Agent 智能客服</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;企业级多租户团队协作工具，免费开源 N 件套：企业 IM、在线客服、企业知识库/帮助文档、客户之声、工单系统、AI 对话、工作流、呼叫中心、视频客服、开放平台。&lt;/p&gt; 
&lt;h2&gt;语言&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/README.md"&gt;English&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/README.zh.md"&gt;中文&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img alt="weiyu" src="https://oscimg.oschina.net/oscnet//6db31be7087087738ef7b578792ba816.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;h2&gt;管理端&lt;/h2&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img alt="chat" src="https://oscimg.oschina.net/oscnet//737fa9cc3a4f38292ee060f7527f3d9b.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;h2&gt;多渠道&lt;/h2&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img alt="channel" src="https://oscimg.oschina.net/oscnet//ca9870eba730e783461f13a46757a61e.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;h2&gt;客服端&lt;/h2&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img alt="agent" src="https://oscimg.oschina.net/oscnet//03a78b2e9eb916c3b0175f2122242c08.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;h2&gt;介绍&lt;/h2&gt; 
&lt;h3&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/modules/team/readme.zh.md"&gt;企业 IM&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;局域网即时通讯&lt;/li&gt; 
 &lt;li&gt;企业成员管理&lt;/li&gt; 
 &lt;li&gt;聊天记录监控&lt;/li&gt; 
 &lt;li&gt;...&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/modules/service/readme.zh.md"&gt;全渠道客服&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;多渠道接入&lt;/li&gt; 
 &lt;li&gt;人工客服&lt;/li&gt; 
 &lt;li&gt;客服 Agent 智能体，对接自有数据，自动执行操作&lt;/li&gt; 
 &lt;li&gt;...&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/modules/kbase/readme.zh.md"&gt;知识库&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;对接大模型&lt;/li&gt; 
 &lt;li&gt;自定义知识库&lt;/li&gt; 
 &lt;li&gt;Function Calling&lt;/li&gt; 
 &lt;li&gt;Mcp&lt;/li&gt; 
 &lt;li&gt;...&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/modules/ticket/readme.zh.md"&gt;工单系统&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;工单管理&lt;/li&gt; 
 &lt;li&gt;工单 SLA 管理&lt;/li&gt; 
 &lt;li&gt;工单统计和报表&lt;/li&gt; 
 &lt;li&gt;...&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/modules/ai/readme.zh.md"&gt;AI Agent&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;Ollama/DeepSeek/ZhipuAI/...&lt;/li&gt; 
 &lt;li&gt;智能体&lt;/li&gt; 
 &lt;li&gt;工作流&lt;/li&gt; 
 &lt;li&gt;...&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/modules/core/readme.workflow.md"&gt;工作流&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;自定义表单&lt;/li&gt; 
 &lt;li&gt;自定义流程&lt;/li&gt; 
 &lt;li&gt;工单流程可视化&lt;/li&gt; 
 &lt;li&gt;...&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/modules/voc/readme.zh.md"&gt;客户之声&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;意见反馈&lt;/li&gt; 
 &lt;li&gt;服务投诉&lt;/li&gt; 
 &lt;li&gt;问卷调查&lt;/li&gt; 
 &lt;li&gt;...&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/plugins/freeswitch/readme.zh.md"&gt;呼叫中心&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;基于 FreeSwitch 的专业呼叫平台&lt;/li&gt; 
 &lt;li&gt;支持来电弹屏、自动分配、通话录音&lt;/li&gt; 
 &lt;li&gt;数据统计，语音与文字服务无缝集成&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/plugins/webrtc/readme.zh.md"&gt;视频客服&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;基于 WebRTC 技术的高清视频通话&lt;/li&gt; 
 &lt;li&gt;支持一键视频对话与屏幕共享&lt;/li&gt; 
 &lt;li&gt;适用于需要直观展示的服务场景&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://gitee.com/270580156/weiyu/blob/main/plugins/readme.md"&gt;开放平台&lt;/a&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;提供完整的 RESTful API 接口和 SDK 工具包&lt;/li&gt; 
 &lt;li&gt;支持与第三方系统无缝集成，实现数据互通&lt;/li&gt; 
 &lt;li&gt;多语言 SDK 支持，简化开发集成流程&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;快速开始&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.weiyuai.cn%2Fdocs%2Fzh-CN%2Fdocs%2Fdeploy%2Fdocker" target="_blank"&gt;Docker 部署&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.weiyuai.cn%2Fdocs%2Fzh-CN%2Fdocs%2Fdeploy%2Fbaota" target="_blank"&gt;宝塔面板部署&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.weiyuai.cn%2Fdocs%2Fzh-CN%2Fdocs%2Fdeploy%2Fsource" target="_blank"&gt;源码启动&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;演示&lt;/h2&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;本地预览&lt;/p&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;em&gt;# 请将 127.0.0.1 替换为你的服务器 ip&lt;/em&gt;
http://127.0.0.1:9003/
&lt;em&gt;# 开放端口：9003, 9885&lt;/em&gt;
默认用户名: admin@email.com
默认密码: admin&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369394</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369394</guid>
      <pubDate>Mon, 18 Aug 2025 07:08:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>智能知识管理系统 SKC V0.1.4 发布（支持图编辑器）</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;SKC 智能知识库：专注于构建高效的知识管理和检索系统，利用 AI 技术提升信息处理效率，适用于教育、科研及企业级应用。通过大模型与知识管理的深度融合，在知识创建和检索中为用户带来智能体验。&amp;nbsp;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;V0.1.4 支持图编辑器&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;在知识创建和编辑页面对图进行创建和修改，可以绘制框图、流程、思维导图等&lt;/li&gt; 
 &lt;li&gt;在知识浏览页面加载图编辑器的只读模式&lt;/li&gt; 
 &lt;li&gt;图编辑器中支持图形的复制，字体颜色，背景颜色，边框半径，图形大小等设置，允许在图形中设置超链接在浏览时支持超链接的页面跳转。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;下图，图形编辑器&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img height="1105" src="https://oscimg.oschina.net/oscnet/up-6a1b8320d153cab581b3fae033517636c46.png" width="2237" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;下图，知识浏览模式&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img height="1039" src="https://oscimg.oschina.net/oscnet/up-7ec8b7824e520170113080e86c45be39d77.png" width="1155" referrerpolicy="no-referrer"&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369288/os-skc-0-1-4-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369288/os-skc-0-1-4-released</guid>
      <pubDate>Sun, 17 Aug 2025 12:22:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>QEMU 10.1 发布，改进 RISC-V 支持</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;QEMU 项目近日发布了 QEMU 10.1.0，这是一次重要版本更新，包含超过 2700 次提交，来自 226 位开发者的贡献。新版本重点在于虚拟化安全性、架构支持以及迁移性能的全面提升。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;主要更新亮点：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;机密虚拟化&lt;/strong&gt;：支持 Intel TDX 与 AMD SEV-SNP，能够通过 VFIO 与 &lt;code&gt;guest_memfd&lt;/code&gt; 访问受保护内存，还可直接使用 IGVM 文件启动加密虚拟机。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;迁移性能&lt;/strong&gt;：Live migration 新增 multifd 支持，加速 post-copy 与预拷贝迁移，并首次支持基于 IPv6 的 RDMA 迁移。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;ARM 架构&lt;/strong&gt;：引入多项新 CPU 特性（如 SME2、SVE2p1 等），新增多款开发板支持，并在 「virt」 板上实现嵌套虚拟化与 CXL/ACPI 热插拔。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;RISC-V 改进&lt;/strong&gt;：扩展 ISA 支持，新增 Kunminghu CPU 与 ACPI 功能。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;LoongArch 与 s390x&lt;/strong&gt;：LoongArch 增加内核 irqchip 支持，s390x 提供控制程序标识信息。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;图形与兼容性&lt;/strong&gt;：GTK 界面缩放体验更佳，SPICE GUI 支持远程 OpenGL 渲染；修复 Windows NT MIPS 版本在 Magnus 机器上的蓝屏问题。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;构建环境&lt;/strong&gt;：最低 Rust 版本要求提升至 1.77，Meson 升至 1.8.1；引入实验性 WebAssembly（WASM）构建；停止对 Debian 11 的支持。&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;QEMU 10.1 标志着虚拟化生态在，安全性、跨架构支持和迁移效率，上进一步迈进，同时也为未来在 Web 环境运行 QEMU 打下了基础。&lt;/p&gt; 
&lt;p&gt;下载地址：&lt;em&gt;https://www.qemu.org/download/&lt;/em&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369258/qemu-10-1-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369258/qemu-10-1-released</guid>
      <pubDate>Sun, 17 Aug 2025 09:20:00 GMT</pubDate>
      <author>来源: OSCHINA</author>
    </item>
    <item>
      <title>pgmoneta 0.19 发布，PostgreSQL 备份 / 恢复解决方案</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;pgmoneta 0.19 现已&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fabout%2Fnews%2Fpgmoneta-019-3124%2F" target="_blank"&gt;发布&lt;/a&gt;，具体更新内容包括：&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;strong style="color:#474747 !important"&gt;New features&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;改进的测试套件基础设施&lt;/li&gt; 
 &lt;li&gt;WAL &lt;span style="color:#000000"&gt;summarizer&lt;/span&gt;&lt;/li&gt; 
 &lt;li&gt;错误修复&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="text-align:left"&gt;&lt;strong style="color:#474747 !important"&gt;pgmoneta&lt;/strong&gt;&lt;/p&gt; 
&lt;p style="text-align:left"&gt;&lt;span style="color:#000000"&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fpgmoneta.github.io%2F" target="_blank"&gt;pgmoneta &lt;/a&gt;是适用于&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2F" target="_blank"&gt;PostgreSQL&lt;/a&gt;&amp;nbsp;13+的备份/恢复解决方案。阅读&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fpgmoneta.github.io%2Fgettingstarted.html" target="_blank"&gt;入门&lt;/a&gt;指南，根据你的备份需求配置&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fpgmoneta.github.io%2F" target="_blank"&gt;pgmoneta&lt;/a&gt;。&lt;/span&gt;&lt;/p&gt; 
&lt;p style="text-align:left"&gt;&lt;strong&gt;Features&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;完整/增量备份&lt;/li&gt; 
 &lt;li&gt;Restore&lt;/li&gt; 
 &lt;li&gt;压缩（gzip、zstd、lz4、bzip2）&lt;/li&gt; 
 &lt;li&gt;AES 加密支持&lt;/li&gt; 
 &lt;li&gt;Symlink&amp;nbsp;支持&lt;/li&gt; 
 &lt;li&gt;WAL shipping 支持&lt;/li&gt; 
 &lt;li&gt;Hot standby&lt;/li&gt; 
 &lt;li&gt;Prometheus 支持&lt;/li&gt; 
 &lt;li&gt;远程管理&lt;/li&gt; 
 &lt;li&gt;离线模式&lt;/li&gt; 
 &lt;li&gt;Transport Layer Security (TLS) v1.2+ 支持&lt;/li&gt; 
 &lt;li&gt;守护进程模式&lt;/li&gt; 
 &lt;li&gt;User vault&lt;/li&gt; 
&lt;/ul&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369247/pgmoneta-019-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369247/pgmoneta-019-released</guid>
      <pubDate>Sun, 17 Aug 2025 09:01:00 GMT</pubDate>
      <author>来源: OSCHINA</author>
    </item>
    <item>
      <title>IntelliJ IDEA 2025.1.5 发布</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;IntelliJ IDEA 2025.1.5 现已&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.jetbrains.com%2Fidea%2F2025%2F08%2Fintellij-idea-2025-1-5%2F" target="_blank"&gt;发布&lt;/a&gt;，具体更新内容包括：&lt;/p&gt; 
&lt;ul style="margin-left:0; margin-right:0"&gt; 
 &lt;li&gt;现在，当连接第二台显示器时，IDE 界面可以在 macOS 上的 Google Meet 屏幕共享期间无缝运行。[&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fyoutrack.jetbrains.com%2Fissue%2FJBR-7582" target="_blank"&gt;JBR-7582&lt;/a&gt;&amp;nbsp;]&lt;/li&gt; 
 &lt;li&gt;&lt;code&gt;UrlClassLoader.getFiles&lt;/code&gt;现在返回预期的&lt;code&gt;java.nio.file.Path&lt;/code&gt;实例，而不会与其他路径冲突。[&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fyoutrack.jetbrains.com%2Fissue%2FIJPL-187780" target="_blank"&gt;IJPL-187780&lt;/a&gt;&amp;nbsp;]&amp;nbsp;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="margin-left:0; margin-right:0; text-align:start"&gt;&lt;img height="260" src="https://oscimg.oschina.net/oscnet/up-27546b4cee3a4906c66b5db169edfb3a313.png" width="500" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p style="margin-left:0; margin-right:0; text-align:start"&gt;&lt;span style="color:#19191c"&gt;要了解有关已解决问题的更多信息，请参阅&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fyoutrack.jetbrains.com%2Farticles%2FIDEA-A-2100662490%2FIntelliJ-IDEA-2025.1.5-251.28293.22-build-Release-Notes" target="_blank"&gt;发行说明&lt;/a&gt;。&lt;/span&gt;&lt;/p&gt; 
&lt;p style="margin-left:0; margin-right:0; text-align:start"&gt;可以从 IDE 内部、通过&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.jetbrains.com%2Ftoolbox-app%2F" target="_blank"&gt;Toolbox App 或使用 Ubuntu 的 snap 包更新到此版本&lt;/a&gt;。也可以从&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.jetbrains.com%2Fidea%2Fdownload%2F" target="_blank"&gt;网站&lt;/a&gt;下载。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369230/intellij-idea-2025-1-5</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369230/intellij-idea-2025-1-5</guid>
      <pubDate>Sun, 17 Aug 2025 08:23:00 GMT</pubDate>
      <author>来源: OSCHINA</author>
    </item>
    <item>
      <title>PicList v3.0.3 发布，图床管理和上传工具，优化安装体积</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;PicList 是一款高效的云存储和图床平台管理工具，基于 PicGo 深度二次开发，提供完整的图床功能和全面的云存储管理能力，主要特点包括：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;完整保留 PicGo 所有功能，兼容大部分 PicGo 插件&lt;/li&gt; 
 &lt;li&gt;扩展了内置图床平台，如 WebDav、本地图床和 SFTP 等&lt;/li&gt; 
 &lt;li&gt;相册支持同步云端删除文件&lt;/li&gt; 
 &lt;li&gt;全面的云存储管理功能，包括文件操作、搜索和预览&lt;/li&gt; 
 &lt;li&gt;内置图像处理工具，如水印、压缩、缩放、旋转和格式转换&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;开源地址和软件官网&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;Github: &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FKuingsmile%2FPicList" target="_blank"&gt;https://github.com/Kuingsmile/PicList&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;Gitee: &lt;a href="https://gitee.com/kuingsmile/PicList"&gt;https://gitee.com/kuingsmile/PicList&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;软件官网：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fpiclist.cn" target="_blank"&gt;https://piclist.cn&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;下载地址&lt;/h2&gt; 
&lt;h4&gt;MacOS&lt;/h4&gt; 
&lt;p&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-3.0.3-arm64.dmg" target="_blank"&gt;PicList-3.0.3-arm64.dmg&lt;/a&gt; &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-3.0.3-x64.dmg" target="_blank"&gt;PicList-3.0.3-x64.dmg&lt;/a&gt;&lt;/p&gt; 
&lt;h4&gt;Windows&lt;/h4&gt; 
&lt;p&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-Setup-3.0.3-ia32.exe" target="_blank"&gt;PicList-Setup-3.0.3-ia32.exe&lt;/a&gt; &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-Setup-3.0.3-arm64.exe" target="_blank"&gt;PicList-Setup-3.0.3-arm64.exe&lt;/a&gt; &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-Setup-3.0.3-x64.exe" target="_blank"&gt;PicList-Setup-3.0.3-x64.exe&lt;/a&gt; &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-Setup-3.0.3.exe" target="_blank"&gt;PicList-Setup-3.0.3.exe&lt;/a&gt;&lt;/p&gt; 
&lt;h4&gt;Linux&lt;/h4&gt; 
&lt;p&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-3.0.3.AppImage" target="_blank"&gt;PicList-3.0.3.AppImage&lt;/a&gt; &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2Fpiclist_3.0.3_amd64.snap" target="_blank"&gt;piclist_3.0.3_amd64.snap&lt;/a&gt;&lt;/p&gt; 
&lt;h2&gt;本次更新内容&lt;/h2&gt; 
&lt;p&gt;本次更新为大版本更新，进行了重大底层架构更新和前端 UI 重写。&lt;/p&gt; 
&lt;h3&gt;✨ 新增功能&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;url 上传现在支持同时上传多个链接，使用换行分隔&lt;/li&gt; 
 &lt;li&gt;增加了从相册云端删除时的日志记录&lt;/li&gt; 
 &lt;li&gt;设置-更新页现在新增发布日志显示&lt;/li&gt; 
 &lt;li&gt;优化了打包和安装后体积，打包后缩小 20%，安装后缩小 40%&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;特色功能&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;完全兼容性&lt;/strong&gt;：适用于 Typora、Obsidian 和大多数 PicGo 插件&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;扩展平台支持&lt;/strong&gt;：新增 WebDav、兰空图床、本地图床、SFTP 等，原内置 imgur 图床额外支持账号登录上传&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;云端同步相册&lt;/strong&gt;：支持同步删除云端图片，兼容所有内置图床和多个插件&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;高级相册功能&lt;/strong&gt;：高级搜索、排序和批量 URL 修改&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;内置图像工具&lt;/strong&gt;：水印添加、图片压缩、图片缩放、图片旋转和格式转换，支持高级重命名&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;表单上传&lt;/strong&gt;：支持多电脑共享使用&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;配置同步&lt;/strong&gt;：支持配置同步至 GitHub/Gitee/Gitea 仓库和 WebDAV&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;云存储管理&lt;/strong&gt;：云端目录查看、文件搜索、批量操作等功能&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;多格式预览&lt;/strong&gt;：支持预览图片、视频、文本和 Markdown 文件（查看&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FKuingsmile%2FPicList%2Fblob%2Fdev%2Fsupported_format.md" target="_blank"&gt;支持的文件格式列表&lt;/a&gt;）&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;批量操作&lt;/strong&gt;：支持使用正则表达式批量重命名云端文件&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;链接分享&lt;/strong&gt;：为私有存储桶生成预签名链接&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;易用性改进&lt;/strong&gt;：软件自动更新、多种启动模式、界面优化等&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;软件截图&lt;/h2&gt; 
&lt;p&gt;&lt;img alt="image.png" src="https://note.msq.pub/20250814173723041.webp" referrerpolicy="no-referrer"&gt; &lt;img alt="image.png" src="https://note.msq.pub/20250814174051223.webp" referrerpolicy="no-referrer"&gt; &lt;img alt="image.png" src="https://note.msq.pub/20250814173941551.webp" referrerpolicy="no-referrer"&gt; &lt;img alt="image.png" src="https://note.msq.pub/20250814173955056.webp" referrerpolicy="no-referrer"&gt; &lt;img alt="image.png" src="https://note.msq.pub/20250814174008899.webp" referrerpolicy="no-referrer"&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369181/piclist-3-0-3-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369181/piclist-3-0-3-released</guid>
      <pubDate>Sun, 17 Aug 2025 06:25:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>Elasticsearch 9.1.3 发布</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;Elasticsearch 是一个基于 Lucene 库的搜索引擎。它提供了一个分布式、支持多租户的全文搜索引擎，具有 HTTP Web 接口和无模式 JSON 文档。Elasticsearch 基于 Java 开发，并在 SSPL + Elastic License 双重授权许可下作为开源软件发布。&lt;/p&gt; 
&lt;p&gt;Elasticsearch 9.1.3 现已&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Frelease-notes%2Felasticsearch%23elasticsearch-9.1.3-release-notes" target="_blank"&gt;发布&lt;/a&gt;，修复了潜在的安全漏洞可参阅&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdiscuss.elastic.co%2Fc%2Fannouncements%2Fsecurity-announcements%2F31" target="_blank"&gt;安全公告&lt;/a&gt;了解更多详情。更新内容包括：&lt;/p&gt; 
&lt;h4&gt;Features and enhancements&lt;/h4&gt; 
&lt;p&gt;&lt;strong&gt;Infra/REST API：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;限制 filter 的深度&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F133113" target="_blank"&gt;#133113&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;Ingest Node：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;升级到 tika 3.2.2&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F133410" target="_blank"&gt;#133410&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;Packaging：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;将捆绑的 JDK 更新至 Java 24.0.2+12&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F133119" target="_blank"&gt;#133119&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;修复&lt;/h4&gt; 
&lt;p&gt;&lt;strong&gt;Data streams：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;当数据流索引列表为空时，强制写入时翻转为 true&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F133347" target="_blank"&gt;#133347&lt;/a&gt;（issue：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F133176" target="_blank"&gt;#133176&lt;/a&gt;）&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;EQL：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;改进仅含单个子句加 UNTIL 的序列错误信息&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F132638" target="_blank"&gt;#132638&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;修复 keys 和 non-keys 的条件序列&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F133134" target="_blank"&gt;#133134&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;ES|QL：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;修复异步查询的更新过期问题&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F133021" target="_blank"&gt;#133021&lt;/a&gt;（issue：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F130619" target="_blank"&gt;#130619&lt;/a&gt;）&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;Ingest Node：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;将 GeoIpCache 和 EnrichCache 更改为 LongAdder&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F132922" target="_blank"&gt;#132922&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;License：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;限制功能上次使用时间更新的频率&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F133004" target="_blank"&gt;#133004&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;Machine Learning：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;禁用流任务的子跨度&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F132945" target="_blank"&gt;#132945&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;改进 EIS 授权调用日志并修复撤销错误&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F132546" target="_blank"&gt;#132546&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;在节点推断操作中保留丢失的线程上下文。如果启用了 APM 跟踪，丢失的上下文会导致内存泄漏&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F132973" target="_blank"&gt;#132973&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;将 EIS 稀疏/稠密嵌入的最大批量大小更新为 16&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F132646" target="_blank"&gt;#132646&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;[EIS] 重命名 elser 2 默认模型和默认推理端点&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F130336" target="_blank"&gt;#130336&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;Search：&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;底部文档无法格式化时不导致搜索失败&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F133188" target="_blank"&gt;#133188&lt;/a&gt;（issue：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F125321" target="_blank"&gt;#125321&lt;/a&gt;）&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;详情可&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Frelease-notes%2Felasticsearch%23elasticsearch-9.1.3-release-notes" target="_blank"&gt;查看更新说明&lt;/a&gt;。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369180/elasticsearch-9-1-3-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369180/elasticsearch-9-1-3-released</guid>
      <pubDate>Sun, 17 Aug 2025 06:25:00 GMT</pubDate>
      <author>来源: OSCHINA</author>
    </item>
    <item>
      <title>数据可视化引擎 G2 v5.4.0 发布</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;&lt;span style="color:#000000"&gt;数据可视化引擎&amp;nbsp;G2 v5.4.0 版本现已发布，具体更新内容包括：&lt;/span&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;feat：geoView 的子节点继承数据&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7037" target="_blank"&gt;#7037&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;docs：答疑问题整理，文档修改补充示例&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7042" target="_blank"&gt;#7042&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;docs：&lt;span style="color:#1f2328"&gt;添加图例项弹出提示的文档&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7044" target="_blank"&gt;#7044&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;Revert "fix：多轴图使用滚动条后会导致折线点位错乱"&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7048" target="_blank"&gt;#7048&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;docs&lt;span style="color:#1f2328"&gt;：添加 &lt;/span&gt;overallconfig&amp;nbsp;&lt;span style="color:#1f2328"&gt;并修复文档问题&lt;/span&gt;&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7049" target="_blank"&gt;#7049&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;docs&lt;span style="color:#1f2328"&gt;：修复用户文档&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7050" target="_blank"&gt;#7050&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;fix：修复 scrollbar init &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7051" target="_blank"&gt;#7051&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;fix：&lt;span style="color:#1f2328"&gt;使用滑块时，exceedAdjust 不起作用&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7047" target="_blank"&gt;#7047&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;docs&lt;span style="color:#1f2328"&gt;：添加介绍&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7056" target="_blank"&gt;#7056&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;doc&lt;span style="color:#1f2328"&gt;：添加图表介绍&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7078" target="_blank"&gt;#7078&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;feat&lt;span style="color:#1f2328"&gt;：为 &lt;/span&gt;Mark interval &lt;span style="color:#1f2328"&gt;添加空工具提示&lt;/span&gt;&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7071" target="_blank"&gt;#7071&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;fix：&lt;span style="color:#1f2328"&gt;调整大小导致工具提示失败&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7074" target="_blank"&gt;#7074&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;fix：&lt;span style="color:#1f2328"&gt;当带宽不相等时工具提示拾取错误&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7075" target="_blank"&gt;#7075&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;fix：&lt;span style="color:#1f2328"&gt;工具提示数据 x 错误&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7076" target="_blank"&gt;#7076&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;fix：开启 scrollbar 组件，出现间距问题&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7072" target="_blank"&gt;#7072&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;fix：sankey change data&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7086" target="_blank"&gt;#7086&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;docs&lt;span style="color:#1f2328"&gt;：添加&lt;/span&gt;&amp;nbsp;getDataByXY API by&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Flxfu1" target="_blank"&gt;@lxfu1&lt;/a&gt;&amp;nbsp;in&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7087" target="_blank"&gt;#7087&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;fix：snapshots&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7090" target="_blank"&gt;#7090&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;feat：tickLength 支持回调函数配置，添加单测&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7089" target="_blank"&gt;#7089&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;fix：&lt;span style="color:#1f2328"&gt;双击图例时渲染错误&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F6767" target="_blank"&gt;#6767&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;feat：&lt;span style="color:#1f2328"&gt;添加损坏的 axisY 函数&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7079" target="_blank"&gt;#7079&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;fix：heatmap 自定义的 tooltip items 被覆盖，无法在 render 中自定义&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7095" target="_blank"&gt;#7095&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;feat&lt;span style="color:#1f2328"&gt;：添加双击关闭&lt;/span&gt;&amp;nbsp;function &amp;amp; limit breaks range&amp;nbsp;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Fpull%2F7102" target="_blank"&gt;#7102&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;更多详情可查看发布说明：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantvis%2FG2%2Freleases%2Ftag%2F5.4.0" target="_blank"&gt;https://github.com/antvis/G2/releases/tag/5.4.0&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369171/g2-5-4-0-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369171/g2-5-4-0-released</guid>
      <pubDate>Sun, 17 Aug 2025 05:42:00 GMT</pubDate>
      <author>来源: OSCHINA</author>
    </item>
    <item>
      <title>🔥MakuGenerator 3.2：超好用的代码生成器</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;h2&gt;介绍&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;span style="background-color:#ffffff; color:#40485b"&gt;maku-generator 是一款低代码生成器，可根据自定义模板内容，快速生成代码，可实现项目的快速开发、上线，减少重复的代码编写，开发人员只需专注业务逻辑即可。&lt;/span&gt;&lt;/li&gt; 
 &lt;li&gt;仓库地址：&lt;a href="https://gitee.com/makunet/maku-generator"&gt;https://gitee.com/makunet/maku-generator&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;开发文档：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmaku.net%2Fdocs%2Fmaku-generator" target="_blank"&gt;https://maku.net/docs/maku-generator&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;演示环境：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdemo.maku.net" target="_blank"&gt;https://demo.maku.net&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;更新日志&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;新增导入表时，根据表名进行查询&lt;/li&gt; 
 &lt;li&gt;修复了查询条件生成失败的问题&lt;/li&gt; 
 &lt;li&gt;修复 logback 配置警告问题&lt;/li&gt; 
 &lt;li&gt;升级 springboot 到 3.5.5 版本&lt;/li&gt; 
 &lt;li&gt;升级 mybatis-plus 到 3.5.12 版本&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;项目特点&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;友好的代码结构及注释，便于阅读及二次开发&lt;/li&gt; 
 &lt;li&gt;支持 spring boot starter，能很方便集成到第三方项目&lt;/li&gt; 
 &lt;li&gt;支持通过配置数据源，快速生成 CRUD 代码，减少重复工作&lt;/li&gt; 
 &lt;li&gt;支持 MySQL、Oracle、SQLServer、PostgreSQL、达梦 8、人大金仓，等主流的数据库&lt;/li&gt; 
 &lt;li&gt;支持第三方 Java 项目包名修改，修改包名变得简单快速&lt;/li&gt; 
 &lt;li&gt;支持批量导入表、批量生成代码以及同步表结构等功能&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;更多开源&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;低代码开发平台（单体版）：&lt;a href="https://gitee.com/makunet/maku-boot"&gt;https://gitee.com/makunet/maku-boot&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;低代码开发平台（微服务）：&lt;a href="https://gitee.com/makunet/maku-cloud"&gt;https://gitee.com/makunet/maku-cloud&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;超好用的代码生成器：&lt;a href="https://gitee.com/makunet/maku-generator"&gt;https://gitee.com/makunet/maku-generator&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;Vue3.x 后台管理 UI：&lt;a href="https://gitee.com/makunet/maku-admin"&gt;https://gitee.com/makunet/maku-admin&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;微信小程序：&lt;a href="https://gitee.com/makunet/maku-app"&gt;https://gitee.com/makunet/maku-app&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;效果图&lt;/h2&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet/up-9fb484bedcf801f74329fa221ab289c3169.jpg" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img alt="" height="1449" src="https://oscimg.oschina.net/oscnet/up-2422e1a0408ecb4ab048b25df12d9516fe1.png" width="2812" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img alt="" height="1772" src="https://oscimg.oschina.net/oscnet/up-6d750c130d94882e2309bb56a3270fc02e3.png" width="3456" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet/up-6e6607d4a42c2a8525066a839d69b863aa6.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet/up-6d22d40c066170ae02f819012851de3e221.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369167</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369167</guid>
      <pubDate>Sun, 17 Aug 2025 04:54:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>OpenAI 重组或将推迟至明年，与微软谈判陷入关键分歧</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.ft.com%2Fcontent%2Fb81d5fb6-26e9-417a-a0cc-6b6689b70c98" target="_blank"&gt;据媒体报道&lt;/a&gt;，OpenAI 正与其最大金主——微软进行复杂谈判，准备修改一份原本持续到 2030 年的商业合同。如果能达成协议，OpenAI 将能推进其重组计划，让投资者可以直接持有 OpenAI 的股权。&lt;/p&gt; 
&lt;p&gt;OpenAI 这次的公司重组，目的是让投资者从「利润分享模式」转为「持股模式」，为未来上市铺路。但这必须先解决与微软的旧协议。&lt;/p&gt; 
&lt;p&gt;知情人士透露，双方在一些关键问题上仍有分歧，包括微软对 OpenAI 的 API 的访问权，以及微软未来对 OpenAI 知识产权的访问权等。这些分歧可能导致谈判延迟到今年 12 月 31 日之后。如果年内谈不拢，软银可能有权取消其承诺的 100 亿美元投资，OpenAI 其他融资也会受阻。&lt;/p&gt; 
&lt;p&gt;作为 OpenAI 最大的投资方和技术合作伙伴，微软与其签订的旧合同（持续至 2030 年）如今已成为阻碍 OpenAI 进一步融资和准备 IPO 的最大障碍。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369143</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369143</guid>
      <pubDate>Sun, 17 Aug 2025 02:55:00 GMT</pubDate>
      <author>来源: OSCHINA</author>
    </item>
    <item>
      <title>🔥Oinone 赋能开发：集成自动化接口测试，提升软件质量与效率​</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;Oinone 产品化架构&lt;span&gt;&lt;span style="color:rgba(0, 0, 0, 0.9)"&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;span&gt;&lt;span style="color:#035dff"&gt;&lt;strong&gt;上层承接客户差异化与行业特性，中层直面市场的标准业务产品，底层沉淀通用能力与标准，确保迭代稳定&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;。通过将需求拆解为模块与扩展包，实现标准化与个性化在同一框架内协同；依托低&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span style="color:rgba(0, 0, 0, 0.9)"&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;/&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span style="color:rgba(0, 0, 0, 0.9)"&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;无代码一体化、&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span style="color:rgba(0, 0, 0, 0.9)"&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;「&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span style="color:rgba(0, 0, 0, 0.9)"&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;被集成&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span style="color:rgba(0, 0, 0, 0.9)"&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;」&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span style="color:rgba(0, 0, 0, 0.9)"&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;原则及国产化全栈支持，保障生态适配与持续演进。现场演示中，标准产品与个性化需求都能快速落地，开发到上线全程在统一规范下完成。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;Oinone demo 体验&lt;/p&gt; 
&lt;table cellspacing="0" style="-webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&amp;quot;system-ui&amp;quot;,&amp;quot;Segoe UI&amp;quot;,Helvetica,Arial,&amp;quot;Apple Color Emoji&amp;quot;,&amp;quot;Segoe UI Emoji&amp;quot;,&amp;quot;Segoe UI Symbol&amp;quot;,&amp;quot;Liberation Sans&amp;quot;,&amp;quot;PingFang SC&amp;quot;,&amp;quot;Microsoft YaHei&amp;quot;,&amp;quot;Hiragino Sans GB&amp;quot;,&amp;quot;Wenquanyi Micro Hei&amp;quot;,&amp;quot;WenQuanYi Zen Hei&amp;quot;,&amp;quot;ST Heiti&amp;quot;,SimHei,SimSun,&amp;quot;WenQuanYi Zen Hei Sharp&amp;quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; width:856px; word-break:initial; word-spacing:0px"&gt; 
 &lt;tbody&gt; 
  &lt;tr&gt; 
   &lt;th&gt;演示环境&lt;/th&gt; 
   &lt;th&gt;相关视频&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt; 
 &lt;tbody&gt; 
  &lt;tr&gt; 
   &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px; vertical-align:revert !important"&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fdemo.oinone.top" target="_blank"&gt;⚡ 直达演示环境&lt;/a&gt;&lt;br&gt; ☕ 账号：admin&lt;br&gt; ☕ 密码：admin&lt;/td&gt; 
   &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px; vertical-align:revert !important"&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1eDMizYEts%2F%3Fvd_source%3Dee004011d0afa992f50d15c8738450b3" target="_blank"&gt;🎬 1. [数式 Oinone] #产品化演示# 后端研发与无代码辅助&lt;/a&gt;&lt;br&gt; &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1DoMizbECt%2F%3Fvd_source%3Dee004011d0afa992f50d15c8738450b3" target="_blank"&gt;🎬 2. [数式 Oinone] #产品化演示# 前端开发&lt;/a&gt;&lt;br&gt; &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RDMizYELg%2F%3Fvd_source%3Dee004011d0afa992f50d15c8738450b3" target="_blank"&gt;🎬 3. [数式 Oinone] #个性化二开# 后端逻辑&lt;/a&gt;&lt;br&gt; &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1eDMizYED1%2F%3Fvd_source%3Dee004011d0afa992f50d15c8738450b3" target="_blank"&gt;🎬 4. [数式 Oinone] #个性化二开# 前端交互&lt;/a&gt;&lt;br&gt; &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1eDMizYEdF%2F%3Fvd_source%3Dee004011d0afa992f50d15c8738450b3" target="_blank"&gt;🎬 5. [数式 Oinone] #个性化二开# 无代码模式&lt;/a&gt;&lt;/p&gt; &lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;div&gt; 
 &lt;h1&gt;1.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;功能介绍&lt;/span&gt;&lt;/h1&gt; 
 &lt;p style="margin-left:0; margin-right:0"&gt;&lt;span&gt;以往用户在连接器中配置接口后，还需要借助，数据流程、 Postman、curl 等外部工具进行验证，操作割裂且效率不高。现在，我们将&lt;span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Ftag%2F%25e6%258e%25a5%25e5%258f%25a3%25e6%25b5%258b%25e8%25af%2595" target="_blank"&gt;接口测试&lt;/a&gt;&lt;/span&gt;功能直接集成到平台中，实现一站式的开发与调试体验。&lt;/span&gt;&lt;/p&gt; 
 &lt;h1&gt;2.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;操作方法&lt;/span&gt;&lt;/h1&gt; 
 &lt;h2&gt;一、&lt;span&gt;API：&lt;/span&gt;&lt;/h2&gt; 
 &lt;h3&gt;(一)&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;使用方法举例&lt;/span&gt;&lt;/h3&gt; 
 &lt;p style="margin-left:0; margin-right:0"&gt;&lt;span&gt;以下以&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;钉钉开放平台-创建用户接口&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;为例，展示接口&lt;span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Ftag%2F%25e6%25b5%258b%25e8%25af%2595" target="_blank"&gt;测试&lt;/a&gt;&lt;/span&gt;的使用流程。&lt;/span&gt;&lt;/p&gt; 
 &lt;h4&gt;1.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;获取接口信息&lt;/span&gt;&lt;/h4&gt; 
 &lt;p style="margin-left:0; margin-right:0"&gt;&lt;span&gt;在钉钉开放平台中，我们可以了解到该接口的相关信息：&lt;/span&gt;&lt;/p&gt; 
 &lt;ul&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;请求方式&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：POST&lt;/span&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;请求地址&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：&lt;/span&gt;&lt;code&gt;&lt;span&gt;https://oapi.dingtalk.com/topapi/v2/user/create&lt;/span&gt;&lt;/code&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;&lt;span&gt;Query 参数&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
 &lt;pre&gt;&amp;nbsp;&lt;/pre&gt; 
 &lt;div&gt; 
  &lt;div&gt; 
   &lt;div&gt;
    &amp;nbsp;
   &lt;/div&gt; 
  &lt;/div&gt; 
  &lt;div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#777777"&gt;{&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#f1436e"&gt;"access_token"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;: &lt;/span&gt;
     &lt;span style="color:#f1436e"&gt;"d13ad96bbfd73d61a737ed2673e6bfa9"&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#777777"&gt;}&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
  &lt;/div&gt; 
  &lt;div&gt; 
   &lt;div&gt;
    generic
   &lt;/div&gt; 
   &lt;div&gt;
    56 Bytes
   &lt;/div&gt; 
   &lt;div&gt;
    © Oinone 社区
   &lt;/div&gt; 
  &lt;/div&gt; 
 &lt;/div&gt; 
 &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;&lt;span&gt;Body 参数&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
 &lt;pre&gt;&amp;nbsp;&lt;/pre&gt; 
 &lt;div&gt; 
  &lt;div&gt; 
   &lt;div&gt;
    &amp;nbsp;
   &lt;/div&gt; 
  &lt;/div&gt; 
  &lt;div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#777777"&gt;{&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#f1436e"&gt;"userid"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;: &lt;/span&gt;
     &lt;span style="color:#f1436e"&gt;"002"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;,&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#f1436e"&gt;"name"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;: &lt;/span&gt;
     &lt;span style="color:#f1436e"&gt;"小钉"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;,&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#f1436e"&gt;"mobile"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;: &lt;/span&gt;
     &lt;span style="color:#f1436e"&gt;"18546673752"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;,&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#f1436e"&gt;"title"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;: &lt;/span&gt;
     &lt;span style="color:#f1436e"&gt;"教职人员"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;,&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#f1436e"&gt;"job_number"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;: &lt;/span&gt;
     &lt;span style="color:#f1436e"&gt;"100828"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;,&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#f1436e"&gt;"work_place"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;: &lt;/span&gt;
     &lt;span style="color:#f1436e"&gt;"未来 park"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;,&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#f1436e"&gt;"senior_mode"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;: &lt;/span&gt;
     &lt;span style="color:#f1436e"&gt;"false"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;,&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#f1436e"&gt;"dept_id_list"&lt;/span&gt;
     &lt;span style="color:#555555"&gt;: &lt;/span&gt;
     &lt;span style="color:#f1436e"&gt;"1"&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;div&gt;
     &lt;span style="color:#777777"&gt;}&lt;/span&gt;
    &lt;/div&gt; 
   &lt;/div&gt; 
  &lt;/div&gt; 
  &lt;div&gt; 
   &lt;div&gt;
    generic
   &lt;/div&gt; 
   &lt;div&gt;
    184 Bytes
   &lt;/div&gt; 
   &lt;div&gt;
    © Oinone 社区
   &lt;/div&gt; 
  &lt;/div&gt; 
 &lt;/div&gt; 
 &lt;h4&gt;2.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;在我们平台中操作：&lt;/span&gt;&lt;/h4&gt; 
 &lt;ol&gt; 
  &lt;li&gt;&lt;span&gt;进入&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;连接器&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;，新增一个【创建用户】 API 接口。&lt;/span&gt;&lt;/li&gt; 
 &lt;/ol&gt; 
 &lt;p style="margin-left:0; margin-right:0"&gt;创建 API 并非必需操作，若平台中已有可用 API，可直接在其上执行测试&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Fwp-content%2Fuploads%2F2025%2F08%2F2025082608525680.png" target="_blank"&gt;&lt;img alt="2025082608525680" height="2156" src="https://oscimg.oschina.net/oscnet//53a706474c1b5b779ca27ef0140176f4.png" width="3840" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/p&gt; 
 &lt;ol&gt; 
  &lt;li&gt;&lt;span&gt;创建完成后，在操作栏中点击&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;测试&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Fwp-content%2Fuploads%2F2025%2F08%2F2025082608530065.png" target="_blank"&gt;&lt;img alt="2025082608530065" height="2156" src="https://oscimg.oschina.net/oscnet//53c7d51f46824bf00dbf2f7ea704939f.png" width="3840" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;span&gt;将上一步获取到的请求方式、地址、参数信息填写到对应位置。&lt;/span&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;span&gt;点击&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;测试&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;按钮，即可立即验证接口是否正常工作。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Fwp-content%2Fuploads%2F2025%2F08%2F2025082608530349.png" target="_blank"&gt;&lt;img alt="2025082608530349" height="2156" src="https://oscimg.oschina.net/oscnet//cfd9b499076dd98d28097ea1c657c2e9.png" width="3840" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt; 
 &lt;/ol&gt; 
 &lt;h2&gt;二、&lt;span&gt;WebService&lt;/span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/h2&gt; 
 &lt;h3&gt;(一)&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;使用方法举例&lt;/span&gt;&lt;/h3&gt; 
 &lt;p style="margin-left:0; margin-right:0"&gt;&lt;span&gt;以下以&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fwww.webxml.com.cn%2FWebServices%2FWeatherWebService.asmx%3Fop%3DgetSupportCity" target="_blank"&gt;&lt;span&gt;WebService 天气查询接口&lt;/span&gt;&lt;/a&gt;&lt;span&gt;为例，展示接口测试的使用流程。&lt;/span&gt;&lt;/p&gt; 
 &lt;h4&gt;1.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;获取接口信息&lt;/span&gt;&lt;/h4&gt; 
 &lt;ul&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;方法&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：&lt;/span&gt;&lt;code&gt;&lt;span&gt;getSupportCity&lt;/span&gt;&lt;/code&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;功能&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：查询支持的国内外城市信息。&lt;/span&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;输入参数&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：&lt;/span&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;ul&gt; 
  &lt;li&gt; 
   &lt;ul&gt; 
    &lt;li&gt;&lt;code&gt;&lt;span&gt;byProvinceName&lt;/span&gt;&lt;/code&gt;&lt;span&gt;：指定的省份，传入&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;code&gt;&lt;span&gt;ALL&lt;/span&gt;&lt;/code&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;或为空时返回全部城市。&lt;/span&gt;&lt;/li&gt; 
   &lt;/ul&gt; &lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;ul&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;返回结果&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：&lt;/span&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;ul&gt; 
  &lt;li&gt; 
   &lt;ul&gt; 
    &lt;li&gt;&lt;span&gt;一维字符串数组&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;code&gt;&lt;span&gt;String[]&lt;/span&gt;&lt;/code&gt;&lt;span&gt;，内容为&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;code&gt;&lt;span&gt;城市名称 (城市代码)&lt;/span&gt;&lt;/code&gt;&lt;span&gt;。&lt;/span&gt;&lt;/li&gt; 
   &lt;/ul&gt; &lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;h4&gt;2.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;常用调用方式&lt;/span&gt;&lt;/h4&gt; 
 &lt;pre&gt;POST /WebServices/WeatherWebService.asmx HTTP/1.1
Host: www.webxml.com.cn
Content-Type: text/xml; charset=utf-8
SOAPAction: "http://WebXml.com.cn/getSupportCity"

&amp;lt;?xml version="1.0" encoding="utf-8"?&amp;gt;
&amp;lt;soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
               xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
               xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"&amp;gt;
  &amp;lt;soap:Body&amp;gt;
    &amp;lt;getSupportCity xmlns="http://WebXml.com.cn/"&amp;gt;
      &amp;lt;byProvinceName&amp;gt;北京&amp;lt;/byProvinceName&amp;gt;
    &amp;lt;/getSupportCity&amp;gt;
  &amp;lt;/soap:Body&amp;gt;
&amp;lt;/soap:Envelope&amp;gt;
&lt;/pre&gt; 
 &lt;pre&gt;GET /WebServices/WeatherWebService.asmx/getSupportCity?byProvinceName=北京 HTTP/1.1
Host: www.webxml.com.cn
&lt;/pre&gt; 
 &lt;pre&gt;&amp;lt;ArrayOfString xmlns="http://WebXml.com.cn/"&amp;gt;
  &amp;lt;string&amp;gt;北京 (101010100)&amp;lt;/string&amp;gt;
  &amp;lt;string&amp;gt;昌平 (101010700)&amp;lt;/string&amp;gt;
&amp;lt;/ArrayOfString&amp;gt;
&lt;/pre&gt; 
 &lt;h4&gt;3.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;在我们平台中操作：&lt;/span&gt;&lt;/h4&gt; 
 &lt;ol&gt; 
  &lt;li&gt;&lt;span&gt;进入&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;连接器&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;，新增一个【查询天气】 API 接口。&lt;/span&gt;&lt;/span&gt; &lt;p style="margin-left:0; margin-right:0; text-align:left"&gt;&lt;span&gt;创建 WebService 并非必需操作，若平台中已有可用 API，可直接在其上执行测试。&lt;/span&gt;&lt;span style="color:#262626"&gt;如果方法名已经能够在请求参数位置正确解析，则无需再额外添加&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;code&gt;&lt;span&gt;op=方法名&lt;/span&gt;&lt;/code&gt;&lt;span style="color:#262626"&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;参数。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Fwp-content%2Fuploads%2F2025%2F08%2F2025082702551713.png" target="_blank"&gt;&lt;img alt="2025082702551713" height="2156" src="https://oscimg.oschina.net/oscnet//ee1c40a432ce32377b69607ceff69401.png" width="3840" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; &lt;/li&gt; 
  &lt;li&gt;&lt;span&gt;创建完成后，在操作栏中点击，测试。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Fwp-content%2Fuploads%2F2025%2F08%2F2025082702552085.png" target="_blank"&gt;&lt;img alt="2025082702552085" height="2156" src="https://oscimg.oschina.net/oscnet//1aac196e84694458ac0655c16b4b269c.png" width="3840" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;span&gt;将上一步获取到的请求方式、地址、参数信息填写到对应位置。&lt;/span&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;span&gt;点击，测试，按钮，即可立即验证接口是否正常工作。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Fwp-content%2Fuploads%2F2025%2F08%2F2025082702552426.png" target="_blank"&gt;&lt;img alt="2025082702552426" height="2156" src="https://oscimg.oschina.net/oscnet//edf8f4ff03626e067f362bb06eae63fb.png" width="3840" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt; 
 &lt;/ol&gt; 
 &lt;h2&gt;三、&lt;span&gt;数据库：&lt;/span&gt;&lt;/h2&gt; 
 &lt;h3&gt;(一)&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;使用方法举例：数据库查询接口&lt;/span&gt;&lt;/h3&gt; 
 &lt;p style="margin-left:0; margin-right:0"&gt;&lt;span&gt;以下以&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;数据库查询接口&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;为例，展示在 Oinone 平台中如何进行接口测试。&lt;/span&gt;&lt;/p&gt; 
 &lt;h4&gt;1.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;获取接口信息&lt;/span&gt;&lt;/h4&gt; 
 &lt;ul&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;操作类型&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：SQL 查询&lt;/span&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;功能&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：根据指定的&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;code&gt;&lt;span&gt;id&lt;/span&gt;&lt;/code&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;查询学生信息。&lt;/span&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;输入参数&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：&lt;/span&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;ul&gt; 
  &lt;li&gt; 
   &lt;ul&gt; 
    &lt;li&gt;&lt;code&gt;&lt;span&gt;id&lt;/span&gt;&lt;/code&gt;&lt;span&gt;：学生编号（必填）。&lt;/span&gt;&lt;/li&gt; 
   &lt;/ul&gt; &lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;ul&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;SQL 语句&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：&lt;/span&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;pre&gt;select name,
       code,
       gender,
       age,
       create_time,
       enu,
       is_off
  from xs.test
 where id = {id};
&lt;/pre&gt; 
 &lt;ul&gt; 
  &lt;li&gt;&lt;strong&gt;&lt;span&gt;返回结果&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：&lt;/span&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;ul&gt; 
  &lt;li&gt; 
   &lt;ul&gt; 
    &lt;li&gt;&lt;span&gt;表格数据，包含&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;code&gt;&lt;span&gt;name, code, gender, age, create_time, enu, is_off&lt;/span&gt;&lt;/code&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;等字段。&lt;/span&gt;&lt;/li&gt; 
   &lt;/ul&gt; &lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;h4&gt;2.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;在我们平台中操作：&lt;/span&gt;&lt;/h4&gt; 
 &lt;ol&gt; 
  &lt;li&gt;&lt;span&gt;进入&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;连接器&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;，新增一个【查询学生信息】数据库 API 接口。&lt;/span&gt;&lt;/li&gt; 
 &lt;/ol&gt; 
 &lt;p style="margin-left:0; margin-right:0"&gt;&lt;span&gt;创建 API 并非必需操作，若平台中已有可用的数据库 API，可直接在其上执行测试。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Fwp-content%2Fuploads%2F2025%2F08%2F2025082702552721.png" target="_blank"&gt;&lt;img alt="2025082702552721" height="2156" src="https://oscimg.oschina.net/oscnet//d45c8b9fdfba366c79365e88e6d74cf3.png" width="3840" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; 
 &lt;ol&gt; 
  &lt;li&gt;&lt;span&gt;创建完成后，在操作栏中点击&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;测试&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Fwp-content%2Fuploads%2F2025%2F08%2F2025082702553167.png" target="_blank"&gt;&lt;img alt="2025082702553167" height="2156" src="https://oscimg.oschina.net/oscnet//ac59d1880ae9748e47662837cad7e2a7.png" width="3840" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;span&gt;将上一步获取到的 SQL 语句与参数（如&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;code&gt;&lt;span&gt;id=1&lt;/span&gt;&lt;/code&gt;&lt;span&gt;）填写到对应位置。&lt;/span&gt;&lt;/li&gt; 
  &lt;li&gt;&lt;span&gt;点击&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;测试&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;按钮，即可立即验证查询结果是否正常返回。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Fwp-content%2Fuploads%2F2025%2F08%2F2025082702553469.png" target="_blank"&gt;&lt;img alt="2025082702553469" height="2156" src="https://oscimg.oschina.net/oscnet//1c40bf5a7288e0912abdfc0479a39a2d.png" width="3840" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt; 
 &lt;/ol&gt; 
 &lt;p style="margin-left:0; margin-right:0"&gt;&lt;span&gt;这样，用户无需跳转到外部工具，即可在 Oinone 内快速完成接口的配置与调试，提升了集成效率与体验。&lt;/span&gt;&lt;br&gt; &lt;span&gt;除此之外，无论是 API 还是数据库接口，都可以在【集成应用 →&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Ftag%2F%25e9%259b%2586%25e6%2588%2590%25e6%258e%25a5%25e5%258f%25a3" target="_blank"&gt;集成接口&lt;/a&gt;&lt;/span&gt;】中直接进行测试，从而实现接口调试与应用集成的无缝衔接。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdoc.oinone.top%2Fwp-content%2Fuploads%2F2025%2F08%2F2025082608530752.png" target="_blank"&gt;&lt;img alt="2025082608530752" height="2156" src="https://oscimg.oschina.net/oscnet//0e2dc42f10ac9b09f5212b40dfbd9bb8.png" width="3840" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;/div&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369138</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369138</guid>
      <pubDate>Sun, 17 Aug 2025 02:49:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>Electron 37.4.0 发布，跨平台桌面应用开发工具</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;&lt;span style="color:#000000"&gt;Electron 是一个使用 JavaScript、HTML 和 CSS 构建跨平台的桌面应用程序。它基于 Node.js 和 Chromium，被 Atom 编辑器和许多其他应用程序使用。Electron 兼容 Mac、Windows 和 Linux，可以构建出三个平台的应用程序。&lt;/span&gt;&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;span style="color:#000000"&gt;Electron v37.4.0 现已发布，一些更新内容如下：&lt;/span&gt;&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:start"&gt;&lt;strong&gt;&lt;span style="color:#1f2328"&gt;特性&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;添加&lt;code&gt;tray.{get|set}AutosaveName&lt;/code&gt;功能以使 macOS 托盘图标能够在启动过程中保持位置不变。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felectron%2Felectron%2Fpull%2F48076" target="_blank"&gt;#48076&amp;nbsp;&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="text-align:start"&gt;&lt;strong&gt;&lt;span style="color:#1f2328"&gt;修复&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;修复了&lt;code&gt;net.isOnline()&lt;/code&gt;在 utilityProcesses 中始终返回&lt;code&gt;true&lt;/code&gt;的问题。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felectron%2Felectron%2Fpull%2F48152" target="_blank"&gt;#48152&amp;nbsp;&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;修复了最小化后恢复窗口时，snapped corner 无法正确恢复的问题。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felectron%2Felectron%2Fpull%2F48156" target="_blank"&gt;#48156&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;修复了将强调色设置为与系统颜色匹配时会意外反转的问题。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felectron%2Felectron%2Fpull%2F48107" target="_blank"&gt;#48107&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="text-align:start"&gt;&lt;strong&gt;&lt;span style="color:#1f2328"&gt;其他变化&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;将 Chromium 更新至 138.0.7204.243。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felectron%2Felectron%2Fpull%2F48119" target="_blank"&gt;#48119&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;更新说明：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felectron%2Felectron%2Freleases%2Ftag%2Fv37.4.0" target="_blank"&gt;https://github.com/electron/electron/releases/tag/v37.4.0&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369123/electron-37-4-0-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369123/electron-37-4-0-released</guid>
      <pubDate>Sun, 17 Aug 2025 02:20:00 GMT</pubDate>
      <author>来源: OSCHINA</author>
    </item>
    <item>
      <title>yylAdminWeb v4.0 已经发布，基于 Vue2 极简后台管理系统</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;yylAdminWeb v4.0 已经发布，基于 Vue2 极简后台管理系统&lt;/p&gt; 
&lt;p&gt;此版本更新内容包括：&lt;/p&gt; 
&lt;h2&gt;更新内容&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;本地预览命令；升级依赖&lt;/li&gt; 
 &lt;li&gt;修复：测试环境文件&lt;/li&gt; 
 &lt;li&gt;修改：多语言&lt;/li&gt; 
 &lt;li&gt;修改：开发文档地址&lt;/li&gt; 
 &lt;li&gt;修改：接口文档地址&lt;/li&gt; 
 &lt;li&gt;修复：文件管理日期查询格式错误&lt;/li&gt; 
 &lt;li&gt;升级依赖，菜单是否始终显示（只有一个子路由时）&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;完整的更新日志&lt;/strong&gt;: &lt;a href="https://gitee.com/skyselang/yylAdminWeb/compare/v3.0...v4.0" target="_blank"&gt;https://gitee.com/skyselang/yylAdminWeb/compare/v3.0...v4.0&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;详情查看：&lt;a href="https://gitee.com/skyselang/yylAdminWeb/releases/v4.0"&gt;https://gitee.com/skyselang/yylAdminWeb/releases/v4.0&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369114</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369114</guid>
      <pubDate>Sun, 17 Aug 2025 02:03:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>yylAdmin v4.0 已经发布，极简后台管理系统</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;yylAdmin v4.0 已经发布，极简后台管理系统&lt;/p&gt; 
&lt;p&gt;此版本更新内容包括：&lt;/p&gt; 
&lt;h2&gt;更新内容&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;平台，应用公共函数修改&lt;/li&gt; 
 &lt;li&gt;admin&lt;/li&gt; 
 &lt;li&gt;修改：多语言&lt;/li&gt; 
 &lt;li&gt;修复：地区管理添加修改报错问题&lt;/li&gt; 
 &lt;li&gt;Merge branch 'master' of &lt;a href="https://gitee.com/skyselang/yylAdmin" target="_blank"&gt;https://gitee.com/skyselang/yylAdmin&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;修改：开发文档地址&lt;/li&gt; 
 &lt;li&gt;修改：接口文档地址&lt;/li&gt; 
 &lt;li&gt;修改：接口文档地址&lt;/li&gt; 
 &lt;li&gt;新增：系统超管上传文件大小是否不受限制配置&lt;/li&gt; 
 &lt;li&gt;升级 apidoc，菜单是否始终显示（只有一个子路由时）&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;完整的更新日志&lt;/strong&gt;: &lt;a href="https://gitee.com/skyselang/yylAdmin/compare/v3.0...v4.0" target="_blank"&gt;https://gitee.com/skyselang/yylAdmin/compare/v3.0...v4.0&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;详情查看：&lt;a href="https://gitee.com/skyselang/yylAdmin/releases/v4.0"&gt;https://gitee.com/skyselang/yylAdmin/releases/v4.0&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369113</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369113</guid>
      <pubDate>Sun, 17 Aug 2025 02:01:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>夜莺监控发布 8.3 版本</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p style="color:#000000; margin-left:0; margin-right:0; text-align:left"&gt;近期，开源夜莺监控项目发布了 8.3 版本，这个版本引入了一个较为重磅的功能：仪表盘新一代 Table 图表，可以更为容易配置多个指标的 merge 展示。&lt;/p&gt; 
&lt;p&gt;&lt;img height="352" src="https://oscimg.oschina.net/oscnet/up-7eb97b5c4950d7ac1de32be130bc2078210.png" width="2182" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p style="color:#000000; margin-left:0; margin-right:0; text-align:left"&gt;大的功能演化是放在 V9 版本的，所以 V8 版本更侧重问题修复和现有功能的优化改造，8.3 版本的其他变更内容如下：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;refactor: 优化机器心跳更新逻辑&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;refactor: 优化时序数据转发逻辑&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;refactor: 优化数据源选择器交互（应用于即时查询 / 日志检索 / 仪表盘页面）&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;refactor: 优化订阅规则页面的订阅告警规则选择器交互&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;refactor: 优化 Prometheus 即时查询页面的历史记录，在 PromQL 输入框回车和失去焦点后也触发保存历史记录&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;refactor: 优化 Elasticsearch 日志检索页面的日志查询接口的 QueryDSL&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;refactor: 单点登录完成登录之后，支持跳转到登录之前的访问的页面&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;fix: 自愈任务状态更新问题&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;fix: 业务组列表模式下搜索无效问题&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="color:#000000; margin-left:0; margin-right:0; text-align:left"&gt;新版下载包已经在&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fccfos%2Fnightingale%2Freleases" target="_blank"&gt;github&lt;/a&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;发布，镜像也在&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhub.docker.com%2Fr%2Fflashcatcloud%2Fnightingale%2Ftags" target="_blank"&gt;dockerhub&lt;/a&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;发布。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369110/nightingale-8-3-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369110/nightingale-8-3-released</guid>
      <pubDate>Sun, 17 Aug 2025 01:52:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>🔥 优化及缺陷修复：开源无代码 / 低代码平台 NocoBase</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;原文链接：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fweekly-updates-20250829" target="_blank"&gt;NocoBase 本周更新汇总：优化及缺陷修复 - NocoBase&lt;/a&gt;。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;span style="background-color:#ffffff; color:#333333"&gt;NocoBase 是一个极易扩展的开源无代码开发平台。完全掌控，无限扩展，助力你的开发团队快速响应变化，显著降低成本，不必投入几年时间和数百万资金研发，只需要花几分钟部署 NocoBase。&lt;/span&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nocobase.com%2Fcn%2F" target="_blank"&gt;NocoBase 中文官网&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs-cn.nocobase.com%2Fwelcome%2Fintroduction" target="_blank"&gt;官方文档&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdemo-cn.nocobase.com%2Fnew" target="_blank"&gt;在线 Demo&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;hr&gt; 
&lt;p&gt;汇总一周产品更新日志，最新发布可以&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftimeline" target="_blank"&gt;前往我们的博客查看&lt;/a&gt;。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;NocoBase 目前更新包括的版本更新包括三个分支：&lt;code&gt;main&lt;/code&gt; ，&lt;code&gt;next&lt;/code&gt;和 &lt;code&gt;develop&lt;/code&gt;。&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img alt="version.png" src="https://oscimg.oschina.net/oscnet//f387fd237cfb5da407ee1991a6112132.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;&lt;code&gt;main&lt;/code&gt; ：截止目前最稳定的版本，推荐安装此版本。&lt;/p&gt; 
&lt;p&gt;&lt;code&gt;next&lt;/code&gt;：包含即将发布的新功能，经过初步测试的版本，可能存在部分已知或未知问题。主要面向测试用户，用于收集反馈和进一步优化功能。适合愿意提前体验新功能并提供反馈的测试用户。&lt;/p&gt; 
&lt;p&gt;&lt;code&gt;develop&lt;/code&gt;：开发中的版本，包含最新的功能代码，可能尚未完成或存在较多不稳定因素，主要用于内部开发和快速迭代。适合对产品功能前沿发展感兴趣的技术用户，但可能存在较多问题或不完整功能，不建议在生产环境中使用。&lt;/p&gt; 
&lt;h2&gt;main&lt;/h2&gt; 
&lt;p&gt;&lt;img alt="main.png" src="https://oscimg.oschina.net/oscnet//e6c0cde61c1711e58b4afc795e2f4495.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;h3&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv1.8.22" target="_blank"&gt;v1.8.22&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;em&gt;发布时间：2025-08-27&lt;/em&gt;&lt;/p&gt; 
&lt;h4&gt;🐛 修复&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;[工作流]&lt;/strong&gt; 修复待办中心路由配置错误导致详情弹窗不显示的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7452" target="_blank"&gt;#7452&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv1.8.21" target="_blank"&gt;v1.8.21&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;em&gt;发布时间：2025-08-26&lt;/em&gt;&lt;/p&gt; 
&lt;h4&gt;🐛 修复&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;[文件管理器]&lt;/strong&gt; 修复文件表的 storage 字段编辑时的报错 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7393" target="_blank"&gt;#7393&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[工作流：并行分支节点]&lt;/strong&gt; 修复并行分支节点在全部执行模式下状态判断错误导致提前执行完成的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7445" target="_blank"&gt;#7445&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[工作流：审批]&lt;/strong&gt; 补充审批完成通知中自定义模板的状态变量 by @mytharcher&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv1.8.20" target="_blank"&gt;v1.8.20&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;em&gt;发布时间：2025-08-25&lt;/em&gt;&lt;/p&gt; 
&lt;h4&gt;🚀 优化&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流]&lt;/strong&gt; 调整工作流变量接口，支持预置额外变量列表 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7439" target="_blank"&gt;#7439&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：审批]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;支持在自定义通知中使用审批相关变量 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;支持结束节点终止流程后，变更审批状态 by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;🐛 修复&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[client]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复在某些场景下，移动端数据选择器弹窗编辑记录时出错的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7444" target="_blank"&gt;#7444&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
   &lt;li&gt;子表格中附件字段必填校验不生效的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7431" target="_blank"&gt;#7431&lt;/a&gt;) by @katherinehhh&lt;/li&gt; 
   &lt;li&gt;修复附件 URL 字段的 URL 中包含查询参数时图标展示不正确的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7432" target="_blank"&gt;#7432&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[database]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复了站内消息加载更多时出现的 MySQL 语法错误。 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7438" target="_blank"&gt;#7438&lt;/a&gt;) by @aaaaaajie&lt;/li&gt; 
   &lt;li&gt;修复导出 Number 类型字段时的精度问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7421" target="_blank"&gt;#7421&lt;/a&gt;) by @aaaaaajie&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[undefined]&lt;/strong&gt; 修复 MySQL 外部数据源中仅按日期字段筛选数据不正确的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7422" target="_blank"&gt;#7422&lt;/a&gt;) by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[操作：导入记录]&lt;/strong&gt; 修复了当表的主键为单行文本时导入失败的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7416" target="_blank"&gt;#7416&lt;/a&gt;) by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;补全自动删除工作流的执行状态选项 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7436" target="_blank"&gt;#7436&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复待办中心移动端菜单相关问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7419" target="_blank"&gt;#7419&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[操作：导入记录 Pro]&lt;/strong&gt; 修复在 xlsx 导入中使用字符串主键时更新结果不符合预期的问题。 by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv1.8.19" target="_blank"&gt;v1.8.19&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;em&gt;发布时间：2025-08-22&lt;/em&gt;&lt;/p&gt; 
&lt;h4&gt;🎉 新特性&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;[工作流：审批]&lt;/strong&gt; 为通知配置增加内联模板类型 by @mytharcher&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;🚀 优化&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;[client]&lt;/strong&gt; 支持 Select 组件在阅读态时可以展示字符串标识的图标 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7420" target="_blank"&gt;#7420&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[database]&lt;/strong&gt; 优化 ACL Meta 查询性能 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7400" target="_blank"&gt;#7400&lt;/a&gt;) by @aaaaaajie&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[移动端]&lt;/strong&gt; 优化移动端弹窗组件 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7414" target="_blank"&gt;#7414&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;🐛 修复&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;[database]&lt;/strong&gt; 修复了在读取 Postgres 外部数据表时，会错误包含其他 schema 视图的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7410" target="_blank"&gt;#7410&lt;/a&gt;) by @aaaaaajie&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[区块：模板]&lt;/strong&gt; 修复了邮件区块在继承模版中不可见的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7430" target="_blank"&gt;#7430&lt;/a&gt;) by @gchust&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[操作：导入记录 Pro]&lt;/strong&gt; 导入识别重复记录时，禁止设置关系字段 by @aaaaaajie&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[工作流：审批]&lt;/strong&gt; 修复加签时加载用户列表为空的问题 by @mytharcher&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[迁移管理]&lt;/strong&gt; 生成迁移文件的时候跳过最新版本 pg_dump 生成的 &lt;code&gt;\\restrict&lt;/code&gt; 和 &lt;code&gt;\\unrestrict&lt;/code&gt; 命令，解决还原报错的问题 by @2013xile&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;next&lt;/h2&gt; 
&lt;p&gt;&lt;img alt="next.png" src="https://oscimg.oschina.net/oscnet//0c69ad6cfdbc6331559ba1d0f5597a69.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;h3&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv1.9.0-beta.6" target="_blank"&gt;v1.9.0-beta.6&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;em&gt;发布时间：2025-08-22&lt;/em&gt;&lt;/p&gt; 
&lt;h4&gt;🎉 新特性&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[client]&lt;/strong&gt; 为 Input、TextArea、URL 和 InputNumber 组件添加了"自动聚焦"选项，启用后输入框在页面初始渲染时会自动获得焦点 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7320" target="_blank"&gt;#7320&lt;/a&gt;) by @zhangzhonghe&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[异步任务管理器]&lt;/strong&gt; 支持通过环境变量和队列进行异步任务服务拆分 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7241" target="_blank"&gt;#7241&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[Office 文件预览]&lt;/strong&gt; 基于微软在线预览支持预览 Office 相关文件 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7300" target="_blank"&gt;#7300&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[认证：SAML 2.0]&lt;/strong&gt; 增加签名相关配置项 by @2013xile&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：审批]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;为通知配置增加内联模板类型 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;支持在同一个工作流中使用统一的待办任务标题 by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;🚀 优化&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[database]&lt;/strong&gt; 优化 ACL Meta 查询性能 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7400" target="_blank"&gt;#7400&lt;/a&gt;) by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[client]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;支持 Select 组件在阅读态时可以展示字符串标识的图标 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7420" target="_blank"&gt;#7420&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;新增「前天」日期变量支持 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7359" target="_blank"&gt;#7359&lt;/a&gt;) by @katherinehhh&lt;/li&gt; 
   &lt;li&gt;优化切换弹窗标签页的性能 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7353" target="_blank"&gt;#7353&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
   &lt;li&gt;选中菜单后不自动关闭菜单 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7252" target="_blank"&gt;#7252&lt;/a&gt;) by @kerwin612&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[移动端]&lt;/strong&gt; 优化移动端弹窗组件 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7414" target="_blank"&gt;#7414&lt;/a&gt;) by @zhangzhonghe&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;将节点选择菜单更新为两列布局，以提升信息密度使用户能同时查看更多选项 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7396" target="_blank"&gt;#7396&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复不稳定的测试用例 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7349" target="_blank"&gt;#7349&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;工作流禁用后也展示正常的标题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7339" target="_blank"&gt;#7339&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;减少准备执行计划时加载节点结果的数量 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7284" target="_blank"&gt;#7284&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[授权设置]&lt;/strong&gt; 授权设置中，每次拷贝最新 InstanceID (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7387" target="_blank"&gt;#7387&lt;/a&gt;) by @jiannx&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[用户认证]&lt;/strong&gt; 使用 token 参数登录成功后，移除 URL token 参数 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7386" target="_blank"&gt;#7386&lt;/a&gt;) by @2013xile&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[通知：站内信]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;移除通过 &lt;code&gt;console.log&lt;/code&gt; 输出的 SQL 日志 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7368" target="_blank"&gt;#7368&lt;/a&gt;) by @2013xile&lt;/li&gt; 
   &lt;li&gt;站内信消息从 SSE 改为 WebSocket (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7302" target="_blank"&gt;#7302&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[Office 文件预览]&lt;/strong&gt; 为预览 &lt;code&gt;.odt&lt;/code&gt; 文件增加支持 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7347" target="_blank"&gt;#7347&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[操作：导入记录 Pro]&lt;/strong&gt; 支持通过环境变量和队列对导入导出的服务进行拆分 by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：JavaScript 节点]&lt;/strong&gt; 将日志改为使用基础缓存以避免集群模式的问题 by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[模板打印]&lt;/strong&gt; 支持多对多数组字段 by @jiannx&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[备份管理器]&lt;/strong&gt; 优化 mysql 数据库备份操作性能 by @gchust&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[认证：钉钉]&lt;/strong&gt; 在钉钉客户端中将导航栏标题设置为空，而不是显示 "Loading..." by @2013xile&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[迁移管理]&lt;/strong&gt; 支持通过环境变量和队列拆分创建迁移的后台任务 by @mytharcher&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;🐛 修复&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[client]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复附件 URL 字段的 URL 中包含查询参数时图标展示不正确的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7432" target="_blank"&gt;#7432&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复，联动规则为空判断时,数字 0 也视为空的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7404" target="_blank"&gt;#7404&lt;/a&gt;) by @katherinehhh&lt;/li&gt; 
   &lt;li&gt;修复链接按钮中文字换行的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7406" target="_blank"&gt;#7406&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复表单的多列布局在移动端没有变成单列布局的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7355" target="_blank"&gt;#7355&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
   &lt;li&gt;修复批量删除数据表时的错误 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7345" target="_blank"&gt;#7345&lt;/a&gt;) by @aaaaaajie&lt;/li&gt; 
   &lt;li&gt;修复单独配置权限时未默认选中已保存数据范围的问题。 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7288" target="_blank"&gt;#7288&lt;/a&gt;) by @aaaaaajie&lt;/li&gt; 
   &lt;li&gt;修复变量原始字符串会随表单提交的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7337" target="_blank"&gt;#7337&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
   &lt;li&gt;当在筛选表单中使用变量设置字段默认值，且变量值为空时，输入框中会显示变量的原始字符串 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7335" target="_blank"&gt;#7335&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
   &lt;li&gt;修复，操作面板鼠标移上去 tooltip 显示 [object Object] 的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7322" target="_blank"&gt;#7322&lt;/a&gt;) by @katherinehhh&lt;/li&gt; 
   &lt;li&gt;修复解析字段默认值时出现死循环的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7301" target="_blank"&gt;#7301&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
   &lt;li&gt;修复文件预览在空 URL 时报错的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7315" target="_blank"&gt;#7315&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复树表格无法展开的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7309" target="_blank"&gt;#7309&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
   &lt;li&gt;为本地文件预览补全 URL (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7314" target="_blank"&gt;#7314&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复表格行拖拽排序不符合预期的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F6959" target="_blank"&gt;#6959&lt;/a&gt;) by @ChimingLiu&lt;/li&gt; 
   &lt;li&gt;修复筛选表单中关系字段配置数据选择器时弹窗内日期字段展示异常的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7290" target="_blank"&gt;#7290&lt;/a&gt;) by @katherinehhh&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[database]&lt;/strong&gt; 修复了在读取 Postgres 外部数据表时，会错误包含其他 schema 视图的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7410" target="_blank"&gt;#7410&lt;/a&gt;) by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[server]&lt;/strong&gt; 部分请求没有 &lt;code&gt;ctx.action&lt;/code&gt;, 导致审计日志中间件报错 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7369" target="_blank"&gt;#7369&lt;/a&gt;) by @2013xile&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[undefined]&lt;/strong&gt; 将新插件加入到预置集合 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7319" target="_blank"&gt;#7319&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[utils]&lt;/strong&gt; 修复 parseDate 解析时间变量时区处理错误的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7318" target="_blank"&gt;#7318&lt;/a&gt;) by @katherinehhh&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[区块：模板]&lt;/strong&gt; 修复了邮件区块在继承模版中不可见的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7430" target="_blank"&gt;#7430&lt;/a&gt;) by @gchust&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[移动端]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复移动端日期字段显示为错误格式的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7412" target="_blank"&gt;#7412&lt;/a&gt;) by @katherinehhh&lt;/li&gt; 
   &lt;li&gt;修复移动端审批弹窗中的表单提交的数据不正确的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7389" target="_blank"&gt;#7389&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
   &lt;li&gt;修复移动端日期组件使用日期变量限制可选范围时日期显示异常的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7362" target="_blank"&gt;#7362&lt;/a&gt;) by @katherinehhh&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复编辑工作流分类时报错和表单数据丢失的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7408" target="_blank"&gt;#7408&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复待办中心的页面标题翻译 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7392" target="_blank"&gt;#7392&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;重构添加节点的菜单，并修复其导致的工作流画布渲染的性能问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7363" target="_blank"&gt;#7363&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复获取单条待办项目时的筛选条件错误问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7366" target="_blank"&gt;#7366&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复字段选择框的搜索关键词匹配问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7356" target="_blank"&gt;#7356&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;避免应用停止时调用队列报错 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7348" target="_blank"&gt;#7348&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复执行器退出时对 &lt;code&gt;undefined&lt;/code&gt; 结果的处理 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7317" target="_blank"&gt;#7317&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复 MySQL 下保存执行记录时大整型 ID 字段的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7292" target="_blank"&gt;#7292&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：邮件发送节点]&lt;/strong&gt; 修复邮件节点可能存在恢复执行不正常的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7409" target="_blank"&gt;#7409&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[Office 文件预览]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复上传文件至附件 URL 字段报错的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7405" target="_blank"&gt;#7405&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;支持 URL 中包含 &lt;code&gt;.docx&lt;/code&gt;, &lt;code&gt;.xlsx&lt;/code&gt; 和 &lt;code&gt;.pptx&lt;/code&gt; 的文件预览 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7336" target="_blank"&gt;#7336&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[文件管理器]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;移除文件上传大小的上限提示 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7391" target="_blank"&gt;#7391&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;为文件表增加 &lt;code&gt;storageId&lt;/code&gt; 字段以支持权限配置 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7351" target="_blank"&gt;#7351&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复上传文件时存储引擎外键的权限问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7316" target="_blank"&gt;#7316&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[通知：站内信]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复多语言翻译 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7384" target="_blank"&gt;#7384&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复接收到站内信消息但未弹出展示的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7364" target="_blank"&gt;#7364&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[日历]&lt;/strong&gt; 修复了日历事件悬停提示框未显示事件标题字段内容，显示为 「[object Object]」 的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7372" target="_blank"&gt;#7372&lt;/a&gt;) by @katherinehhh&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[数据表字段：公式]&lt;/strong&gt; 修复公式输入由于变量类型导致无法通过验证的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7373" target="_blank"&gt;#7373&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：并行分支节点]&lt;/strong&gt; 修复 MySQL 下并行分支节点在恢复执行后假死的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7346" target="_blank"&gt;#7346&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：抄送]&lt;/strong&gt; 修复区块无法移除的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7338" target="_blank"&gt;#7338&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[数据可视化]&lt;/strong&gt; 图表区块中筛选日期字段设置默认值为日期变量时显示不正确的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7291" target="_blank"&gt;#7291&lt;/a&gt;) by @katherinehhh&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[数据表：树]&lt;/strong&gt; 修复树表路径同步逻辑 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7330" target="_blank"&gt;#7330&lt;/a&gt;) by @ChimingLiu&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：HTTP 请求节点]&lt;/strong&gt; 修复竞态问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7310" target="_blank"&gt;#7310&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：动态表达式计算节点]&lt;/strong&gt; 修复旧 API 导致的错误 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7321" target="_blank"&gt;#7321&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[操作：导出记录]&lt;/strong&gt; 修复导出 Excel 时多层关系字段格式不正确的问题。 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7277" target="_blank"&gt;#7277&lt;/a&gt;) by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[操作：导入记录 Pro]&lt;/strong&gt; 导入识别重复记录时，禁止设置关系字段 by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[数据源：外部 SQL Server]&lt;/strong&gt; 修复外部数据源 MSSQL datetime（无时区）字段存储格式不一致 by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：自定义操作事件]&lt;/strong&gt; 在对多条数据的触发成功后清空选中行 by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：子流程]&lt;/strong&gt; 修复子流程假死的问题 by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[模板打印]&lt;/strong&gt; 多行数据中单选字段打印 by @jiannx&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[文件存储：S3 (Pro)]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复 IAM 授权方式无法上传文件的问题 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;弃用可能造成问题的 &lt;code&gt;attachmentField&lt;/code&gt; 参数 by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：审批]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复加载审批记录中外部数据源数据出现 404 的问题 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;为加签和转签的任务增加标题 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复基于外部数据源的审批表单中指派人选择报错问题 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复加签时加载用户列表为空的问题 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复提交草稿时更新关系字段的问题 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复审批原始详情区块中联动规则失效的问题 by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[备份管理器]&lt;/strong&gt; 备份大量文件时，任务状态可能提前显示为「已成功」，但实际仍在进行中 by @gchust&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[迁移管理]&lt;/strong&gt; 生成迁移文件的时候跳过最新版本 pg_dump 生成的 &lt;code&gt;\\restrict&lt;/code&gt; 和 &lt;code&gt;\\unrestrict&lt;/code&gt; 命令，解决还原报错的问题 by @2013xile&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;develop&lt;/h2&gt; 
&lt;p&gt;&lt;img alt="develop.png" src="https://oscimg.oschina.net/oscnet//36fb9e5966551fe9275c4e2c0d8f790b.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;h3&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fv1.9.0-alpha.12" target="_blank"&gt;v1.9.0-alpha.12&lt;/a&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;em&gt;发布时间：2025-08-22&lt;/em&gt;&lt;/p&gt; 
&lt;h4&gt;🎉 新特性&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[client]&lt;/strong&gt; 支持字段验证规则 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7297" target="_blank"&gt;#7297&lt;/a&gt;) by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：审批]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;为通知配置增加内联模板类型 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;支持在同一个工作流中使用统一的待办任务标题 by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;🚀 优化&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;[database]&lt;/strong&gt; 优化 ACL Meta 查询性能 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7400" target="_blank"&gt;#7400&lt;/a&gt;) by @aaaaaajie&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[client]&lt;/strong&gt; 支持 Select 组件在阅读态时可以展示字符串标识的图标 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7420" target="_blank"&gt;#7420&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[移动端]&lt;/strong&gt; 优化移动端弹窗组件 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7414" target="_blank"&gt;#7414&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[工作流]&lt;/strong&gt; 将节点选择菜单更新为两列布局，以提升信息密度使用户能同时查看更多选项 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7396" target="_blank"&gt;#7396&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[授权设置]&lt;/strong&gt; 授权设置中，每次拷贝最新 InstanceID (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7387" target="_blank"&gt;#7387&lt;/a&gt;) by @jiannx&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[通知：站内信]&lt;/strong&gt; 移除通过 &lt;code&gt;console.log&lt;/code&gt; 输出的 SQL 日志 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7368" target="_blank"&gt;#7368&lt;/a&gt;) by @2013xile&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[用户认证]&lt;/strong&gt; 使用 token 参数登录成功后，移除 URL token 参数 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7386" target="_blank"&gt;#7386&lt;/a&gt;) by @2013xile&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;[模板打印]&lt;/strong&gt; 支持多对多数组字段 by @jiannx&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;🐛 修复&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[database]&lt;/strong&gt; 修复了在读取 Postgres 外部数据表时，会错误包含其他 schema 视图的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7410" target="_blank"&gt;#7410&lt;/a&gt;) by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[client]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复，联动规则为空判断时,数字 0 也视为空的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7404" target="_blank"&gt;#7404&lt;/a&gt;) by @katherinehhh&lt;/li&gt; 
   &lt;li&gt;修复「列设置」按钮会加载弹窗中的表格列的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7385" target="_blank"&gt;#7385&lt;/a&gt;) by @kerwin612&lt;/li&gt; 
   &lt;li&gt;修复链接按钮中文字换行的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7406" target="_blank"&gt;#7406&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[server]&lt;/strong&gt; 部分请求没有 &lt;code&gt;ctx.action&lt;/code&gt;, 导致审计日志中间件报错 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7369" target="_blank"&gt;#7369&lt;/a&gt;) by @2013xile&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[区块：模板]&lt;/strong&gt; 修复了邮件区块在继承模版中不可见的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7430" target="_blank"&gt;#7430&lt;/a&gt;) by @gchust&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：邮件发送节点]&lt;/strong&gt; 修复邮件节点可能存在恢复执行不正常的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7409" target="_blank"&gt;#7409&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[移动端]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复移动端日期字段显示为错误格式的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7412" target="_blank"&gt;#7412&lt;/a&gt;) by @katherinehhh&lt;/li&gt; 
   &lt;li&gt;修复移动端审批弹窗中的表单提交的数据不正确的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7389" target="_blank"&gt;#7389&lt;/a&gt;) by @zhangzhonghe&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复编辑工作流分类时报错和表单数据丢失的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7408" target="_blank"&gt;#7408&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复待办中心的页面标题翻译 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7392" target="_blank"&gt;#7392&lt;/a&gt;) by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[Office 文件预览]&lt;/strong&gt; 修复上传文件至附件 URL 字段报错的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7405" target="_blank"&gt;#7405&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[通知：站内信]&lt;/strong&gt; 修复多语言翻译 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7384" target="_blank"&gt;#7384&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[数据表字段：公式]&lt;/strong&gt; 修复公式输入由于变量类型导致无法通过验证的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7373" target="_blank"&gt;#7373&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[文件管理器]&lt;/strong&gt; 移除文件上传大小的上限提示 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7391" target="_blank"&gt;#7391&lt;/a&gt;) by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[日历]&lt;/strong&gt; 修复了日历事件悬停提示框未显示事件标题字段内容，显示为 「[object Object]」 的问题 (&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase%2Fpull%2F7372" target="_blank"&gt;#7372&lt;/a&gt;) by @katherinehhh&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[操作：导入记录 Pro]&lt;/strong&gt; 导入识别重复记录时，禁止设置关系字段 by @aaaaaajie&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：自定义操作事件]&lt;/strong&gt; 在对多条数据的触发成功后清空选中行 by @mytharcher&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[模板打印]&lt;/strong&gt; 多行数据中单选字段打印 by @jiannx&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[文件存储：S3 (Pro)]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;弃用可能造成问题的 &lt;code&gt;attachmentField&lt;/code&gt; 参数 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复 IAM 授权方式无法上传文件的问题 by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[工作流：审批]&lt;/strong&gt;&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;修复加载审批记录中外部数据源数据出现 404 的问题 by @mytharcher&lt;/li&gt; 
   &lt;li&gt;修复加签时加载用户列表为空的问题 by @mytharcher&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[备份管理器]&lt;/strong&gt; 备份大量文件时，任务状态可能提前显示为「已成功」，但实际仍在进行中 by @gchust&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;[迁移管理]&lt;/strong&gt; 生成迁移文件的时候跳过最新版本 pg_dump 生成的 &lt;code&gt;\\restrict&lt;/code&gt; 和 &lt;code&gt;\\unrestrict&lt;/code&gt; 命令，解决还原报错的问题 by @2013xile&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369109</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369109</guid>
      <pubDate>Sun, 17 Aug 2025 01:52:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>🔥 AI 富文本编辑器，AiEditor v1.4.1 发布</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"&gt;&lt;img alt="" height="196" src="https://oscimg.oschina.net/oscnet/readme-banner.png" width="500" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;h1&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Faieditor.dev%2Fzh%2F" target="_blank"&gt;AIEditor.dev&lt;/a&gt;&lt;/h1&gt; 
&lt;h2&gt;AI 驱动的开源富文本编辑器&lt;/h2&gt; 
&lt;h3&gt;开箱即用、支持所有前端框架、支持 Markdown 书写模式&lt;/h3&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet/index-banner1.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;h2&gt;什么是 AIEditor&lt;/h2&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;AiEditor 是一个面向 AI 的下一代富文本编辑器，她基于 Web Component，因此支持 Layui、Vue、React、Angular 等几乎任何前端框架。她适配了 PC Web 端和手机端，并提供了，亮色，和 暗色，两个主题。除此之外，她还提供了灵活的配置，开发者可以方便的使用其开发任何文字编辑的应用。&lt;/p&gt; 
&lt;h1&gt;# 全新官网上线&lt;/h1&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img height="1328" src="https://oscimg.oschina.net/oscnet/up-b1e8bc4748fc46cb738816480a09c619f57.png" width="1743" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;AiEditor 全新官网上线，请访问官网：&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Faieditor.dev"&gt;https://aieditor.dev&lt;/a&gt;&amp;nbsp;&lt;/p&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;国内访问地址：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Faieditor.com.cn" target="_blank"&gt;https://aieditor.com.cn&lt;/a&gt;&lt;/p&gt; 
&lt;h2&gt;AIEditor 的与众不同之处&lt;/h2&gt; 
&lt;h3&gt;1、AI 驱动的编辑器&lt;/h3&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;AIEditor 的目标是打造一个完全由 AI 驱动的富文本编辑器，同时支持对接任意大模型，包括私有的大模型。允许用户使用自己私有的大模型 ApiKey。 不仅如此，AIEditor 其所有的 AI 功能，都允许用户自定义自己的 prompt，以及扩展的 AI 菜单。&lt;/p&gt; 
&lt;h3&gt;2、简单、友好、易用&lt;/h3&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;AIEditor 基于 Web Component 开发，支持与任意主流的前端框架集成。AIEditor 使用更加友好的 LGPL 开源协议，通过&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;code&gt;npm i aieditor&lt;/code&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;使用， 不用担心 GPL 协议可能带来的 GPL 传染问题。&lt;/p&gt; 
&lt;h3&gt;3、除了开源版，还提供商业版&lt;/h3&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;除了开源版以外，我们还提供了功能更加强大的商业，商业版不限制用户量、不限制应用数量。更多商业版的对比， 可以参考这里：&lt;a href="https://gitee.com/link?target=https%3A%2F%2Faieditor.dev%2Fversions.html"&gt;https://aieditor.dev/versions.html&lt;/a&gt;&lt;/p&gt; 
&lt;h2&gt;在线演示&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;现代风格（类腾讯文档）:&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fdoc.aieditor.com.cn" target="_blank"&gt;http://doc.aieditor.com.cn&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;经典 / 传统风格:&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Faieditor.dev%2Fdemo%2Findex.html" target="_blank"&gt;https://aieditor.dev/demo/index.html&lt;/a&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&amp;nbsp;&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;开源版（已完善）&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;基础&lt;/strong&gt;：标题、正文、字体、字号、加粗、斜体、下划线、删除线、链接、行内代码、上标、下标、分割线、引用、打印&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;增强&lt;/strong&gt;：撤回、重做、格式刷、橡皮擦、待办事项、字体颜色、背景颜色、Emoji 表情、对齐方式、行高、有（无）序列表、段落缩进、强制换行&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;附件&lt;/strong&gt;：支持图片、视频、文件功能，支持选择上传、粘贴上传、拖拽上传、支持拖动调整大小...&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;代码&lt;/strong&gt;：行内代码、代码块、语言类型选择、&lt;strong&gt;AI 自动注释&lt;/strong&gt;、&lt;strong&gt;AI 代码解释&lt;/strong&gt;...&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;表格&lt;/strong&gt;：左增右增、左减右减、上增下增、上减下减、合并单元格、解除合并&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;Markdown&lt;/strong&gt;：标题、引用、表格、图片、代码块、&lt;strong&gt;高亮块（类似 vuepress 的 :::）&lt;/strong&gt;、各种列表、粗体、斜体、删除线...&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;A I&lt;/strong&gt;：AI 续写、AI 优化、AI 校对、AI 翻译、自定义 AI 菜单及其 Prompts&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;更多&lt;/strong&gt;：国际化、亮色主题、暗色主题、手机适配、全屏编辑、@某某某（提及）...&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;类腾讯文档现代 UI 风格&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;商业版（已完善）&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;类 Notion 内容块拖拽功能&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;Word 导入、Word 导出&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;PDF 导出&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;Latex 数学公式编辑&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;团队协作（多个人同时编辑一份文档）&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;批注功能，类似 word 选择一段文字进行批注评论的功能&lt;/li&gt; 
 &lt;li&gt;和编辑器内容进行互动的 AI&amp;nbsp; 对话能力&lt;/li&gt; 
 &lt;li&gt;更优化的支持【飞书】内容复制粘贴到编辑器&lt;/li&gt; 
 &lt;li&gt;其他更加人性化的 UI 操作&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;商业版演示：&lt;a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fpro.aieditor.com.cn%2F" target="_blank"&gt;http://pro.aieditor.com.cn/&lt;/a&gt;&lt;/p&gt; 
&lt;h2&gt;开发中...&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;AI 插入图片&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;AI 图生图（AI 图片优化）&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;AI 一键排版&lt;/li&gt; 
 &lt;li&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;上传视频自动获取缩略图&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;v1.4.1 更新细节：&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;新增：添加 toolbarTipEnable 配置的支持&lt;/li&gt; 
 &lt;li&gt;新增：优化 setContent() 方法，添加 focus 参数&lt;/li&gt; 
 &lt;li&gt;优化：优化表格中的图片样式问题，优化图片在表格中的大小拖动&lt;/li&gt; 
 &lt;li&gt;修复：优化图片拖动超出编辑器范围时取消拖动事件的问题&lt;/li&gt; 
 &lt;li&gt;修复：修复 AI 命令在有新行时获取不到文本的问题&lt;/li&gt; 
 &lt;li&gt;修复：修复视频插入位置错误问题&lt;/li&gt; 
 &lt;li&gt;修复：修复图片在表格中的大小拖动时使用 data-src 替换 src 的问题&lt;/li&gt; 
 &lt;li&gt;修复：修复插入 markdown 时图片显示不全的问题&lt;/li&gt; 
 &lt;li&gt;修复：图片图片有时不触发 onChange 的问题&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;快速开始&lt;/h2&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;安装：&lt;/p&gt; 
&lt;div&gt; 
 &lt;div&gt; 
  &lt;pre&gt;&lt;span&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;&lt;span style="color:#6f42c1"&gt;npm&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;i aieditor&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt; 
 &lt;/div&gt; 
&lt;/div&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;使用：&lt;/p&gt; 
&lt;div&gt; 
 &lt;div&gt; 
  &lt;pre&gt;&lt;span&gt;&lt;strong&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;new&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; &lt;span&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;&lt;span style="color:#d73a49"&gt;AiEditor&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;({&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;    &lt;span style="color:#008080"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;element&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#dd1144"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;#aiEditor&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;    &lt;span style="color:#008080"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;placeholder&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#dd1144"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;点击输入内容...&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;    &lt;span style="color:#008080"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;&lt;span style="color:#005cc5"&gt;content&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="color:#dd1144"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;AiEditor 是一个面向 AI 的开源富文本编辑器。 &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;&lt;span style="color:#032f62"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;})&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt; 
 &lt;/div&gt; 
&lt;/div&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;更多访问官网：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Faieditor.dev%2Fdocs%2Fzh%2Fgetting-started.html" target="_blank"&gt;https://aieditor.dev/docs/zh/getting-started.html&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369105/aieditor-1-4-1-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369105/aieditor-1-4-1-released</guid>
      <pubDate>Sun, 17 Aug 2025 01:33:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>BootstrapBlazor v9.10.0 已经发布，Bootstrap 样式的 Blazor UI 组件库</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;BootstrapBlazor v9.10.0 已经发布，Bootstrap 样式的 Blazor UI 组件库&lt;/p&gt; 
&lt;p&gt;此版本更新内容包括：&lt;/p&gt; 
&lt;h2&gt;Release 2025-8-29 V9.10.0&lt;/h2&gt; 
&lt;h3&gt;Break changes&lt;/h3&gt; 
&lt;h3&gt;Bugs&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;fix(SvgEditor): 修复图片路径导致无法加载问题 by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6693" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6693&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;Features&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;feat(DateTimePicker): 增加 &lt;code&gt;PickTimeMode&lt;/code&gt; 参数可以控制时间选择方式 by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6670" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6670&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;feat(BreadcrumbItem): 增加 &lt;code&gt;CssClass&lt;/code&gt; 可独立设置样式 by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6673" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6673&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;feat(Plyr): 更新依赖脚本到最新 &lt;code&gt;9.0.2&lt;/code&gt; by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6688" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6688&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;feat(SelectTree): 增加编辑模式下更改值后自动尝试选中节点并且展开功能 by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6691" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6691&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;Documentations&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;doc(MaskOption): 更新 &lt;code&gt;ZIndex&lt;/code&gt; 用法文档 by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6675" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6675&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;doc(FilterBase): 更新 &lt;code&gt;OnFilterAsync&lt;/code&gt; 用法文档 by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6677" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6677&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;doc(EditorForm): 增加 &lt;code&gt;IsDisplay&lt;/code&gt; 参数使用文档 documentation by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6679" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6679&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;doc(ITcpSocketClient): 更新 &lt;code&gt;AddDataPackageAdapter&lt;/code&gt; 使用文档 by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6681" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6681&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;doc(Table): 更新 &lt;code&gt;EditDialogIsDraggable&lt;/code&gt; 参数注释文档 by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6683" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6683&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;doc(BaiduOcr): 增加 &lt;code&gt;appsettings.json&lt;/code&gt; 配置文档 by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6690" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6690&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;doc(Localization): 增加乌克兰本地化资源文件 (uk-UA) by @ArgoZhang in &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fpull%2F6695" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/pull/6695&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;New Contributors&lt;/h2&gt; 
&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: &lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fdotnetcore%2FBootstrapBlazor%2Fcompare%2Fv9.9.3...v9.10.0" target="_blank"&gt;https://github.com/dotnetcore/BootstrapBlazor/compare/v9.9.3...v9.10.0&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;详情查看：&lt;a href="https://gitee.com/LongbowEnterprise/BootstrapBlazor/releases/v9.10.0"&gt;https://gitee.com/LongbowEnterprise/BootstrapBlazor/releases/v9.10.0&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369104/bootstrapblazor-9-10-0-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369104/bootstrapblazor-9-10-0-released</guid>
      <pubDate>Sun, 17 Aug 2025 01:31:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
    <item>
      <title>🚀 LLM 流式 API 友好的 HttpClient - Fetcher v1.0.0 发布！</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;div&gt; 
 &lt;h1&gt;🚀 Fetcher&lt;/h1&gt; 
 &lt;p style="margin-left:0px; margin-right:0px; text-align:center"&gt;&lt;strong&gt;超轻量级 • 模块化 • TypeScript 优先 • 拦截器驱动 • LLM 流式 API 支持&lt;/strong&gt;&lt;/p&gt; 
&lt;/div&gt; 
&lt;h2&gt;🌟 为什么选择 Fetcher?&lt;/h2&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;Fetcher 不仅仅是一个 HTTP 客户端——它是一个为现代 Web 开发设计的完整生态系统，原生支持 LLM 流式 API。基于原生 Fetch API 构建，Fetcher 提供了类似 Axios 的体验，同时保持极小的体积。&lt;/p&gt; 
&lt;h2&gt;🚀 核心特性&lt;/h2&gt; 
&lt;h3&gt;🎯&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/tree/main/packages/fetcher"&gt;&lt;code&gt;@ahoo-wang/fetcher&lt;/code&gt;&lt;/a&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 基础核心&lt;/h3&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;轻量级核心，驱动整个生态系统：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;⚡ 超轻量级&lt;/strong&gt;: 仅 2.7KiB min+gzip - 比大多数替代品更小&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🧭 路径和查询参数&lt;/strong&gt;: 内置支持路径 (&lt;code&gt;{id}&lt;/code&gt;) 和查询参数&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🔗 拦截器系统&lt;/strong&gt;: 请求、响应和错误拦截器，支持有序执行的灵活中间件模式&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;⏱️ 超时控制&lt;/strong&gt;: 可配置的请求超时和适当的错误处理&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🔄 Fetch API 兼容&lt;/strong&gt;: 完全兼容原生 Fetch API&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🛡️ TypeScript 支持&lt;/strong&gt;: 完整的 TypeScript 定义，实现类型安全开发&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🧩 模块化架构&lt;/strong&gt;: 轻量级核心和可选扩展包&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;📦 命名 Fetcher 支持&lt;/strong&gt;: 自动注册和检索 fetcher 实例&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;⚙️ 默认 Fetcher&lt;/strong&gt;: 预配置的默认 fetcher 实例，快速上手&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;🎨&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/tree/main/packages/decorator"&gt;&lt;code&gt;@ahoo-wang/fetcher-decorator&lt;/code&gt;&lt;/a&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 声明式 API&lt;/h3&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;使用简洁的声明式服务定义转换您的 API 交互：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;🎨 清晰的 API 定义&lt;/strong&gt;: 使用直观的装饰器定义 HTTP 服务&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🧭 自动参数绑定&lt;/strong&gt;: 路径、查询、头部和正文参数自动绑定&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;⏱️ 可配置超时&lt;/strong&gt;: 每方法和每类的超时设置&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🔗 Fetcher 集成&lt;/strong&gt;: 与 Fetcher 的命名 fetcher 系统无缝集成&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;⚡ 自动实现&lt;/strong&gt;: 方法自动实现 HTTP 调用&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;📦 元数据系统&lt;/strong&gt;: 丰富的元数据支持，用于高级自定义&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;📡&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/tree/main/packages/eventstream"&gt;&lt;code&gt;@ahoo-wang/fetcher-eventstream&lt;/code&gt;&lt;/a&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 实时流和 LLM 支持&lt;/h3&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;为您的实时应用提供 Server-Sent Events 支持，专为大型语言模型流式 API 设计：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;📡 事件流转换&lt;/strong&gt;: 将&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;code&gt;text/event-stream&lt;/code&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;响应转换为&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;code&gt;ServerSentEvent&lt;/code&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;对象的异步生成器&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🔌 拦截器集成&lt;/strong&gt;: 自动为具有&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;code&gt;text/event-stream&lt;/code&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;内容类型的响应添加&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;code&gt;eventStream()&lt;/code&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;方法&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;📋 SSE 解析&lt;/strong&gt;: 根据规范解析 Server-Sent Events，包括数据、事件、ID 和重试字段&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🔄 流支持&lt;/strong&gt;: 正确处理分块数据和多行事件&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;💬 注释处理&lt;/strong&gt;: 正确忽略注释行（以&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;code&gt;:&lt;/code&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;开头的行），符合 SSE 规范&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;⚡ 性能优化&lt;/strong&gt;: 高效解析和流式传输，适用于高性能应用&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🤖 LLM 流准备就绪&lt;/strong&gt;: 原生支持来自流行 LLM API（如 OpenAI GPT、Claude 等）的流式响应&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;LLM 集成示例&lt;/h4&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/tree/main/integration-test/src/eventstream/llmClient.ts"&gt;LlmClient&lt;/a&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;演示了如何创建具有流支持的 LLM API 专用客户端：&lt;/p&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;strong&gt;import&lt;/strong&gt; { createLlmFetcher, LlmClient } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'./llmClient'&lt;/span&gt;;

&lt;em&gt;// 使用您的 API 配置初始化 LLM 客户端&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; llmFetcher = createLlmFetcher({
  baseURL: &lt;span style="color:#dd1144"&gt;'https://api.openai.com/v1'&lt;/span&gt;,
  apiKey: process.env.OPENAI_API_KEY || &lt;span style="color:#dd1144"&gt;'your-api-key'&lt;/span&gt;,
  model: &lt;span style="color:#dd1144"&gt;'gpt-3.5-turbo'&lt;/span&gt;,
});

&lt;strong&gt;const&lt;/strong&gt; llmClient = &lt;strong&gt;new&lt;/strong&gt; LlmClient();

&lt;em&gt;// 流式聊天完成，逐个令牌输出&lt;/em&gt;
&lt;strong&gt;async&lt;/strong&gt; &lt;span&gt;&lt;strong&gt;function&lt;/strong&gt; &lt;strong&gt;streamChatExample&lt;/strong&gt;() &lt;/span&gt;{
  &lt;strong&gt;const&lt;/strong&gt; stream = &lt;strong&gt;await&lt;/strong&gt; llmClient.streamChat({
    messages: [
      { role: &lt;span style="color:#dd1144"&gt;'system'&lt;/span&gt;, content: &lt;span style="color:#dd1144"&gt;'You are a helpful assistant.'&lt;/span&gt; },
      { role: &lt;span style="color:#dd1144"&gt;'user'&lt;/span&gt;, content: &lt;span style="color:#dd1144"&gt;'Explain quantum computing in simple terms.'&lt;/span&gt; },
    ],
    stream: &lt;span&gt;true&lt;/span&gt;,
  });

  &lt;strong&gt;for&lt;/strong&gt; &lt;strong&gt;await&lt;/strong&gt; (&lt;strong&gt;const&lt;/strong&gt; event of stream) {
    &lt;strong&gt;if&lt;/strong&gt; (event.data) {
      &lt;strong&gt;const&lt;/strong&gt; chunk = event.data;
      &lt;strong&gt;const&lt;/strong&gt; content = chunk.choices[&lt;span style="color:#008080"&gt;0&lt;/span&gt;]?.delta?.content || &lt;span style="color:#dd1144"&gt;''&lt;/span&gt;;
      process.stdout.write(content); &lt;em&gt;// 实时输出&lt;/em&gt;
    }
  }
}&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h3&gt;🔐&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/tree/main/packages/cosec"&gt;&lt;code&gt;@ahoo-wang/fetcher-cosec&lt;/code&gt;&lt;/a&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 企业安全&lt;/h3&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;使用集成认证保护您的应用：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;🔐 自动认证&lt;/strong&gt;: 自动 CoSec 认证头部&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;📱 设备管理&lt;/strong&gt;: 使用 localStorage 持久化的设备 ID 管理&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🔄 令牌刷新&lt;/strong&gt;: 基于响应代码 (401) 的自动令牌刷新&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;🌈 请求跟踪&lt;/strong&gt;: 用于跟踪的唯一请求 ID 生成&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;💾 令牌存储&lt;/strong&gt;: 安全的令牌存储管理&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;📦 包生态系统&lt;/h2&gt; 
&lt;div&gt; 
 &lt;table cellspacing="0" style="border-collapse:collapse; border-spacing:0px; box-sizing:border-box; display:block; margin-bottom:16px; margin-top:0px; overflow:auto; width:1116px; word-break:initial"&gt; 
  &lt;tbody&gt; 
   &lt;tr&gt; 
    &lt;th&gt;包&lt;/th&gt; 
    &lt;th&gt;描述&lt;/th&gt; 
    &lt;th&gt;版本&lt;/th&gt; 
    &lt;th&gt;大小&lt;/th&gt; 
   &lt;/tr&gt; 
  &lt;/tbody&gt; 
  &lt;tbody&gt; 
   &lt;tr&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/tree/main/packages/fetcher"&gt;&lt;code&gt;@ahoo-wang/fetcher&lt;/code&gt;&lt;/a&gt;&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;strong&gt;核心 HTTP 客户端&lt;/strong&gt;&lt;br&gt; 具有 Axios 类似 API 的超轻量级基础&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40ahoo-wang%2Ffetcher" target="_blank"&gt;&lt;img alt="npm" src="https://oscimg.oschina.net/oscnet//c9c44440edd659e7146429b9eec99b76.svg" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40ahoo-wang%2Ffetcher" target="_blank"&gt;&lt;img alt="size" src="https://oscimg.oschina.net/oscnet//aae69884ca65fd11d86ea6fcf1193fcc.jpg" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/td&gt; 
   &lt;/tr&gt; 
   &lt;tr&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/tree/main/packages/decorator"&gt;&lt;code&gt;@ahoo-wang/fetcher-decorator&lt;/code&gt;&lt;/a&gt;&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;strong&gt;装饰器支持&lt;/strong&gt;&lt;br&gt; 声明式 API 服务定义&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40ahoo-wang%2Ffetcher-decorator" target="_blank"&gt;&lt;img alt="npm" src="https://oscimg.oschina.net/oscnet//444624bfee03dcc26ccb9768ee91311b.svg" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40ahoo-wang%2Ffetcher-decorator" target="_blank"&gt;&lt;img alt="size" src="https://oscimg.oschina.net/oscnet//2781fbcef02879f3f399b5b11a189726.jpg" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/td&gt; 
   &lt;/tr&gt; 
   &lt;tr&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/tree/main/packages/eventstream"&gt;&lt;code&gt;@ahoo-wang/fetcher-eventstream&lt;/code&gt;&lt;/a&gt;&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;strong&gt;实时流和 LLM 支持&lt;/strong&gt;&lt;br&gt; Server-Sent Events (SSE) 支持，原生 LLM 流式 API 集成&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40ahoo-wang%2Ffetcher-eventstream" target="_blank"&gt;&lt;img alt="npm" src="https://oscimg.oschina.net/oscnet//08a2b973ca2f759fa3d408ab9a0fb9fb.svg" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40ahoo-wang%2Ffetcher-eventstream" target="_blank"&gt;&lt;img alt="size" src="https://oscimg.oschina.net/oscnet//c38138e42a39d298ed881800ba7c78c6.jpg" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/td&gt; 
   &lt;/tr&gt; 
   &lt;tr&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/tree/main/packages/cosec"&gt;&lt;code&gt;@ahoo-wang/fetcher-cosec&lt;/code&gt;&lt;/a&gt;&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;strong&gt;企业安全&lt;/strong&gt;&lt;br&gt; CoSec 认证集成&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40ahoo-wang%2Ffetcher-cosec" target="_blank"&gt;&lt;img alt="npm" src="https://oscimg.oschina.net/oscnet//3cfcdf4d3291753ea6a8765ff8714bc2.svg" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/td&gt; 
    &lt;td style="border-color:#dfe2e5; border-style:solid; border-width:1px"&gt;&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40ahoo-wang%2Ffetcher-cosec" target="_blank"&gt;&lt;img alt="size" src="https://oscimg.oschina.net/oscnet//bc58bd9bfaddd4742ce78c4a33b47ad8.jpg" referrerpolicy="no-referrer"&gt;&lt;/a&gt;&lt;/td&gt; 
   &lt;/tr&gt; 
  &lt;/tbody&gt; 
 &lt;/table&gt; 
&lt;/div&gt; 
&lt;h2&gt;🚀 快速开始&lt;/h2&gt; 
&lt;h3&gt;📦 安装&lt;/h3&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;em&gt;# 安装核心包&lt;/em&gt;
npm install @ahoo-wang/fetcher

&lt;em&gt;# 或安装所有扩展，包括 LLM 流支持&lt;/em&gt;
npm install @ahoo-wang/fetcher @ahoo-wang/fetcher-decorator @ahoo-wang/fetcher-eventstream @ahoo-wang/fetcher-cosec

&lt;em&gt;# 使用 pnpm (推荐)&lt;/em&gt;
pnpm add @ahoo-wang/fetcher

&lt;em&gt;# 使用 yarn&lt;/em&gt;
yarn add @ahoo-wang/fetcher&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h3&gt;⚡ 快速示例&lt;/h3&gt; 
&lt;h4&gt;基础 HTTP 客户端&lt;/h4&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;strong&gt;import&lt;/strong&gt; { Fetcher } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher'&lt;/span&gt;;

&lt;em&gt;// 创建 fetcher 实例&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; fetcher = &lt;strong&gt;new&lt;/strong&gt; Fetcher({
  baseURL: &lt;span style="color:#dd1144"&gt;'https://api.example.com'&lt;/span&gt;,
  timeout: &lt;span style="color:#008080"&gt;5000&lt;/span&gt;,
});

&lt;em&gt;// 带路径和查询参数的 GET 请求&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; response = &lt;strong&gt;await&lt;/strong&gt; fetcher.get(&lt;span style="color:#dd1144"&gt;'/users/{id}'&lt;/span&gt;, {
  urlParams: {
    path: { id: &lt;span style="color:#008080"&gt;123&lt;/span&gt; },
    query: { include: &lt;span style="color:#dd1144"&gt;'profile'&lt;/span&gt; },
  },
});
&lt;strong&gt;const&lt;/strong&gt; userData = &lt;strong&gt;await&lt;/strong&gt; response.json&amp;lt;User&amp;gt;();

&lt;em&gt;// 自动 JSON 转换的 POST 请求&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; createUserResponse = &lt;strong&gt;await&lt;/strong&gt; fetcher.post(&lt;span style="color:#dd1144"&gt;'/users'&lt;/span&gt;, {
  body: { name: &lt;span style="color:#dd1144"&gt;'John Doe'&lt;/span&gt;, email: &lt;span style="color:#dd1144"&gt;'john@example.com'&lt;/span&gt; },
});&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h4&gt;声明式 API 服务&lt;/h4&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;strong&gt;import&lt;/strong&gt; { NamedFetcher } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher'&lt;/span&gt;;
&lt;strong&gt;import&lt;/strong&gt; {
  api,
  &lt;strong&gt;get&lt;/strong&gt;,
  post,
  path,
  query,
  body,
} &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher-decorator'&lt;/span&gt;;

&lt;em&gt;// 注册命名 fetcher&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; apiFetcher = &lt;strong&gt;new&lt;/strong&gt; NamedFetcher(&lt;span style="color:#dd1144"&gt;'api'&lt;/span&gt;, {
  baseURL: &lt;span style="color:#dd1144"&gt;'https://api.example.com'&lt;/span&gt;,
});

&lt;em&gt;// 使用装饰器定义服务&lt;/em&gt;
&lt;span&gt;@api&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'/users'&lt;/span&gt;, { fetcher: &lt;span style="color:#dd1144"&gt;'api'&lt;/span&gt; })
&lt;strong&gt;class&lt;/strong&gt; UserService {
  &lt;span&gt;@get&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'/'&lt;/span&gt;)
  getUsers(&lt;span&gt;@query&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'limit'&lt;/span&gt;) limit?: &lt;span style="color:#0086b3"&gt;number&lt;/span&gt;): &lt;span style="color:#0086b3"&gt;Promise&lt;/span&gt;&amp;lt;User[]&amp;gt; {
    &lt;strong&gt;throw&lt;/strong&gt; &lt;strong&gt;new&lt;/strong&gt; &lt;span style="color:#0086b3"&gt;Error&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'Auto-generated'&lt;/span&gt;);
  }

  &lt;span&gt;@post&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'/'&lt;/span&gt;)
  createUser(&lt;span&gt;@body&lt;/span&gt;() user: User): &lt;span style="color:#0086b3"&gt;Promise&lt;/span&gt;&amp;lt;User&amp;gt; {
    &lt;strong&gt;throw&lt;/strong&gt; &lt;strong&gt;new&lt;/strong&gt; &lt;span style="color:#0086b3"&gt;Error&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'Auto-generated'&lt;/span&gt;);
  }

  &lt;span&gt;@get&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'/{id}'&lt;/span&gt;)
  getUser(&lt;span&gt;@path&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'id'&lt;/span&gt;) id: &lt;span style="color:#0086b3"&gt;number&lt;/span&gt;): &lt;span style="color:#0086b3"&gt;Promise&lt;/span&gt;&amp;lt;User&amp;gt; {
    &lt;strong&gt;throw&lt;/strong&gt; &lt;strong&gt;new&lt;/strong&gt; &lt;span style="color:#0086b3"&gt;Error&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'Auto-generated'&lt;/span&gt;);
  }
}

&lt;em&gt;// 使用服务&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; userService = &lt;strong&gt;new&lt;/strong&gt; UserService();
&lt;strong&gt;const&lt;/strong&gt; users = &lt;strong&gt;await&lt;/strong&gt; userService.getUsers(&lt;span style="color:#008080"&gt;10&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h4&gt;强大的拦截器&lt;/h4&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;strong&gt;import&lt;/strong&gt; { Fetcher } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher'&lt;/span&gt;;

&lt;strong&gt;const&lt;/strong&gt; fetcher = &lt;strong&gt;new&lt;/strong&gt; Fetcher({ baseURL: &lt;span style="color:#dd1144"&gt;'https://api.example.com'&lt;/span&gt; });

&lt;em&gt;// 添加带排序的请求拦截器&lt;/em&gt;
fetcher.interceptors.request.use({
  name: &lt;span style="color:#dd1144"&gt;'auth-interceptor'&lt;/span&gt;,
  order: &lt;span style="color:#008080"&gt;100&lt;/span&gt;,
  intercept(exchange) {
    exchange.request.headers.Authorization = &lt;span style="color:#dd1144"&gt;'Bearer '&lt;/span&gt; + getAuthToken();
  },
});

&lt;em&gt;// 添加响应拦截器用于日志记录&lt;/em&gt;
fetcher.interceptors.response.use({
  name: &lt;span style="color:#dd1144"&gt;'logging-interceptor'&lt;/span&gt;,
  order: &lt;span style="color:#008080"&gt;10&lt;/span&gt;,
  intercept(exchange) {
    &lt;span style="color:#0086b3"&gt;console&lt;/span&gt;.log(&lt;span style="color:#dd1144"&gt;'Response:'&lt;/span&gt;, exchange.response.status);
  },
});&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h4&gt;实时流和 LLM 支持&lt;/h4&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;strong&gt;import&lt;/strong&gt; { Fetcher } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher'&lt;/span&gt;;
&lt;strong&gt;import&lt;/strong&gt; { EventStreamInterceptor } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher-eventstream'&lt;/span&gt;;

&lt;strong&gt;const&lt;/strong&gt; fetcher = &lt;strong&gt;new&lt;/strong&gt; Fetcher({ baseURL: &lt;span style="color:#dd1144"&gt;'https://api.example.com'&lt;/span&gt; });
fetcher.interceptors.response.use(&lt;strong&gt;new&lt;/strong&gt; EventStreamInterceptor());

&lt;em&gt;// 流式实时事件 (通用 SSE)&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; response = &lt;strong&gt;await&lt;/strong&gt; fetcher.get(&lt;span style="color:#dd1144"&gt;'/events'&lt;/span&gt;);
&lt;strong&gt;if&lt;/strong&gt; (response.eventStream) {
  &lt;strong&gt;for&lt;/strong&gt; &lt;strong&gt;await&lt;/strong&gt; (&lt;strong&gt;const&lt;/strong&gt; event of response.eventStream()) {
    &lt;span style="color:#0086b3"&gt;console&lt;/span&gt;.log(&lt;span style="color:#dd1144"&gt;'Real-time event:'&lt;/span&gt;, event);
  }
}

&lt;em&gt;// 流式 LLM 响应，逐个令牌输出&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; llmResponse = &lt;strong&gt;await&lt;/strong&gt; fetcher.post(&lt;span style="color:#dd1144"&gt;'/chat/completions'&lt;/span&gt;, {
  body: {
    model: &lt;span style="color:#dd1144"&gt;'gpt-3.5-turbo'&lt;/span&gt;,
    messages: [{ role: &lt;span style="color:#dd1144"&gt;'user'&lt;/span&gt;, content: &lt;span style="color:#dd1144"&gt;'Hello!'&lt;/span&gt; }],
    stream: &lt;span&gt;true&lt;/span&gt;,
  },
});

&lt;strong&gt;if&lt;/strong&gt; (llmResponse.jsonEventStream) {
  &lt;em&gt;// 专门用于 LLM API 的 JSON SSE 事件&lt;/em&gt;
  &lt;strong&gt;for&lt;/strong&gt; &lt;strong&gt;await&lt;/strong&gt; (&lt;strong&gt;const&lt;/strong&gt; event of llmResponse.jsonEventStream&amp;lt;ChatCompletionChunk&amp;gt;()) {
    &lt;strong&gt;const&lt;/strong&gt; content = event.data.choices[&lt;span style="color:#008080"&gt;0&lt;/span&gt;]?.delta?.content || &lt;span style="color:#dd1144"&gt;''&lt;/span&gt;;
    process.stdout.write(content); &lt;em&gt;// 实时令牌输出&lt;/em&gt;
  }
}&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h3&gt;⚡ 快速示例&lt;/h3&gt; 
&lt;h4&gt;基础 HTTP 客户端&lt;/h4&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;strong&gt;import&lt;/strong&gt; { Fetcher } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher'&lt;/span&gt;;

&lt;em&gt;// 创建 fetcher 实例&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; fetcher = &lt;strong&gt;new&lt;/strong&gt; Fetcher({
  baseURL: &lt;span style="color:#dd1144"&gt;'https://api.example.com'&lt;/span&gt;,
  timeout: &lt;span style="color:#008080"&gt;5000&lt;/span&gt;,
});

&lt;em&gt;// 带路径和查询参数的 GET 请求&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; response = &lt;strong&gt;await&lt;/strong&gt; fetcher.get(&lt;span style="color:#dd1144"&gt;'/users/{id}'&lt;/span&gt;, {
  urlParams: {
    path: { id: &lt;span style="color:#008080"&gt;123&lt;/span&gt; },
    query: { include: &lt;span style="color:#dd1144"&gt;'profile'&lt;/span&gt; },
  },
});
&lt;strong&gt;const&lt;/strong&gt; userData = &lt;strong&gt;await&lt;/strong&gt; response.json&amp;lt;User&amp;gt;();

&lt;em&gt;// 自动 JSON 转换的 POST 请求&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; createUserResponse = &lt;strong&gt;await&lt;/strong&gt; fetcher.post(&lt;span style="color:#dd1144"&gt;'/users'&lt;/span&gt;, {
  body: { name: &lt;span style="color:#dd1144"&gt;'John Doe'&lt;/span&gt;, email: &lt;span style="color:#dd1144"&gt;'john@example.com'&lt;/span&gt; },
});&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h4&gt;声明式 API 服务&lt;/h4&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;strong&gt;import&lt;/strong&gt; { NamedFetcher } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher'&lt;/span&gt;;
&lt;strong&gt;import&lt;/strong&gt; {
  api,
  &lt;strong&gt;get&lt;/strong&gt;,
  post,
  path,
  query,
  body,
} &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher-decorator'&lt;/span&gt;;

&lt;em&gt;// 注册命名 fetcher&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; apiFetcher = &lt;strong&gt;new&lt;/strong&gt; NamedFetcher(&lt;span style="color:#dd1144"&gt;'api'&lt;/span&gt;, {
  baseURL: &lt;span style="color:#dd1144"&gt;'https://api.example.com'&lt;/span&gt;,
});

&lt;em&gt;// 使用装饰器定义服务&lt;/em&gt;
&lt;span&gt;@api&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'/users'&lt;/span&gt;, { fetcher: &lt;span style="color:#dd1144"&gt;'api'&lt;/span&gt; })
&lt;strong&gt;class&lt;/strong&gt; UserService {
  &lt;span&gt;@get&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'/'&lt;/span&gt;)
  getUsers(&lt;span&gt;@query&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'limit'&lt;/span&gt;) limit?: &lt;span style="color:#0086b3"&gt;number&lt;/span&gt;): &lt;span style="color:#0086b3"&gt;Promise&lt;/span&gt;&amp;lt;User[]&amp;gt; {
    &lt;strong&gt;throw&lt;/strong&gt; &lt;strong&gt;new&lt;/strong&gt; &lt;span style="color:#0086b3"&gt;Error&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'Auto-generated'&lt;/span&gt;);
  }

  &lt;span&gt;@post&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'/'&lt;/span&gt;)
  createUser(&lt;span&gt;@body&lt;/span&gt;() user: User): &lt;span style="color:#0086b3"&gt;Promise&lt;/span&gt;&amp;lt;User&amp;gt; {
    &lt;strong&gt;throw&lt;/strong&gt; &lt;strong&gt;new&lt;/strong&gt; &lt;span style="color:#0086b3"&gt;Error&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'Auto-generated'&lt;/span&gt;);
  }

  &lt;span&gt;@get&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'/{id}'&lt;/span&gt;)
  getUser(&lt;span&gt;@path&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'id'&lt;/span&gt;) id: &lt;span style="color:#0086b3"&gt;number&lt;/span&gt;): &lt;span style="color:#0086b3"&gt;Promise&lt;/span&gt;&amp;lt;User&amp;gt; {
    &lt;strong&gt;throw&lt;/strong&gt; &lt;strong&gt;new&lt;/strong&gt; &lt;span style="color:#0086b3"&gt;Error&lt;/span&gt;(&lt;span style="color:#dd1144"&gt;'Auto-generated'&lt;/span&gt;);
  }
}

&lt;em&gt;// 使用服务&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; userService = &lt;strong&gt;new&lt;/strong&gt; UserService();
&lt;strong&gt;const&lt;/strong&gt; users = &lt;strong&gt;await&lt;/strong&gt; userService.getUsers(&lt;span style="color:#008080"&gt;10&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h4&gt;强大的拦截器&lt;/h4&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;strong&gt;import&lt;/strong&gt; { Fetcher } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher'&lt;/span&gt;;

&lt;strong&gt;const&lt;/strong&gt; fetcher = &lt;strong&gt;new&lt;/strong&gt; Fetcher({ baseURL: &lt;span style="color:#dd1144"&gt;'https://api.example.com'&lt;/span&gt; });

&lt;em&gt;// 添加带排序的请求拦截器&lt;/em&gt;
fetcher.interceptors.request.use({
  name: &lt;span style="color:#dd1144"&gt;'auth-interceptor'&lt;/span&gt;,
  order: &lt;span style="color:#008080"&gt;100&lt;/span&gt;,
  intercept(exchange) {
    exchange.request.headers.Authorization = &lt;span style="color:#dd1144"&gt;'Bearer '&lt;/span&gt; + getAuthToken();
  },
});

&lt;em&gt;// 添加响应拦截器用于日志记录&lt;/em&gt;
fetcher.interceptors.response.use({
  name: &lt;span style="color:#dd1144"&gt;'logging-interceptor'&lt;/span&gt;,
  order: &lt;span style="color:#008080"&gt;10&lt;/span&gt;,
  intercept(exchange) {
    &lt;span style="color:#0086b3"&gt;console&lt;/span&gt;.log(&lt;span style="color:#dd1144"&gt;'Response:'&lt;/span&gt;, exchange.response.status);
  },
});&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h4&gt;实时流和 LLM 支持&lt;/h4&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;strong&gt;import&lt;/strong&gt; { Fetcher } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher'&lt;/span&gt;;
&lt;strong&gt;import&lt;/strong&gt; { EventStreamInterceptor } &lt;strong&gt;from&lt;/strong&gt; &lt;span style="color:#dd1144"&gt;'@ahoo-wang/fetcher-eventstream'&lt;/span&gt;;

&lt;strong&gt;const&lt;/strong&gt; fetcher = &lt;strong&gt;new&lt;/strong&gt; Fetcher({ baseURL: &lt;span style="color:#dd1144"&gt;'https://api.example.com'&lt;/span&gt; });
fetcher.interceptors.response.use(&lt;strong&gt;new&lt;/strong&gt; EventStreamInterceptor());

&lt;em&gt;// 流式实时事件 (通用 SSE)&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; response = &lt;strong&gt;await&lt;/strong&gt; fetcher.get(&lt;span style="color:#dd1144"&gt;'/events'&lt;/span&gt;);
&lt;strong&gt;if&lt;/strong&gt; (response.eventStream) {
  &lt;strong&gt;for&lt;/strong&gt; &lt;strong&gt;await&lt;/strong&gt; (&lt;strong&gt;const&lt;/strong&gt; event of response.eventStream()) {
    &lt;span style="color:#0086b3"&gt;console&lt;/span&gt;.log(&lt;span style="color:#dd1144"&gt;'Real-time event:'&lt;/span&gt;, event);
  }
}

&lt;em&gt;// 流式 LLM 响应，逐个令牌输出&lt;/em&gt;
&lt;strong&gt;const&lt;/strong&gt; llmResponse = &lt;strong&gt;await&lt;/strong&gt; fetcher.post(&lt;span style="color:#dd1144"&gt;'/chat/completions'&lt;/span&gt;, {
  body: {
    model: &lt;span style="color:#dd1144"&gt;'gpt-3.5-turbo'&lt;/span&gt;,
    messages: [{ role: &lt;span style="color:#dd1144"&gt;'user'&lt;/span&gt;, content: &lt;span style="color:#dd1144"&gt;'Hello!'&lt;/span&gt; }],
    stream: &lt;span&gt;true&lt;/span&gt;,
  },
});

&lt;strong&gt;if&lt;/strong&gt; (llmResponse.jsonEventStream) {
  &lt;em&gt;// 专门用于 LLM API 的 JSON SSE 事件&lt;/em&gt;
  &lt;strong&gt;for&lt;/strong&gt; &lt;strong&gt;await&lt;/strong&gt; (&lt;strong&gt;const&lt;/strong&gt; event of llmResponse.jsonEventStream&amp;lt;ChatCompletionChunk&amp;gt;()) {
    &lt;strong&gt;const&lt;/strong&gt; content = event.data.choices[&lt;span style="color:#008080"&gt;0&lt;/span&gt;]?.delta?.content || &lt;span style="color:#dd1144"&gt;''&lt;/span&gt;;
    process.stdout.write(content); &lt;em&gt;// 实时令牌输出&lt;/em&gt;
  }
}
&lt;/code&gt;
&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h2&gt;🎯 集成测试示例&lt;/h2&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;在我们的&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/tree/main/integration-test"&gt;integration-test&lt;/a&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;目录中探索全面、可用于生产的实现：&lt;/p&gt; 
&lt;h3&gt;🌐 HTTP 操作&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;Typicode API 集成&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 与 JSONPlaceholder API 的完整集成，演示实际使用&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;参数处理&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 高级路径、查询和正文参数管理&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;错误处理&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 全面的错误处理模式&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;🔧 高级模式&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;COSEC 认证&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 具有令牌管理的企业级安全集成&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;拦截器链&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 具有有序执行的复杂中间件模式&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;超时策略&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 自适应超时配置&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;📡 实时特性&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;LLM 流式 API&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 原生支持从大型语言模型流式响应&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;Server-Sent Events&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 实时通知和更新&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;流数据&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 具有自动重新连接的连续数据流&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;🎨 装饰器模式&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;声明式服务&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 使用 TypeScript 装饰器的清晰、可维护的 API 服务层&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;元数据扩展&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 用于高级用例的自定义元数据&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;类型安全 API&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;- 完整的 TypeScript 集成和自动类型推断&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;🏗️ 开发和贡献&lt;/h2&gt; 
&lt;h3&gt;🛠️ 先决条件&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;Node.js &amp;gt;= 16&lt;/li&gt; 
 &lt;li&gt;pnpm &amp;gt;= 8&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;🚀 开发命令&lt;/h3&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;&lt;em&gt;# 安装依赖&lt;/em&gt;
pnpm install

&lt;em&gt;# 构建所有包&lt;/em&gt;
pnpm build

&lt;em&gt;# 运行单元测试和覆盖率&lt;/em&gt;
pnpm &lt;span style="color:#0086b3"&gt;test&lt;/span&gt;:unit

&lt;em&gt;# 格式化代码&lt;/em&gt;
pnpm format

&lt;em&gt;# 清理构建产物&lt;/em&gt;
pnpm clean

&lt;em&gt;# 运行集成测试&lt;/em&gt;
&lt;em&gt;#pnpm test:it&lt;/em&gt;&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;h3&gt;📦 版本管理&lt;/h3&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;同时更新所有包：&lt;/p&gt; 
&lt;div&gt; 
 &lt;pre&gt;&lt;code&gt;pnpm update-version &amp;lt;new-version&amp;gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;/div&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;这会更新单体仓库中所有&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;code&gt;package.json&lt;/code&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;文件的版本字段。&lt;/p&gt; 
&lt;h3&gt;🤝 贡献&lt;/h3&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;欢迎贡献！&lt;/p&gt; 
&lt;ol&gt; 
 &lt;li&gt;Fork 仓库&lt;/li&gt; 
 &lt;li&gt;创建您的功能分支 (&lt;code&gt;git checkout -b feature/AmazingFeature&lt;/code&gt;)&lt;/li&gt; 
 &lt;li&gt;提交您的更改 (&lt;code&gt;git commit -m 'Add some AmazingFeature'&lt;/code&gt;)&lt;/li&gt; 
 &lt;li&gt;推送到分支 (&lt;code&gt;git push origin feature/AmazingFeature&lt;/code&gt;)&lt;/li&gt; 
 &lt;li&gt;打开拉取请求&lt;/li&gt; 
&lt;/ol&gt; 
&lt;h3&gt;🧪 质量保证&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;代码覆盖率&lt;/strong&gt;: 所有包保持在 95% 以上&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;TypeScript&lt;/strong&gt;: 启用严格类型检查&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;代码检查&lt;/strong&gt;: 使用 Prettier 的 ESLint 保证一致的代码风格&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;测试&lt;/strong&gt;: 全面的单元和集成测试&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;📄 许可证&lt;/h2&gt; 
&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:start"&gt;本项目采用&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://gitee.com/AhooWang/fetcher/LICENSE"&gt;Apache-2.0 许可证&lt;/a&gt;。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/369097/fetcher-1-0-0-released</link>
      <guid isPermaLink="false">https://www.oschina.net/news/369097/fetcher-1-0-0-released</guid>
      <pubDate>Sun, 17 Aug 2025 01:02:00 GMT</pubDate>
      <author>来源: 资讯</author>
    </item>
  </channel>
</rss>
