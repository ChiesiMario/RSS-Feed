<?xml version="1.0" encoding="UTF-8"?>
<rss
    xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>開源中國-最新資訊</title>
        <link>https://www.oschina.net/news/project</link>
        <atom:link href="http://8.134.148.166:30044/oschina/news" rel="self" type="application/rss+xml"></atom:link>
        <description>開源中國-最新資訊 - Powered by RSSHub</description>
        <generator>RSSHub</generator>
        <webMaster>contact@rsshub.app (RSSHub)</webMaster>
        <language>en</language>
        <lastBuildDate>Thu, 01 May 2025 02:38:11 GMT</lastBuildDate>
        <ttl>5</ttl>
        <item>
            <title>谷歌 NotebookLM 支持生成中文播客</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;2025 年 4 月 29 日，NotebookLM 宣佈其「音頻概覽」功能 (Audio Overviews) 新增 76 種語言支持，&lt;strong&gt;包括中文&lt;/strong&gt;。&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;https://static.oschina.net/uploads/space/2025/0430/182126_70q9_2720166.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;谷歌 NotebookLM&amp;nbsp;功能於去年推出，旨在通過 AI 虛擬主持人根據用戶上傳到 NotebookLM 的文檔（如課程閲讀材料或法律摘要）生成播客，幫助用戶以另一種方式理解和消化文檔中的信息。&lt;/p&gt; 
&lt;p&gt;用戶可以上傳中文 PDF、Google Docs、網頁鏈接或文本，NotebookLM 會生成中文總結或回答基於中文來源的問題。支持高達 50 萬字的單個來源，適合處理長篇中文文檔。&lt;/p&gt; 
&lt;p&gt;NotebookLM 目前支持 130 種語言，的輸入來源和聊天功能，包括，中文（簡體和繁體）。用戶可以上傳中文文檔、網頁鏈接或文本，並以中文與 AI 進行交互。&lt;/p&gt; 
&lt;p&gt;谷歌表示，&lt;strong&gt;此前「音頻概覽」功能僅支持用戶賬戶所設置的首選語言。&lt;/strong&gt;如今，公司新增了「輸出語言」選項，用戶可以自由選擇生成「音頻概覽」的語言。谷歌強調，用戶可以隨時更改語言設置，這樣就能根據需要輕鬆創建多語言內容或學習材料。&lt;/p&gt; 
&lt;p&gt;雖然 NotebookLM 已支持生成中文播客，但依然存在輸出語言限制：AI 生成的自動摘要、學習指南、簡報文檔、FAQ 和時間線目前僅支持英語輸出。&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;使用方法：&lt;/strong&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;可以通過 Google 賬戶設置或 NotebookLM 的設置菜單（右上角 「設置&amp;gt; 輸出語言」）將聊天響應、學習指南等輸出設置為中文（簡體）。&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;https://static.oschina.net/uploads/space/2025/0430/181416_gPP2_2720166.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;詳情：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fsupport.google.com%2Fnotebooklm%2Fanswer%2F15731776&quot;&gt;https://support.google.com/notebooklm/answer/15731776&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347613/google-notebooklm-chinese</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347613/google-notebooklm-chinese</guid>
            <pubDate>Sun, 27 Apr 2025 10:22:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>字節跳動「豆包」視頻生成功能升級</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;字節跳動旗下「豆包大模型團隊」宣佈視頻生成功能迎來升級。打開豆包 App 對話框選擇「照片動起來」，或在豆包電腦版及 doubao.com 網頁選擇「視頻生成」，輸入文字或者上傳參考圖即可體驗。&lt;/p&gt; 
&lt;p&gt;具體來看，升級後的豆包視頻功能相較於此前版本，在語義理解、影調畫質、風格類型，以及動作連貫性等方面，均有明顯提升。而本次升級由「豆包·視頻生成模型-Seedance」支持。&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://static.oschina.net/uploads/space/2025/0430/175730_Zdyt_2720166.gif&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;本月 16 日，豆包發佈最新圖像生成基礎模型「&lt;a href=&quot;https://www.oschina.net/news/345096/seedream-3-0-technical-report&quot;&gt;Seedream 3.0」&lt;/a&gt;。&lt;/p&gt; 
&lt;p&gt;據瞭解，Seedream 3.0 是一個原生高分辨率、支持中英雙語的圖像生成基礎模型。其能夠實現原生 2K 直出，擁有更準確的小字生成能力、文字排版效果增強。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347607</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347607</guid>
            <pubDate>Sun, 27 Apr 2025 09:58:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>DeepSeek 開源 DeepSeek-Prover-V2-671B</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;DeepSeek 在官方 Hugging face 庫上低調開源發佈了其最新開源模型 &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhuggingface.co%2Fdeepseek-ai%2FDeepSeek-Prover-V2-671B%2Ftree%2Fmain&quot; target=&quot;_blank&quot;&gt;DeepSeek-Prover-V2-671B&lt;/a&gt;。一個專注於數學定理證明的大語言模型，專門針對形式化數學證明任務進行優化。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img height=&quot;235&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-ed2a65fa1c2e41f6cd4a194f3c8e4eb72c9.png&quot; width=&quot;500&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;新模型具有以下特點：&lt;/span&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;span style=&quot;color:#000000&quot;&gt;模型規模巨大：參數量約為 671B（6710 億參數），這從模型分片數量（163 個）和每個分片大小（約 4.3GB）可以看出&lt;/span&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;span style=&quot;color:#000000&quot;&gt;使用了 DeepSeek-V3 的架構：採用 MoE（混合專家）模式，具有 61 層 Transformer 層，7168 維隱藏層&lt;/span&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;span style=&quot;color:#000000&quot;&gt;專為數學定理證明優化：從名稱&quot;Prover&quot;（證明者）可以看出，這是一個專注於數學推理和定理證明的專業模型&lt;/span&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;span style=&quot;color:#000000&quot;&gt;支持超長上下文：最大位置嵌入達 163840，使其能處理複雜的數學證明&lt;/span&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;span style=&quot;color:#000000&quot;&gt;採用 FP8 量化：通過量化技術減小模型大小，提高推理效率&lt;/span&gt;&lt;/li&gt; 
&lt;/ul&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347602</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347602</guid>
            <pubDate>Sun, 27 Apr 2025 09:40:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>最懂打工人的智能體：DeepChat ！</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                                                    
                                                                                                                                                    &lt;p&gt;你是不是跟我一樣，用過很多 Manus 平替，最後都覺得不好用？&lt;/p&gt; 
&lt;p&gt;那可以試試 DeepChat，堪稱最懂打工人的智能體！&lt;/p&gt; 
&lt;p&gt;別人家的 AI 最多幫我輸出個 Word 文件，或者生成一張圖片，但是，DeepChat 他是真的可以幫我幹活！比如，直接整理文件夾：&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet//462899e6284bd72a7aa8cc659b7f77a9.jpg&quot; width=&quot;1080&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;p style=&quot;text-align:left&quot;&gt;甚至可以 3d 建模：&lt;/p&gt; 
 &lt;p style=&quot;text-align:left&quot;&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet//e28a7b7dacdb6541a10901a273cb02df.jpg&quot; width=&quot;1080&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
 &lt;p style=&quot;text-align:left&quot;&gt;以及接入 MySQL 業務系統：&lt;/p&gt; 
 &lt;p style=&quot;text-align:left&quot;&gt;&lt;img height=&quot;541&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-f9fdf9492f447e7b7eb22c513ce740c5ad6.png&quot; width=&quot;1222&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;/div&gt; 
&lt;p&gt;還有實時渲染 React：&lt;/p&gt; 
&lt;p&gt;&lt;img height=&quot;963&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-66d8bab58d0ee5e13e1ff03ac2e873df722.png&quot; width=&quot;1549&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;更別説其他各種常用的 AI 場景了，比如回答問題、代碼生成、寫小紅書創意文案、數據分析、圖表生成、寫報告等等，都不是問題！&lt;/p&gt; 
&lt;p&gt;難怪從 2 月份開源到現在，DeepChat 在 GitHub 上 Star 數已經超過 2K，直接起飛。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;5 月 7 日晚，&lt;span style=&quot;color:#3498db&quot;&gt;DeepChat 作者謝孟軍&lt;/span&gt;將做客開源中國 OSChina 直播欄目《技術領航》 ，跟大家展示一下，要怎麼用 DeepChat，他到底能幹些什麼？&lt;/strong&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;div&gt; 
  &lt;blockquote&gt; 
   &lt;p&gt;直播主題：開源領域的桌面端 Manus：DeepChat&lt;/p&gt; 
   &lt;p&gt;直播時間：5 月 7 日週三 19:00-20:00&lt;/p&gt; 
   &lt;p&gt;直播平台：視頻號 「OSC 開源社區」&lt;/p&gt; 
   &lt;p&gt;&lt;img height=&quot;2055&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-631967f0c244586d2b1d7018feaaea8849c.png&quot; width=&quot;900&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
  &lt;/blockquote&gt; 
  &lt;div&gt; 
   &lt;div&gt;
     謝孟軍還是 ThinkInAI 社區創始人，專注於大模型在企業的應用研究與落地，參與編制《工業垂類大模型實施指南》國家標準。在此之前，他在雲計算和大數據分析領域擁有十餘年經驗，是 GopherChina 社區創始人。 
   &lt;/div&gt; 
   &lt;div&gt;
     &amp;nbsp; 
   &lt;/div&gt; 
   &lt;div&gt;
     開發 DeepChat 第一個版本，謝孟軍只用了幾天時間，經過多次更新，現在也是相當拿得出手了： 
   &lt;/div&gt; 
  &lt;/div&gt; 
  &lt;div&gt; 
   &lt;div&gt;
     &amp;nbsp; 
   &lt;/div&gt; 
   &lt;ul&gt; 
    &lt;li style=&quot;text-align:left&quot;&gt; 
     &lt;div&gt;
       多模型統一管理：一個應用支持幾乎所有主流 LLM，無需在多個應用間切換 
     &lt;/div&gt; &lt;/li&gt; 
    &lt;li style=&quot;text-align:left&quot;&gt; 
     &lt;div&gt;
       本地模型無縫集成：內置 Ollama 支持，無需命令行操作即可管理和使用本地模型 
     &lt;/div&gt; &lt;/li&gt; 
    &lt;li style=&quot;text-align:left&quot;&gt; 
     &lt;div&gt;
       強大的搜索增強：支持多種搜索引擎，讓 AI 回答更加準確和及時 
     &lt;/div&gt; &lt;/li&gt; 
    &lt;li style=&quot;text-align:left&quot;&gt; 
     &lt;div&gt;
       高級工具調用：內置 MCP 支持，無需額外配置即可使用代碼執行、網絡訪問等工具 
     &lt;/div&gt; &lt;/li&gt; 
    &lt;li style=&quot;text-align:left&quot;&gt; 
     &lt;div&gt;
       注重隱私保護：本地數據存儲，支持網絡代理，減少信息泄露風險 
     &lt;/div&gt; &lt;/li&gt; 
    &lt;li style=&quot;text-align:left&quot;&gt; 
     &lt;div&gt;
       開源友好：基於 Apache License 2.0 協議，適合商業和個人使用 
     &lt;/div&gt; &lt;/li&gt; 
   &lt;/ul&gt; 
   &lt;div&gt;
     所以，趕緊用起來吧！ 
    &lt;br&gt; 
    &lt;br&gt; 
    &lt;strong&gt;GitHub：&lt;/strong&gt; 
    &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FThinkInAIXYZ%2Fdeepchat&quot; target=&quot;_blank&quot;&gt;https://github.com/ThinkInAIXYZ/deepchat&lt;/a&gt; 
    &lt;br&gt; &amp;nbsp; 
   &lt;/div&gt; 
   &lt;div&gt; 
    &lt;strong&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FThinkInAIXYZ%2Fdeepchat&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color:#2c3e50&quot;&gt;官網：&lt;/span&gt;&lt;/a&gt;&lt;/strong&gt; 
    &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdeepchat.thinkinai.xyz%2F&quot; target=&quot;_blank&quot;&gt;https://deepchat.thinkinai.xyz/&lt;/a&gt; 
   &lt;/div&gt; 
   &lt;div&gt;
     &amp;nbsp; 
   &lt;/div&gt; 
  &lt;/div&gt; 
  &lt;hr&gt; 
  &lt;p style=&quot;color:#333333; margin-left:0; margin-right:0; text-align:left&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;《技術領航》是開源中國 OSCHINA 推出的一檔直播欄目，旨在為&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;開源軟件、商業產品、前沿技術、知名品牌活動等各類項目&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;提供一個展示平台，基本上每週五晚上開播&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;欄目邀請項目的創始人、核心團隊成員或資深用戶作為嘉賓，通過路演式直播分享項目的亮點和經驗，有助於提高項目的知名度，吸引更多的用戶和開發者關注。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
  &lt;p style=&quot;color:#333333; margin-left:0; margin-right:0; text-align:left&quot;&gt;&lt;span&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;如果你手上也有好的項目，想要跟同行交流分享，歡迎聯繫我，欄目隨時開放～&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
  &lt;p style=&quot;color:#333333; margin-left:0; margin-right:0; text-align:center&quot;&gt;&lt;img height=&quot;537&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-4dd54c1b0b817689ceefa15aa66d79cfae8.png&quot; width=&quot;400&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
 &lt;/div&gt; 
 &lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;/div&gt;
                                                                                    &lt;/div&gt;
                                                                            </description>
            <link>https://my.oschina.net/u/3859945/blog/18277285</link>
            <guid isPermaLink="false">https://my.oschina.net/u/3859945/blog/18277285</guid>
            <pubDate>Sun, 27 Apr 2025 09:34:00 GMT</pubDate>
            <author>原創</author>
        </item>
        <item>
            <title>Nacos 3.0 正式發佈：MCP Registry、安全零信任、鏈接更多生態</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                                                    
                                                                                                                                                    &lt;p&gt;Nacos 3.0 正式版本發佈啦！升級 MCP Registry，圍繞着 MCP 服務管理，MCP 多種類型註冊，包含 MCP Server 註冊、編排、動態調試和管理，並且提供 Nacos-MCP-Router 可以進行 MCP 動態發現，可以自動安裝、代理 MCP Server，全生態面向 AI Registry 進行升級；升級安全架構，默認開啓鑑權，基礎架構一系列升級，作為雲原生時代的基礎設施級產品，Nacos 3.0 不僅是技術能力的躍升，更是以更高效、安全的方式幫助用戶構建雲原生 AI 應用架構！&lt;/p&gt; 
&lt;h1&gt;一、Nacos 3.0 背景&lt;/h1&gt; 
&lt;p&gt;&lt;strong&gt;Nacos&lt;/strong&gt; &lt;code&gt;/nɑ:kəʊs/&lt;/code&gt;是 Dynamic &lt;strong&gt;Na&lt;/strong&gt; ming and &lt;strong&gt;Co&lt;/strong&gt; nfiguration &lt;strong&gt;S&lt;/strong&gt; ervice 的首字母簡稱，定位於一個更易於構建雲原生 AI 應用的動態服務發現、配置管理和服務管理平台。從 2018 年 7 月開始宣佈開源以來，已經走過了第六個年頭，在這六年裏，備受廣大開源用戶歡迎，收穫許多社區大獎。Nacos 在社區共同的建設下不斷成長，逐步的開始幫助用戶解決實際問題，助力企業數字化轉型，目前已經廣泛的使用在國內的公司中，根據微服務領域調查問卷，Nacos 在註冊配置中心領域已經成為&lt;strong&gt;國內首選&lt;/strong&gt; ，佔有 &lt;strong&gt;50%+ 國內市場&lt;/strong&gt; 份額，被&lt;strong&gt;各行各業的頭部企業&lt;/strong&gt;廣泛使用！&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-3fb365721bf33108baf5ed0576600ad1ed2.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;Nacos 在 2.X 版本經過近三年的技術演進，已成功實現最初設計的&lt;code&gt;高性能架構&lt;/code&gt;與&lt;code&gt;靈活擴展能力&lt;/code&gt;，並持續優化產品&lt;code&gt;易用性&lt;/code&gt;與&lt;code&gt;安全防護體系&lt;/code&gt;。隨着人工智能時代的全面到來，大語言模型（ LLM ）的成熟應用正推動行業進入 AI 原生化發展階段。在此背景下，業界對 AI 原生應用開發標準的探索、AI Agent 框架的技術創新、動態 Prompt 的場景化需求，以及 MCP 協議、A2A 通信規範等技術生態的構建，均對服務治理體系提出了新的要求。Nacos 3.0 架構迭代的就是為了更好的這些技術趨勢；Nacos 3.0 將重點構建面向 AI 原生架構的服務治理平台，為，模型 / MCP Server / Agent 等新型業務智能場景架構提供更高效的運行支撐；&lt;/p&gt; 
&lt;p&gt;Nacos 3.0 提升安全性，整體架構安全拆分，默認開啓鑑權，並且支持動態數據源密鑰等零信任方案；多語言生態，覆蓋主流開發語言，Python、GoLang、Rust 作為重要部分，發佈多個核心組件，可以打通 K8S 生態的 Service / ConfigMap / Secret 數據，面向全場景可以作為統一管理平台；&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-44f3fa5563b5956582923d7cc1cd2e73622.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;h1&gt;二、Nacos 3.0 發佈 MCP registry&lt;/h1&gt; 
&lt;p&gt;Nacos 3.0 作為 MCP Registry ，主要定位在更易用的幫助管理 MCP 服務，動態管理 MCP 信息、Tools 描述和列表等，無需重啓和運維，讓 MCP 的調試更簡單易用，並且支持將普通的 HTTP 或者 RPC 服務快速轉化成一個 MCP 服務，Nacos 面相 MCP 可以彙總多種場景來源的 MCP 服務，包含 Local MCP Server、Remote MCP Server 以及 MCP 代理網關等場景，並且支持 Credentials 配置統一管理，Nacos 具備進行統一管理 MCP 上下游服務能力；&lt;/p&gt; 
&lt;h2&gt;MCP Registry 服務管理&lt;/h2&gt; 
&lt;p&gt;Nacos 3.0 的 MCP Registry 圍繞着 MCP 服務註冊、MCP 服務訂閲，進行 MCP 服務整體的產品化管理能力；&lt;/p&gt; 
&lt;p&gt;MCP 多種類型註冊，包含 MCP Server 註冊、編排、動態調試和管理，並且提供 Nacos-MCP-Router 可以進行 MCP 動態發現，可以自動安裝、代理 MCP Server ，Nacos 3.0 全生態面向 AI Registry 進行升級；&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-3f50890f45241188eb1b9c87522a2f58b7d.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;ol&gt; 
 &lt;li&gt;MCP 服務註冊，進行動態管理&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;p&gt;註冊到 Nacos 的 MCP Server，可以進行動態管理 MCP 服務， 包含 MCP 的描述信息以及 Tools 描述和動態關閉開啓等；&lt;/p&gt; 
&lt;h4&gt;三種場景的 MCP 都可以進行自動註冊和管理&lt;/h4&gt; 
&lt;ol&gt; 
 &lt;li&gt; &lt;p&gt;【業務 API 接口註冊】存量 API 轉化成 MCP Server ，&quot;0 代碼&quot; 配置生成 MCP 協議；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;【新構建 MCP Server 註冊】構建 MCP Server 自動註冊服務，配置依賴自動註冊管理，支持 Java（Spring AI）、Python、TypeScript（進行中）；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;【存量 MCP Server 註冊】存量已經構建 MCP Server 進行動態信息調整，通過 Nacos-MCP-Router 進行註冊，也可以通過 Higress 網關代理進行註冊；&lt;/p&gt; &lt;/li&gt; 
&lt;/ol&gt; 
&lt;h3&gt;1.1. 【業務 API 接口註冊】&quot;0 代碼&quot; 轉化成 MCP 協議&lt;/h3&gt; 
&lt;p&gt;Nacos 作為 MCP Registry，扮演控制面的角色，不僅管理 Tool 的元信息，還可以把存量 API 轉化成 MCP 協議，為企業提供了從傳統服務治理向 AI 應用架構無縫升級的全新路徑。&lt;/p&gt; 
&lt;p&gt;Nacos 可以幫助應用快速把業務已有的 API 接口，轉換成 MCP 協議接口，結合 Higress AI 網關，實現 MCP 協議和存量協議的轉換。其中，Nacos 提供存量的服務管理和動態的服務信息定義，幫助業務在存量接口不改動的情況下，通過 Nacos 的服務管理動態生效 Higress 網關所生成的 MCP Server 協議；&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-7e72e3898033d8bdc4e172cfbc7f3342ec4.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;h3&gt;1.2. 【新構建 MCP Server 註冊】自動註冊服務動態管理&lt;/h3&gt; 
&lt;p&gt;如果你的場景需要新構建 MCP Server，那麼你可以註冊到 Nacos MCP Registry，不僅可以統一進行發現 MCP 服務，還可以幫助你構建的 MCP Server 具備動態調整治理的能力；&lt;/p&gt; 
&lt;p&gt;針對新建的 MCP 服務，Nacos 提供多語言支持與自動化註冊能力，過程中無代碼侵入，或者是更換註解，無需寫代碼集成 Nacos 就可以自動註冊，並且還有主要的特點：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;跨語言生態適配&lt;/strong&gt;：支持 Java（Spring AI）、Python、TypeScript（進行中）等主流框架，通過標準 SDK 或配置聲明快速接入。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;管理配置自動生效&lt;/strong&gt;：服務註冊後，可以通過 Nacos 產品化管理 MCP 元數據，如更新 MCP 描述、Tools 工具列表，更新信息後對應 MCP Server 會自動生效更改。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;統一管理 MCP 發現&lt;/strong&gt;：可以通過放在 Nacos 統一管理，可以通過網關或者 Nacos-Mcp-Router 進行統一的配置發現；&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;能動態管理 MCP 信息、工具描述和列表等，而無需進行繁瑣的系統重啓或運維。這樣不僅降低了系統維護的複雜性，還大大提高了調試的效率和便捷性。&lt;/p&gt; 
&lt;h3&gt;1.3. 【存量 MCP Server 註冊】自動註冊服務動態管理&lt;/h3&gt; 
&lt;p&gt;如果你的場景需要從市場或者開源獲取 MCP Server，那麼 Nacos MCP Registry ，也可以幫你進行統一 MCP 服務管理；這部分需要配合 Nacos-Mcp-Router 或者 Higress 網關，來做，在前邊代理 MCP Server 服務，幫你進行管理元數據和統一的發現；在文章 MCP 實踐章節部分，我們會以高德官方 MCP Server 為例，做動手實踐做個演示 Demo；&lt;/p&gt; 
&lt;ol start=&quot;2&quot;&gt; 
 &lt;li&gt;MCP 自動發現：Nacos-MCP-Router&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;p&gt;你可以直接將對應的接入點配置到 AI Agent 的 MCP Server 配置中，也可以選擇結合 Nacos-MCP-Router 進行統一管理對接，這樣你不需要每個 MCP Server 在 AI Agent 上單獨配置，並且解決多個 MCP Server 在 AI Agent 上進行配置選擇工具不準確和 Tokens 消耗黑洞的問題；&lt;/p&gt; 
&lt;h3&gt;Nacos 社區新成員 Nacos-MCP-Router&lt;/h3&gt; 
&lt;p&gt;Nacos-MCP-Router 是 Nacos 3.0 開源的，具備 MCP 協議的，新組件，具備對 MCP Server 語義搜索能力、自動安裝能力（如果需要）、自動註冊（可動態修改），協議代理能力等一系列 MCP 高級能力，可以幫助業務快速發現並且使用 MCP 服務；&lt;/p&gt; 
&lt;p&gt;Nacos-MCP-Router Github 倉庫地址： &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-mcp-router&quot; target=&quot;_blank&quot;&gt;https://github.com/nacos-group/nacos-mcp-router&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;Nacos-MCP-Router 是 MCP 官方，標準的 Python Server，TypeScript 等語言版本已經在進行中，後續會推出，以滿足不通語言場景訴求；&lt;/p&gt; 
&lt;h3&gt;2.1. 自動發現：Nacos 管理 MCP Server 進行搜索和代理&lt;/h3&gt; 
&lt;p&gt;AI Agent 不需要進行每個 MCP Server 配置，只需要配置 Nacos MCP Router （後文用 Router 代替）即可，Router 會和 AI Agent 自動交互搜索需要的 MCP Server 進行調用，對於 AI Agent 減少了大量 MCP Server 無關信息，減少 AI Agent 使用 MCP 對底層大模型 Tokens 消耗；&lt;/p&gt; 
&lt;p&gt;Nacos MCP Router 的 MCP 信息搜索能力，是基於向量數據庫進行語義匹配，在海量 MCP Server 配置以及搜索的實時性上取得平衡，並且過程中，還儘可能利用 AI Agent 智能性，幫助進行篩選確定 MCP Server 的選擇，在確保減少 AI Agent 的總 Tokens 消耗的同時，又大大的擴展了 AI Agent 能使用 MCP Server 的上限；&lt;/p&gt; 
&lt;h3&gt;2.2. 對 MCP Server 分發、安裝、註冊、管理&lt;/h3&gt; 
&lt;p&gt;在使用 Nacos MCP Router 的場景中，如果 AI Agent 需要的 MCP Server 沒有部署，當前 MCP 需要安裝的話，Router 也會自動幫助安裝，並且會向 Nacos 自動註冊信息，Nacos MCP Registry 可以動態管理信息，管控調整動態可以生效；避免了使用官方 MCP Server 匹配不準，信息沒有辦法進行調整的問題，Tools 列表沒辦法動態關閉和開啓的問題；&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-916227d60c5a1c4d61d90764bed21b8f5ba.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;ol start=&quot;3&quot;&gt; 
 &lt;li&gt;使用 Nacos 管理 MCP 的優勢&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;存量 API 可以快速構建 MCP Server&lt;/strong&gt;：Nacos 配置存量 API 描述可以 0 代碼的構建成 MCP Server，快速跟進 MCP 協議；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;MCP Server 統一管理平台&lt;/strong&gt;：存量 API 轉化、私有構建 MCP Server、各種類型官方（local、remote） MCP Server 以及市場 MCP ，多種場景 MCP Server 統一進行管理，動態調整；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;MCP Credentials 密鑰管理&lt;/strong&gt;：支持 MCP Server 相關密鑰統一管理，基於 Credentials 模塊可以統一管理和下發，配合 Router 無需配置到 AI Agent 上；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;MCP 信息動態下發實時生效&lt;/strong&gt;：MCP 描述信息、Tools 以及 Prompts 都需要進行調試，才能達到更好效果，Nacos 可以幫助管理和下發信息，更高效的調試描述；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;MCP 信息歷史版本管理&lt;/strong&gt;：Nacos 會管理和存儲 MCP 信息歷史版本，方便進行 Diff 對比差異，方便進行快速回滾；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;MCP 信息灰度管理&lt;/strong&gt;：Nacos 在 MCP 信息生效的時候，可以進行灰度分批生效，方便對比 MCP 信息效果；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;密鑰配置加密管理&lt;/strong&gt;：MCP 信息裏以及調用 API 過程中，需要密碼等敏感信息，Nacos 提供了敏感信息加密的能力，幫助更安全的使用 MCP；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;MCP 返回格式 JSON 轉換 XML&lt;/strong&gt;：和大模型交互都有體感，對模型來説，JSON 沒有 XML 格式好用，所以在 MCP 返回信息格式上，Nacos 可以幫助 MCP 把返回格式從 JSON 變成 XML，方便大模型理解；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;MCP 服務管理及健康檢查&lt;/strong&gt;：MCP 服務會越來越多，Nacos 有大規模服務管理能力，並且持續在迭代過程中，為 MCP 做健康檢查、實時更新、負載均衡，起到 MCP 服務發現中心的託管作用。&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h1&gt;三、Nacos 3.0 MCP 動手實踐&lt;/h1&gt; 
&lt;ol&gt; 
 &lt;li&gt;Nacos 3.0 部署和啓動流程&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;h3&gt;1.1. Nacos 部署&lt;/h3&gt; 
&lt;p&gt;Nacos 3.0 默認開啓鑑權，啓動前，需要配置一下密鑰信息，啓動後，登錄 Nacos 控制枱設置初始化管理員密碼；&lt;/p&gt; 
&lt;p&gt;通過 Docker 部署 nacos ，可以根據以下命令，快速 Docker 部署：&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;language-java&quot;&gt;export NACOS_AUTH_TOKEN=自定義的 token，token 為用戶名密碼生成 JWT Token 的密鑰（原串要 32 位以上，之後做 base64 格式化）
export NACOS_AUTH_IDENTITY_VALUE=自定義的 IDENTITY_VALUE，任意英文和數字組合
docker run -td -e PREFER_HOST_MODE=hostname -e MODE=standalone -e NACOS_AUTH_IDENTITY_KEY=serverIdentity -e NACOS_AUTH_IDENTITY_VALUE=${NACOS_AUTH_IDENTITY_VALUE} -e NACOS_AUTH_TOKEN=${NACOS_AUTH_TOKEN} -p 8080:8080 -p 8848:8848 -p 9848:9848 nacos/nacos-server

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;密鑰信息解釋&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;NACOS_AUTH_TOKEN ：Nacos 用於生成 JWT Token 的密鑰，使用長度大於 32 字符的字符串，再經過 Base64 編碼。&lt;/p&gt; 
 &lt;p&gt;NACOS_AUTH_IDENTITY_KEY：Nacos Server 端之間 Inner API 的身份標識的 Key，必填。&lt;/p&gt; 
 &lt;p&gt;NACOS_AUTH_IDENTITY_VALUE：Nacos Server 端之間 Inner API 的身份標識的 Value，必填。&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;也可以通過，下載 Nacos 安裝包進行部署 Nacos ，注意 JDK17+ 要求，除了密鑰信息必填，Nacos 3.0 的部署流程和 Nacos2.X 基本保持一致。&lt;/p&gt; 
&lt;p&gt;關於下載、安裝等詳細信息，這裏不進行詳細展開，可以查看 Nacos 官網文檔&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fnacos.io%2Fdocs%2Fv3.0%2Fquickstart%2Fquick-start%2F%3Fspm%3D5238cd80.2ef5001f.0.0.3f613b7c62sgI9&quot; target=&quot;_blank&quot;&gt;快速開始&lt;/a&gt;。&lt;/p&gt; 
&lt;ol start=&quot;2&quot;&gt; 
 &lt;li&gt;註冊 MCP Server ，變更 MCP 信息動態生效&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;p&gt;將 MCP Server 註冊到 Nacos MCP Registry 中，可以幫助整體管理，動態調整 MCP 信息和變更 Tools 、Resources、Prompts 信息，並且可以進行對接 Nacos 進行統一管理和使用 MCP Server ；&lt;/p&gt; 
&lt;h3&gt;2.1. 存量服務 &quot;0 代碼&quot;轉換成 MCP Server&lt;/h3&gt; 
&lt;p&gt;基於 Nacos 和 Higress 實現存量 Http 服務 0 代碼轉化為 MCP Server，首先在 Nacos 中配置 MCP 服務&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-7e301c44473a18d8753b45adc4b470664df.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;點擊創建 MCP 服務&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-60e32f0da722a0f1216d27e4718f1d766ad.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;協議類型選擇 Http，服務引用選擇一個已有的服務，&lt;strong&gt;訪問路徑填寫暴露在 higress 中的 mcp 服務的路徑，填寫完成之後點擊發布。我們在點擊編輯，進行 tools 的配置&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-1aaea3b3def3b8bc746396d88fe147a8b49.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;點擊添加 tools&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-9f614b6fbd07fabb939ca4dc7408e892353.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;配置 tools 的相關信息&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-c522394bc2ee6cd2a39fe43420793f6c637.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;這裏需要根據方法的參數信息配置參數映射模版，如果使用 Higress 作為 MCP 協議暴露，則需要配置 Higress REST-to-MCP 模版數據，模版配置的具體參數參考&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fnacos.io%2Fdocs%2Fv3.0%2Fmanual%2Fuser%2Fmcp-template%2F&quot; target=&quot;_blank&quot;&gt;文檔&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;配置完成之後，根據&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhigress.cn%2Fai%2Fmcp-quick-start%2F%3Fspm%3D36971b57.31888769.0.0.559550f86sCJw2%23%25E9%2585%258D%25E7%25BD%25AE-nacos-mcp-registry&quot; target=&quot;_blank&quot;&gt;文檔&lt;/a&gt;配置 Higress 連接到 Nacos 進行自動的 MCP 服務發現。&lt;/p&gt; 
&lt;h3&gt;2.2. 自己構建的 MCP Server，自動註冊到 Nacos 進行動態管理&lt;/h3&gt; 
&lt;p&gt;通過自己代碼方式構建 MCP Server，可以通過下邊方式自動的註冊到 Nacos 中，幫你管理你的 MCP Server，目前支持 Java、Python 方式，無需代碼改動或者輕改動自動註冊到 Nacos 上，目前社區 TypeScript 的還在進行中，額外是藉助 Nacos-MCP-Router 方式作為類似的 SideCar 形式，也可以自動註冊到 Nacos 上進行管理；&lt;/p&gt; 
&lt;h4&gt;2.2.1. Spring AI 構建 MCP Server，無需改代碼，自動註冊到 Nacos&lt;/h4&gt; 
&lt;p&gt;如果你是基於 Spring AI 官方構建的 MCP Server，只需要引入對應的 Nacos MCP 的依賴，無需修改代碼，就可以實現 MCP Server 自動註冊到 Nacos 中進行管理：&lt;/p&gt; 
&lt;ol&gt; 
 &lt;li&gt;引入依賴_（注意 WebMvc SSE 或者 WebFlux SSE 需求二選一即可）_&lt;/li&gt; 
&lt;/ol&gt; 
&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&amp;lt;!-- Spring AI 官方 Mcp Server Starter
&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;org.springframework.ai&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;spring-ai-mcp-server-spring-boot-starter&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.0.0-M6&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt; --&amp;gt;

&amp;lt;!-- 將 Spring AI 官方 Mcp Server Starter 替換成 Spring AI Alibaba Mcp Nacos --&amp;gt;
&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;com.alibaba.cloud.ai&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;spring-ai-alibaba-mcp-nacos&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.0.0-M6.2-mcp-SNAPSHOT&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;

&amp;lt;!--WebMvc SSE，和 WebFlux 模式二選一--&amp;gt;
&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;org.springframework.ai&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;spring-ai-mcp-server-webmvc-spring-boot-starter&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.0.0-M6&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;

&amp;lt;!--WebFlux SSE，和 WebMvc 模式二選一--&amp;gt;
&amp;lt;dependency&amp;gt;
  &amp;lt;groupId&amp;gt;org.springframework.ai&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;spring-ai-mcp-server-webmvc-spring-boot-starter&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;1.0.0-M6&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;


&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;配置文件 application.yml：&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;language-yaml&quot;&gt;spring:
  ai:
    mcp:
      server:
        name: Demo
        version: 1.0.0
        type: SYNC
    alibaba:
      mcp:
        nacos:
          enabled: true
          server-addr: &amp;lt;nacos-sever-addr&amp;gt;
          username: &amp;lt;username&amp;gt;
          password: &amp;lt;password&amp;gt;

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;MCP Server 啓動之後即可自動註冊到 Nacos 上，可以通過 Nacos MCP 進行界面信息管理了，更改實時生效；&lt;/p&gt; 
&lt;h4&gt;2.2.2. Python 構建 MCP Server，更換註解，自動註冊到 Nacos&lt;/h4&gt; 
&lt;p&gt;基於 MCP 官方 Python SDK 構建 MCP Server 的流程，只需要在官方 Demo 的基礎上稍作調整，引入以下依賴，您的 MCP Server 就可以註冊到 Nacos 上，並實現 Description 以及 Tools 等信息的託管以及實時生效，&lt;/p&gt; 
&lt;p&gt;1.安裝依賴&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;pip install nacos-mcp-wrapper-python

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;2.代碼實現&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;# server.py
from nacos_mcp_wrapper.server.nacos_mcp import NacosMCP
from nacos_mcp_wrapper.server.nacos_settings import NacosSettings

# 代碼方式
nacos_settings = NacosSettings()
nacos_settings.SERVER_ADDR = &quot;&amp;lt;nacos-server-addr&amp;gt; e.g. 127.0.0.1:8848&quot;
mcp = NacosMCP(&quot;Demo&quot;,nacos_settings=nacos_settings)

# 環境變量方式：配置環境變量 NACOS_MCP_SERVER_SERVER_ADDR=127.0.0.1:8848
mcp = NacosMCP(&quot;Demo&quot;)

@mcp.tool()
def get_weather(city_name:str) -&amp;gt; str:
    &quot;&quot;&quot;Get weather information by city name&quot;&quot;&quot;
    return &quot;Sunny&quot;

mcp.run()

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;3.啓動 Mcp Server&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;python server.py

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;Mcp Server 啓動之後即可自動註冊到 Nacos 上，就可以實現基於 Nacos MCP Registry 的信息管理。詳細配置方式請參考&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-mcp-wrapper-python&quot; target=&quot;_blank&quot;&gt;https://github.com/nacos-group/nacos-mcp-wrapper-python&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;TypeScript 語言構建 MCP Server 自動註冊到 Nacos，目前還在進行中，後邊陸續會開放出來；&lt;/p&gt; 
&lt;p&gt;並且通過藉助 Nacos-MCP-Router 方式作為類似的 SideCar 形式，也可以自動註冊到 Nacos 上進行管理；&lt;/p&gt; 
&lt;ol start=&quot;3&quot;&gt; 
 &lt;li&gt;MCP Server 自動發現： Nacos-MCP-Router 演示&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;h3&gt;3.1. 環境要求&lt;/h3&gt; 
&lt;p&gt;Nacos-MCP-Router 是 MCP 官方，標準的 Python Server，所以需要 Python 基本環境準備：&lt;/p&gt; 
&lt;p&gt;部署環境，依賴 Python 運行環境和包管理工具 uv ；請確保 Python 版本在 3.12 及以上；&lt;/p&gt; 
&lt;p&gt;Python 安裝方法參考：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.python.org%2Fabout%2Fgettingstarted%2F&quot; target=&quot;_blank&quot;&gt;https://www.python.org/about/gettingstarted/&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;uv 安裝方法參考：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.astral.sh%2Fuv%2Fgetting-started%2Finstallation%2F&quot; target=&quot;_blank&quot;&gt;https://docs.astral.sh/uv/getting-started/installation/&lt;/a&gt;&lt;/p&gt; 
&lt;h3&gt;3.2. Nacos-MCP-Router 安裝與配置&lt;/h3&gt; 
&lt;ol&gt; 
 &lt;li&gt;Nacos MCP 配置文件，作為標準 MCP Sever 可以配置到 Cline 、Cursor 等，標準支持 MCP 的 AI Agent 中：&lt;/li&gt; 
&lt;/ol&gt; 
&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;{
  &quot;mcpServers&quot;:
  {
    &quot;nacos-mcp-router&quot;:
    {
      &quot;command&quot;: &quot;uvx&quot;,
      &quot;args&quot;:
      [
        &quot;nacos-mcp-router@latest&quot;
      ],
      &quot;env&quot;:
      {
        &quot;NACOS_ADDR&quot;: &quot;&amp;lt;Nacos 服務端地址，格式為：IP:Port, 默認配置 8848 端口&amp;gt;&quot;,
        &quot;NACOS_USERNAME&quot;: &quot;&amp;lt;對應 Nacos 中的用戶名&amp;gt;&quot;,
        &quot;NACOS_PASSWORD&quot;: &quot;&amp;lt;用戶名對應的密碼&amp;gt;&quot;
      }
    }
  }
}

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;配置到 AI Agent 中，會進行自動安裝部署，用 Cline 為例，可以看到安裝成功，並且可以看到對應的 Tools 工具列表；&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-41a84f4c23feb38019a35ae946f28e2addd.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;em&gt;如果安裝不成功，或者起不來，可以檢查一下環境，比如 uvx 命令是否安裝過，安裝過的話，有安裝過但運行不起來，可以在&quot;command&quot;字段配置 uvx 安裝的全路徑，默認在 ~/.local/bin/uvx ，之後重試即可；&lt;/em&gt;&lt;/p&gt; 
&lt;h3&gt;3.3. Nacos-MCP-Router 搜索、分發、部署、代理 MCP Server&lt;/h3&gt; 
&lt;p&gt;Nacos-MCP-Router 安裝好後，可以路由匹配 Nacos MCP Registry 管理的 MCP Server（ Remote 、Local 、代理服務），上邊章節介紹了，主要是 Remote MCP Server 以及，存量服務，轉換成 MCP Server 的註冊場景，下邊介紹 Local MCP Server 場景，Nacos-MCP-Router 對 MCP Server 的搜索、分發、部署、使用的整體流程；&lt;/p&gt; 
&lt;ol&gt; 
 &lt;li&gt;在 Nacos 控制枱 &lt;strong&gt;MCP 管理&lt;/strong&gt; Tab 頁，點擊&quot;&lt;strong&gt;創建 MCP Server&quot;&lt;/strong&gt;&lt;/li&gt; 
&lt;/ol&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-a770404d5664c1347b82aec99775838e20e.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;ol start=&quot;2&quot;&gt; 
 &lt;li&gt;服務名，填寫 amap-mcp-server，選 stdio 協議，填寫高德官方 MCP Server 配置，以及 MCP 描述，最後，點擊&quot;&lt;strong&gt;發佈&quot;。&lt;/strong&gt;&lt;/li&gt; 
&lt;/ol&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-87b2e021a6a87789e983b1321baaca66cc2.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;ol start=&quot;3&quot;&gt; 
 &lt;li&gt; &lt;p&gt;使用 Nacos-MCP-Router 發現和使用其他 MCP Server&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;根據任務描述搜索可用的 MCP Server，Nacos-MCP-Router 給出可用 MCP Server 列表&lt;/p&gt; &lt;/li&gt; 
&lt;/ol&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-2d61624089d2b47ea48b983ac3d6f57f9ab.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;ol start=&quot;2&quot;&gt; 
 &lt;li&gt;LLM 選擇使用高德地圖 MCP Server，並調 add_mcp_server 工具初始化，如果需要安裝，在這部 Nacos-MCP-Router 會自動安裝&lt;/li&gt; 
&lt;/ol&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-f2d2d6c469ba4dc755218cd243843f5fb62.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;ol start=&quot;3&quot;&gt; 
 &lt;li&gt;LLM 通過 Nacos-MCP-Router 使用高德地圖 MCP 工具得出最終結果&lt;/li&gt; 
&lt;/ol&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-6703749401a4aecf5d1d39a735a021863cb.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-82d1dc76a30d8bccb8f801b9e0908bb5ac3.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-fe1acfc2209f44a57061ff8c45a7852cdc3.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;整體過程中，AI Agent 只配置 Nacos-MCP-Router ，就可以對 Nacos MCP Registry 所有 MCP 服務進行按需使用；&lt;/p&gt; 
&lt;h1&gt;四、3.0 核心能力升級&lt;/h1&gt; 
&lt;ol&gt; 
 &lt;li&gt;安全部署架構&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;p&gt;在之前的 Nacos 版本中，為了方便用戶的部署和使用，控制枱與引擎程序一直合併部署，且共用同一個端口。這種方式雖然增強了使用的便利性，但也帶來了一些安全風險。此外，由於控制枱和引擎在使用場景上存在差異，它們對於開放網絡訪問範圍及安全認證需求的預期也不盡相同。基於此，Nacos3.0 中對控制枱和引擎的部署架構進行較大調整。&lt;/p&gt; 
&lt;p&gt;在 Nacos 3.0 中，控制枱將獨立在一個 Web 容器中運行，允許用戶設定獨立的訪問端口。這一改變使得 Nacos 集羣的運維人員能夠更靈活地配置網絡訪問控制列表（ACL），例如，僅將控制枱端口開放給辦公網絡。同時，配合控制枱默認啓用的安全認證，這將顯著提高 Nacos 的&lt;code&gt;安全性&lt;/code&gt;。此外，獨立的 Web 容器還將與全新的 Admin API 相結合，實現控制枱和引擎節點的靈活拆分部署，使得它們能夠在不同節點上運行，增強&lt;code&gt;安全性&lt;/code&gt;。&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-d0b9993bd039adb7614f926edb1d3f32d1d.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;ol start=&quot;2&quot;&gt; 
 &lt;li&gt;K8S 生態同步&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;p&gt;Nacos 作為微服務領域的註冊配置中心，被越來越多的開發者使用，也與多種開發框架集成，大大方便了開發者。但目前仍然有一些場景沒有滿足。&lt;/p&gt; 
&lt;ol&gt; 
 &lt;li&gt; &lt;p&gt;有些用戶可能同時使用了 Nacos 服務發現與 K8s 服務發現，使用 Nacos 服務發現的應用希望能夠通過 Nacos 發現 K8s 集羣的服務；&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;應用目前使用 K8s 的 configmap 和 secret ，很方便的通過 Nacos 管理 configmap 和 secret，支持配置加解密能力提升配置管理的易用性和安全性；&lt;/p&gt; &lt;/li&gt; 
&lt;/ol&gt; 
&lt;h3&gt;2.1. Nacos 服務與 K8S 服務互相發現&lt;/h3&gt; 
&lt;p&gt;Nacos-Controller 就是為解決上述問題而誕生的。它可以幫助同步 K8s 的 Service 到 Nacos ，也可以支持 K8s 的 configmap、secret 與 Nacos 配置的雙向同步。&lt;/p&gt; 
&lt;p&gt;Nacos Controller 2.0 支持將 Kubernetes 集羣特定命名空間下的 Service 同步到 Nacos 指定命名空間下。用戶可以通過 Nacos 實現對 Kubernetes 服務的服務發現。以此實現跨 K8S 集羣的服務發現和訪問，或實現 K8S 集羣與非 K8S 集羣間的服務發現和訪問，解決容災備份，平滑遷移等一系列高可用，穩定性相關的高級服務發現場景。&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-971f1215006f666cd6fbe0b8c548abfba48.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-86173406785bfc3453c1b59393eb4d8b665.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;h3&gt;2.2. Nacos 管理 K8S configmap 和 secret&lt;/h3&gt; 
&lt;p&gt;Nacos Controller 2.0 支持 Kubernetes 集羣配置和 Nacos 配置的雙向同步，將 Kubernetes 集羣特定命名空間下的 ConfigMap 以及 Secret 同步到 Nacos 指定命名空間下中。用戶可以通過 Nacos 實現對於 Kubernetes 集羣配置的修改和管理，以達到 ConfigMap 和 Secret 的動態修改、版本管理、灰度發佈等場景。&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-4561c7653b26e34f4e8388b8c09a1b81c91.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;關於 Nacos Controller 2.0 的更多細節，歡迎訪問&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-controller%2Fblob%2Fmain%2FREADME.md&quot; target=&quot;_blank&quot;&gt;Nacos Controller 文檔&lt;/a&gt;。同時關於 Nacos Controller 2.0 使用的具體技術細節和使用方式的相關技術文章也已經在準備中，相信很快就能和大家見面。&lt;/p&gt; 
&lt;ol start=&quot;3&quot;&gt; 
 &lt;li&gt;多語言能力&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;p&gt;Nacos 3.0 將多語言生態建設作為重要方向，在持續完善 Java 生態的同時，重點拓展 Go 語言與 Python 生態的深度整合。對於 Java 開發者，Nacos 將繼續維護並優化 Client 組件及配套工具鏈的演進；針對 Go 語言生態，將強化與主流應用框架及服務網關的 SDK 適配，實現開箱即用的註冊發現與配置管理能力。在 Python 領域，Nacos 將與 AI 開發框架建立緊密技術協同，通過提供原生集成方案，幫助機器學習工程師便捷接入動態 Prompt 管理、 MCP &amp;amp; A2A 服務自動註冊&amp;amp;發現等。這些舉措旨在為不同語言社區提供低門檻、高兼容性的服務發現與配置管理能力，讓各類技術棧的開發者都能充分受益於 Nacos 的高性能服務治理體系。&lt;/p&gt; 
&lt;p&gt;其他多語言生態，Nacos3.0 會通過各類社區活動和社區任務， 邀請社區貢獻者共同豐富多語言生態：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-sdk-go&quot; target=&quot;_blank&quot;&gt;Nacos Go SDK&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-sdk-python&quot; target=&quot;_blank&quot;&gt;Nacos Python SDK&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-sdk-rust&quot; target=&quot;_blank&quot;&gt;Nacos Rust SDK&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-sdk-csharp&quot; target=&quot;_blank&quot;&gt;Nacos C# SDK&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-sdk-nodejs&quot; target=&quot;_blank&quot;&gt;Nacos Node.js SDK&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-sdk-cpp&quot; target=&quot;_blank&quot;&gt;Nacos C++ SDK&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-sdk-php&quot; target=&quot;_blank&quot;&gt;Nacos PHP SDK&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;ol start=&quot;4&quot;&gt; 
 &lt;li&gt;Nacos MCP Server&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;p&gt;Nacos 3.0 除了作為 MCP Registry 外，也能夠將自身的能力通過 MCP 暴露給 LLM，幫助 Nacos 的運維人員和使用者快速檢索數據和分析問題。 因此我們推出 Nacos MCP Server ------作為 Nacos 的智能擴展組件，它通過大語言模型技術，可快速檢索、解析 Nacos 集羣中的服務信息、配置項及命名空間數據，實現服務管理與 AI 能力的深度聯動，為開發者提供更智能的服務探索與配置洞察體驗。&lt;/p&gt; 
&lt;p&gt;Nacos MCP Server 已發佈 0.1.1 版本，歡迎參考&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnacos-group%2Fnacos-mcp-server&quot; target=&quot;_blank&quot;&gt;文檔&lt;/a&gt;進行試用。&lt;/p&gt; 
&lt;p&gt;&lt;em&gt;溫馨提示&lt;/em&gt;：當前版本為 MCP Server 早期技術驗證階段，功能將持續迭代優化中。目前支持服務/配置的查詢、檢索與列表展示等基礎操作，寫入功能將在後續版本中逐步開放。&lt;/p&gt; 
&lt;ol start=&quot;5&quot;&gt; 
 &lt;li&gt;更多實驗性功能&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;h3&gt;5.1. 分佈式鎖&lt;/h3&gt; 
&lt;p&gt;Nacos 社區向用戶徵集了他們對 Nacos 3.0 的期望功能，其中支持分佈式鎖的需求是呼聲最高的功能之一。分佈式鎖是一項在分佈式應用中常用的功能，目前大多數實現依賴於 Zookeeper 或 Redis 等產品。許多用戶已經將 Nacos 替換為 Zookeeper 來進行服務和配置管理，但由於 Nacos 尚未支持分佈式鎖，用戶仍需額外運維 Zookeeper 集羣，增加了系統的複雜性。&lt;/p&gt; 
&lt;p&gt;因此，Nacos 社區通過課題&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Falibaba%2Fnacos%2Fissues%2F10378&quot; target=&quot;_blank&quot;&gt;ISSUE#10378&lt;/a&gt;實現分佈式鎖的功能，並在 3.0.0 中引入分佈式鎖的實驗性功能，以滿足部分用戶對輕量級分佈式鎖的需求。這一功能的推出將幫助用戶減少對額外系統的依賴，從而簡化微服務應用架構，拓展 Nacos 的使用場景。歡迎大家試用並反饋使用中的問題。&lt;/p&gt; 
&lt;h3&gt;5.2. 服務&amp;amp;配置模糊訂閲&lt;/h3&gt; 
&lt;p&gt;支持配置和服務的模糊訂閲也是 Nacos 3.0 的期望功能中呼聲最高之一，在 Nacos 3.0.0 中，模糊訂閲的功能作為實驗性功能加入。用戶可以通過&lt;code&gt;fuzzyWatch&lt;/code&gt;接口可以使用一定的表達式，對指定分組、服務和配置進行批量訂閲；目前支持通過&lt;code&gt;*&lt;/code&gt;進行前綴模糊，後綴模糊，雙邊模糊匹配。歡迎大家試用並反饋使用中的問題。&lt;/p&gt; 
&lt;p&gt;模糊訂閲功能僅會推送服務、配置的新增以及刪除事件，並不會直接推送服務下實例列表，可在服務模糊訂閲的監聽器中結合 subscribe 接口實現服務下實例列表的變更監聽。&lt;/p&gt; 
&lt;p&gt;出於穩定性考慮，Nacos 對模糊訂閲的規則數量以及單個規則匹配的服務數量有上限保護。具體請參考&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fnacos.io%2Fdocs%2Fv3.0%2Fmanual%2Fuser%2Fjava-sdk%2Fusage%2F%3Fspm%3D5238cd80.2ef5001f.0.0.3f613b7cEikFoW&quot; target=&quot;_blank&quot;&gt;使用手冊&lt;/a&gt;。&lt;/p&gt; 
&lt;h1&gt;五、Nacos3.0 持續迭代演進和活動計劃&lt;/h1&gt; 
&lt;ol&gt; 
 &lt;li&gt;AI 相關能力演進&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;p&gt;在 Nacos 3.X 中，AI Agent 與大模型的應用場景也是 Nacos 3.X 的一個主要探索方向。Nacos 希望打造一個面向 AI 應用的動態配置與全場景管理能力，支持 AI Agent/MCP 的註冊與發現、大模型推理配置的動態生效、多語言框架集成，驅動動態化、智能化與高效開發運維。&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-358014941e0d5ab9486ae3e96306e2bc975.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;h3&gt;1.1. 動態 AI 配置與運行時調優的增強&lt;/h3&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-9ddea0522d8bd271684341608d945738bb6.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;Nacos 3.X 通過強化 Python-SDK 的迭代和功能演進，提供無狀態、高可用的參數分發能力，適配 Python（Langchain、Llamaindex）、Java（Spring-AI-Alibaba）、Go/Node.js 等多語言 AI 框架，用以支持 AI 相關參數的動態管理，例如：支持 LLM 模型參數（如權重、學習率、批大小）、Prompt 模板、特徵選擇、推理策略等動態更新，實現模型推理的實時調優（如 A/B 測試、流控、負載均衡）。同時動態管理 AI Agent 的任務規劃、調度策略、聯網參數及動態數據源，支持 Agent 實例的彈性擴縮容和全局狀態同步，實現 AI Agent 運行時的動態能力增強。&lt;/p&gt; 
&lt;h3&gt;1.2. MCP/AI Agent Registry&lt;/h3&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-7565c6f5a7151b112b5643ae7b5e6042e93.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;Nacos 3.X 計劃為模型推理服務（如 MCP Servers 或 Agent to Agent）提供實時參數配置，服務註冊與發現，版本控制，支持將存量 API 轉化為 MCP 或 A2A API，降低 AI 應用的開發和管理成本。另外 Nacos 3.X 計劃無縫對接 AI 應用平台（如終端應用運行時、算法優化工具鏈），提供 MCP 工具的路由、篩選等能力，降低 AI 應用依賴的成本和使用門檻。&lt;/p&gt; 
&lt;ol start=&quot;2&quot;&gt; 
 &lt;li&gt;架構能力提升&lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;p&gt;在 Nacos 3.0 的發展路線圖中，對於 Nacos 基礎架構能力持續提升，我們將繼續致力於提升易用性與普適性，以滿足用戶日益增長的需求。&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-9489c5eb90a3d60be4e9831cd171fec5b0b.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;在引擎自身方面，新版本計劃支持&lt;code&gt;DNS 協議&lt;/code&gt;，以進一步拓展 Nacos 在支持較弱編程語言場景中的適用性。另外對於&lt;code&gt;服務健康檢查體系&lt;/code&gt;，我們將優化相關機制，通過將健康檢查與服務類型解耦，提供更多關於服務可用性的判斷依據，這將使微服務之間的流量調用更加靈活，同時確保系統的穩定運行。最後對於社區中已經比較成熟的插件，我們會將其納入 Nacos 的主幹倉庫中進行維護，諸如&lt;code&gt;PostgreSQL 插件&lt;/code&gt;、&lt;code&gt;AES 配置加密插件&lt;/code&gt;等，讓這些插件在後續版本中隨引擎一起發佈、不需要再獨立構建引入。&lt;/p&gt; 
&lt;p&gt;在生態建設方面，我們將通過 Nacos Controller 的快速迭代，實現&lt;code&gt;Kubernetes 服務與配置的同步管理&lt;/code&gt;，從而使雲原生環境下的使用變得更加便捷。為用戶提供更加豐富的功能選擇與應用場景，努力構建一個高效、靈活的分佈式協調平台。&lt;/p&gt; 
&lt;h1&gt;六、社區歡迎共建&lt;/h1&gt; 
&lt;p&gt;Nacos 致力於幫助您發現、配置和管理微服務。Nacos 提供了一組簡單易用的特性集，幫助您快速實現動態服務發現、服務配置、服務元數據及 AI 管理。&lt;/p&gt; 
&lt;p&gt;Nacos 幫助用戶更敏捷和容易地構建、交付和管理雲原生 AI 應用的平台。 Nacos 是構建以&quot;服務&quot;為中心的現代應用架構 (例如微服務範式、雲原生範式、AI 原生範式) 的服務基礎設施。&lt;/p&gt; 
&lt;p&gt;Nacos 3.0 還有很多待完成的功能及大量待探索和開發的領域，歡迎大家掃碼加入 Nacos 社區羣及 Nacos MCP 社區討論羣，參與 Nacos 社區的貢獻和討論，在 Nacos 社區一起搭把手，讓你的代碼和能力有機會能在各行各業領域內進行釋放能量，期待認識你和你一起共建 Nacos 社區；&lt;/p&gt; 
&lt;p&gt;&lt;em&gt;&quot;Nacos 相信一切都是服務，每個服務節點被構想為一個星球，每個服務都是一個星系；Nacos 致力於幫助這些服務建立連接賦予智能，助力每個有面向星辰的夢想能夠透過雲層，飛在雲上，更好的鏈接整片星空。&quot;&lt;/em&gt;&lt;/p&gt; 
&lt;p&gt;Nacos 官網：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fnacos.io%2F&quot; target=&quot;_blank&quot;&gt;https://nacos.io/&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;Nacos 倉庫地址：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Falibaba%2Fnacos&quot; target=&quot;_blank&quot;&gt;https://github.com/alibaba/nacos&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;&quot;Nacos 社區羣 5&quot;羣的釘釘羣號： 120960003144&lt;/p&gt; 
&lt;p&gt;&quot;Nacos MCP 社區討論羣&quot;羣的釘釘羣號： 97760026913&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-3c80f9c42d825fb31317c1556bd11897856.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-d55d1ce2d41197f8018cb414abc224247ed.png&quot; alt=&quot;&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt;
                                                                                    &lt;/div&gt;
                                                                            </description>
            <link>https://my.oschina.net/u/3874284/blog/18267995</link>
            <guid isPermaLink="false">https://my.oschina.net/u/3874284/blog/18267995</guid>
            <pubDate>Sun, 27 Apr 2025 09:21:00 GMT</pubDate>
            <author>原創</author>
        </item>
        <item>
            <title>移動互聯網未成年人模式正式發佈</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;「網信中國」微信公眾號&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FfceZ6WHFAEWnajdZi8wGbA&quot; target=&quot;_blank&quot;&gt;消息&lt;/a&gt;，4 月 29 日上午，移動互聯網未成年人模式在第八屆數字中國建設峯會主論壇上正式發佈。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;未成年人模式的特色亮點和主要功能如下：&lt;/span&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;strong&gt;從操作方式看，&lt;/strong&gt;移動智能終端、應用程序、應用程序分發平台實現三方聯動，大大降低了模式的使用門檻。家長可在手機端顯著位置點擊圖標，「一鍵啓動」未成年人模式，所有應用程序同步切換，形成一個相對獨立、安全可控的上網環境。&lt;/span&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;strong&gt;從內容生態看，&lt;/strong&gt;適合未成年人的優質內容得到大幅擴充，重點平台依託兒童內容創作者、版權資源、權威機構等，篩選海量內容納入未成年人模式，並建立年齡分層、內容分類、推薦分眾的梯度化內容體系，更好滿足未成年人的精神文化需求。&lt;/span&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;strong&gt;從功能服務看，&lt;/strong&gt;未成年人模式可以提供每日上網總時長控制、使用時段設置、休息提醒、應用管理、使用情況統計等功能，家長可根據實際情況調整各項設置，實現對未成年人上網行為的合理引導。&lt;/span&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;strong&gt;從覆蓋範圍看，&lt;/strong&gt;華為、OPPO 和中興在手機系統更新後提供未成年人模式，小米、榮耀和 vivo 在發佈的新機上搭載未成年人模式，應用商店建立未成年人專區，短視頻、社交、電商、教育、工具等領域重點應用程序全面升級未成年人模式。後續模式的覆蓋範圍還將持續擴大，滿足未成年人日常使用需求、提供豐富多元服務。&lt;/span&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;國家網信辦相關負責人表示，充分發揮未成年人模式保護作用，離不開各方面的共同努力。一方面，將持續指導和支持鼓勵平台優化未成年人模式，讓這一技術工具更易用更好用。另一方面，希望廣大家長和未成年人主動開啓未成年人模式，提出寶貴意見，共同營造安全健康、清朗向上的網絡環境。&lt;/span&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347576</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347576</guid>
            <pubDate>Sun, 27 Apr 2025 08:20:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>ArkFlow —— 高性能 Rust 流處理引擎</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                                                                                                        
                                                                                    &lt;p style=&quot;color:#1f2328; text-align:start&quot;&gt;高性能 Rust 流處理引擎，提供強大的數據流處理能力，支持多種輸入輸出源和處理器。&lt;/p&gt;

&lt;p style=&quot;color:#1f2328; text-align:start&quot;&gt;&lt;strong style=&quot;color:#1f2328&quot;&gt;生產未就緒，請勿用於生產環境&lt;/strong&gt;&lt;/p&gt;

&lt;div style=&quot;text-align:start&quot;&gt;
&lt;h2&gt;特性&lt;/h2&gt;
&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;高性能&lt;/strong&gt;：基於 Rust 和 Tokio 異步運行時構建，提供卓越的性能和低延遲&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多種數據源&lt;/strong&gt;：支持 Kafka、MQTT、HTTP、文件等多種輸入輸出源&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;強大的處理能力&lt;/strong&gt;：內置 SQL 查詢、JSON 處理、Protobuf 編解碼、批處理等多種處理器&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;可擴展&lt;/strong&gt;：模塊化設計，易於擴展新的輸入、輸出和處理器組件&lt;/li&gt;
&lt;/ul&gt;

&lt;div style=&quot;text-align:start&quot;&gt;
&lt;h2&gt;安裝&lt;/h2&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align:start&quot;&gt;
&lt;h3&gt;從源碼構建&lt;/h3&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align:start&quot;&gt;
&lt;pre&gt;&lt;span style=&quot;color:var(--color-prettylights-syntax-comment)&quot;&gt;&lt;span style=&quot;color:var(--color-prettylights-syntax-comment)&quot;&gt;#&lt;/span&gt; 克隆倉庫&lt;/span&gt;
git clone https://github.com/chenquan/arkflow.git
&lt;span style=&quot;color:var(--color-prettylights-syntax-constant)&quot;&gt;cd&lt;/span&gt; arkflow

&lt;span style=&quot;color:var(--color-prettylights-syntax-comment)&quot;&gt;&lt;span style=&quot;color:var(--color-prettylights-syntax-comment)&quot;&gt;#&lt;/span&gt; 構建項目&lt;/span&gt;
cargo build --release

&lt;span style=&quot;color:var(--color-prettylights-syntax-comment)&quot;&gt;&lt;span style=&quot;color:var(--color-prettylights-syntax-comment)&quot;&gt;#&lt;/span&gt; 運行測試&lt;/span&gt;
cargo &lt;span style=&quot;color:var(--color-prettylights-syntax-constant)&quot;&gt;test&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;

                                                                    &lt;/div&gt;
                                                                </description>
            <link>https://www.oschina.net/p/arkflow</link>
            <guid isPermaLink="false">https://www.oschina.net/p/arkflow</guid>
            <pubDate>Sun, 27 Apr 2025 08:00:00 GMT</pubDate>
        </item>
        <item>
            <title>Firefox 標籤組 (Tab Groups) 功能 5 月 6 日前覆蓋所有用戶</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;Mozilla 公司近日&lt;u&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.mozilla.org%2Fen%2Ffirefox%2Ftab-groups-community%2F&quot; target=&quot;_blank&quot;&gt;發佈博客&lt;/a&gt;&lt;/u&gt;，宣佈應 4500 多名用戶的強烈要求，已經在火狐 Firefox 137 穩定版中推出標籤組功能，並計劃 5 月 6 日前覆蓋所有用戶。&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-22992595591cbc137e27f9a8d4e91f583c7.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;在 4 月 2 日發佈的火狐 Firefox 瀏覽器 137 穩定版中，Mozilla 上線推出了標籤組（Tab Groups）功能，支持用戶通過簡單的拖放操作，組織和管理多個標籤。&lt;/p&gt; 
&lt;p&gt;用戶還可為每個羣組命名或設置顏色，標籤組列表會顯示在 Firefox 瀏覽器頂部菜單的右側，在旅行規劃、比價購物或項目研究時，用戶可歸類相關標籤，避免瀏覽器界面雜亂無章。&lt;/p&gt; 
&lt;p&gt;Mozilla 並未止步於此，他們正在試驗基於 AI 的智能標籤組（Smart Tab Groups）功能。該功能可根據打開的標籤內容，自動建議羣組名稱和分類方式。Mozilla 官網已提供創建和管理標籤組的詳細指南，方便用戶上手。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347566/firefox-tab-groups-community</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347566/firefox-tab-groups-community</guid>
            <pubDate>Sun, 27 Apr 2025 07:48:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>80% 的 Z 世代年輕人願意與 AI 結婚</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p style=&quot;color:#242424; margin-left:0; margin-right:0; text-align:left&quot;&gt;AI 聊天機器人公司 Joi AI 的一項&lt;span&gt;最新&lt;/span&gt;研究結果&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.forbes.com%2Fsites%2Fjohnkoetsier%2F2025%2F04%2F29%2F80-of-gen-zers-would-marry-an-ai-study%2F&quot; target=&quot;_blank&quot;&gt;表明&lt;/a&gt;，有高達 80% 的 Z 世代年輕人表示，他們願意與人工智能（AI）結婚。更有 83% 的人認為，他們能夠與 AI 建立深厚的情感紐帶。&lt;/p&gt; 
&lt;p style=&quot;color:#242424; margin-left:0; margin-right:0; text-align:left&quot;&gt;Joi AI 因此&lt;span style=&quot;background-color:#fcfcfc; color:#333333&quot;&gt;為人機關係創造了一個新術語：&lt;/span&gt;「AI-lationships」。Joi AI 的關係專家、註冊治療師 Jaime Bronstein 指出，這些 「AI-lationships」 並不是用來取代真實的人際關係，而是為人們提供一種獨特的情感支持，提升整體的情感健康。在如今這個時代，&lt;span style=&quot;background-color:#fcfcfc; color:#333333&quot;&gt;許多人感到壓力重重、不知所措、無人傾聽和孤獨。&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;color:#242424; margin-left:0; margin-right:0; text-align:left&quot;&gt;&lt;img height=&quot;343&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-66209a3bec428fa4946dcef30c38506e8ed.png&quot; width=&quot;500&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p style=&quot;color:#242424; margin-left:0; margin-right:0; text-align:left&quot;&gt;然而，Joi AI 在對 2000 名 Z 世代成員的調查中發現，75% 的人認為 AI 伴侶可以完全取代人類的陪伴，&lt;span style=&quot;background-color:#fcfcfc; color:#333333&quot;&gt;這是一個令人恐懼的前景。《Left To Their Own Devices》一書的作者、數字社會學家&lt;/span&gt; Julie Albright 認為，年輕一代正在經歷着數字技術帶來的深刻變革。&lt;/p&gt; 
&lt;p style=&quot;color:#242424; margin-left:0; margin-right:0; text-align:left&quot;&gt;「許多年輕人沒有朋友。&lt;span style=&quot;background-color:#fcfcfc; color:#333333&quot;&gt;現在的 &lt;/span&gt; AI&lt;span style=&quot;background-color:#fcfcfc; color:#333333&quot;&gt;，尤其是語音&lt;/span&gt; AI&lt;span style=&quot;background-color:#fcfcfc; color:#333333&quot;&gt;，隨着時間的推移和技術的進步，語音與模擬身體的結合將能夠通過非語言信號，例如語調中的溫暖，來模仿或模擬人與人之間的聯繫。&lt;/span&gt;」&amp;nbsp;&lt;/p&gt; 
&lt;p style=&quot;color:#242424; margin-left:0; margin-right:0; text-align:left&quot;&gt;&lt;span style=&quot;background-color:#fcfcfc; color:#333333&quot;&gt;她補充道，人類天生就渴望彼此聯繫，但隨着互聯網、遊戲和智能手機的出現，越來越少的年輕人通過語音或視頻進行面對面甚至實時的交流。相反，我們更有可能給朋友發短信（如果有的話）。這使得與人 AI 聊天幾乎與與朋友發短信無異。&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;margin-left:0; margin-right:0; text-align:start&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;color:#333333&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#fcfcfc&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;但 &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;AI&amp;nbsp;又&lt;span&gt;&lt;span&gt;&lt;span style=&quot;color:#333333&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#fcfcfc&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;很簡單，它總是可以訪問的，而且它可以是我們想要的任何東西......而不需要與真實的人建立真實的關係的麻煩。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;margin-left:0; margin-right:0; text-align:start&quot;&gt;Albright&amp;nbsp;稱&lt;span&gt;&lt;span&gt;&lt;span style=&quot;color:#333333&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#fcfcfc&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;：「這將在某種程度上滿足通過模擬關係進行聯繫的需求，進一步拉遠我們彼此之間的距離，因為無摩擦的 AI 關係的便利性和輕鬆性取代了更混亂、更困難、有時充滿摩擦的現實關係。」&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;margin-left:0; margin-right:0; text-align:start&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;color:#333333&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#fcfcfc&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;Joi AI 在某種程度上同意這種觀點。該公司的人際關係專家 &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color:#fcfcfc; color:#333333&quot;&gt;Bronstein&amp;nbsp;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;color:#333333&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#fcfcfc&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;表示，AI 伴侶可以填補這一空白，可以成為一個貼心的伴侶，或者是一個隨時傾聽的「數字摯友」。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color:#fcfcfc; color:#333333&quot;&gt;「有時候，有人陪伴也挺好的，哪怕是 AI。就像我們已經用它來簡化日常事務一樣，現在人們也看到了它如何幫助他們感受到更多的情感支持。」&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;color:#242424; margin-left:0; margin-right:0; text-align:left&quot;&gt;不過，潛在的風險同樣不容忽視。去年，一名 14 歲的男孩因與 AI 聊天機器人發展出感情而自殺，而在 2023 年，一名比利時男子也因類似情況而悲劇身亡。此外，還有關於信息誤導和操控的風險。儘管如此，Joi AI 表示，近年來人們對 「與 AI 有情感」 及 「愛上 AI」 的搜索量激增，分別增長了 120% 和 132%，這也反映了人們在尋求社交連接時的無奈和渴望。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347563/80-of-gen-zers-would-marry-an-ai</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347563/80-of-gen-zers-would-marry-an-ai</guid>
            <pubDate>Sun, 27 Apr 2025 07:18:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>deepin MCP 服務上線</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;deepin MCP 服務&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fm2v8qWooWaLQEWjoQ4Ad6g&quot; target=&quot;_blank&quot;&gt;宣佈&lt;/a&gt;正式上線。公告稱，它可以讓 AI 大模型接管操作系統，形成一種新交互方式，是當前市面上首個系統級 MCP 交互服務模式。&lt;/span&gt;&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;只需要一句指令──『批量重命名文件為報告 1 到 100』『幫我更換一張星空壁紙』『下載{文檔 url}這篇文檔，並總結主要內容』......藉助大模型 + MCP 協議能力，都能使命必達，將繁瑣多步驟任務化為「一鍵完成」。&lt;/span&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#000000&quot;&gt;系統級控制協議&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;deepin MCP server 適配了 deepin 的系統級、應用級控制接口。找一個合適的 MCP Client，藉助 AI 大模型的強大推理和任務拆解能力，還可以做多任務流程化處理！&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;如『打開⽂件管理器/⽇歷/⽂件夾/瀏覽器』、『切換到深⾊主題/淺⾊主題』等。AI 模型拆解任務後，會根據給出的工具自行達成目標。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;img alt=&quot;&quot; height=&quot;333&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-98bc8ef5aee0d4cad928e8d82a666453697.gif&quot; width=&quot;500&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;img alt=&quot;&quot; height=&quot;333&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-66a7be612caa481f90af3315f3a70e7a05a.gif&quot; width=&quot;500&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#000000&quot;&gt;文件處理協議&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;deepin MCP server 同樣適配了對文件的操作控制接口。繁瑣重複的文件管理任務，一樣可以通過 AI 大模型 + MCP Client / Server 的任務流方式搞定！&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;如『將某⽂件夾的所有⽂件按照⽂件類型分類，不同類型的⽂件彙總到不同⽂件夾⾥，⽂件夾名稱為該⽂件類型』、『將某⽂件夾內的 100 個⽂件重命名為報告開頭，以數字遞增』等。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;AI 模型拆解任務後，會根據 deepin MCP server 給出的工具組合自行達成目標。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;img alt=&quot;&quot; height=&quot;333&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-1f49087d1de9a4e4dcc60f67bce76d94d31.gif&quot; width=&quot;500&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#000000&quot;&gt;聯網協議&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;deepin MCP server 除了適配系統、應用和文件操作接口外，還添加了聯網任務的協議，包括可聯網搜索查找內容，通過指定鏈接獲取、下載在線內容等！&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;如『幫我找一張太空圖片並設置為壁紙』、『下載{文檔 url}這篇文檔，並總結文檔主要內容』等。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;img alt=&quot;&quot; height=&quot;333&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-cc8e83a0fea3016417b40d503673a62060d.gif&quot; width=&quot;500&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;藉助大模型的任務拆解能力，所有 MCP 協議接口像「智能拼圖」一樣自由組合新功能。使用者提出訴求，AI 都能瞬間獲得新技能，徹底告別重複造輪子，讓操作系統與 AI 模型開啓一場夢幻聯動。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;感興趣的用戶可選擇在 deepin 應用商店內搜索、安裝 deepin MCP。隨後在終端運行 deepin-mcp-servers，啓動説明窗口，複製 /opt/deepin-mcp-servers 文件夾到任意用戶目錄。&lt;/span&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347550</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347550</guid>
            <pubDate>Sun, 27 Apr 2025 06:12:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>打破</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                                                    
                                                                                                                                                    &lt;p&gt;作者:京東零售，王彗木&lt;/p&gt; 
&lt;p style=&quot;text-align:center&quot;&gt;&amp;nbsp;&lt;/p&gt; 
&lt;div&gt; 
 &lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet//b8f6c2fba037d3941b3a974e5019e697.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span style=&quot;color:transparent&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;div&gt; 
 &lt;div&gt; 
  &lt;hr&gt; 
 &lt;/div&gt; 
 &lt;div&gt; 
  &lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/div&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;東方若曉，莫道君行早&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;div&gt; 
  &lt;hr&gt; 
 &lt;/div&gt; 
 &lt;div&gt; 
  &lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/div&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;EMNLP 2024: Breaking the Hourglass Phenomenon of Residual Quantization: Enhancing the Upper Bound of Generative Retrieval&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;paper 鏈接： &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Farxiv.org%2Fabs%2F2407.21488v1&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;https://arxiv.org/abs/2407.21488v1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h1_1&quot;&gt;&lt;/span&gt; 
&lt;h1&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;0 摘要&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;生成式搜索/推薦在搜索和推薦系統中已經成為一種創新的範式，它通過使用基於數值的標識符來提升效率和泛化能力。特別是在電子商務領域，像 TIGER 這樣的方法使用基於殘差量化的語義標識符（RQ-SID），表現出了很大的潛力。然而，RQ-SID 面臨一個被稱為「沙漏」現象的問題，即中間碼本令牌過於集中，限制了生成式搜索/推薦方法的全面發揮。本文通過研究發現，路徑稀疏和長尾分佈是造成這一問題的主要原因。我們通過一系列詳細的實驗和消融研究，分析了這些因素對碼本利用率和數據分佈的影響。結果表明，「沙漏」現象對 RQ-SID 的性能有顯著影響。我們提出了一些有效的解決方案，成功改善了生成式任務在實際電子商務應用中的效果。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h1_2&quot;&gt;&lt;/span&gt; 
&lt;h1&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;1 背景&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt; 
&lt;p style=&quot;text-align:start&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;在生成式搜索/推薦中，基於數值的標識符表示方法因其簡單、高效和強大的泛化能力而在行業中被廣泛採用，特別是在長行為序列推薦中。這些方法顯著縮短了序列長度並加快了推理過程。值得注意的方法包括 DSI、NCI、TIGER、GDR 和 GenRet。其中，TIGER 方法通過殘差量化（RQ）（Lee 等，2022；Zeghidour 等，2021）生成語義標識符（SID），有效捕捉了語義信息和層次結構。這種方法在以商品為主的電子商務場景中特別有優勢，能夠準確反映電子商務數據中固有的複雜層次關係和語義特徵，從而顯著提升推薦性能。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;text-align:start&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;需要強調的是，基於 RQ 的方法的性能上限在很大程度上依賴於 SID 的生成，這也是本文分析和討論的核心重點。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h1_3&quot;&gt;&lt;/span&gt; 
&lt;h1&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;2 任務定義&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt; 
&lt;p style=&quot;text-align:center&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet//d16f679f11968911dc61b757b68174ca.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span style=&quot;color:transparent&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;text-align:left&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;基於現有常見的任務場景，定義如下任務【注意：任務形式不限於下列任務，只要是含有 SID 的任務均可】：該用戶信息：年齡：age_2；性別：男性；會員狀態：非會員。該用戶的歷史交互行為有：&amp;lt;xxx&amp;gt;&amp;lt;xxx&amp;gt;&amp;lt;xxx&amp;gt;，&amp;lt;xxx&amp;gt;&amp;lt;xxx&amp;gt;&amp;lt;xxx&amp;gt;……。該用戶本次搜索的關鍵詞為「XX 鼠標」。請根據該用戶信息、歷史交互行為和本次搜索關鍵詞，預測該用戶接下來最可能購買的商品：&amp;lt;xxx&amp;gt;&amp;lt;xxx&amp;gt;&amp;lt;xxx&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h1_4&quot;&gt;&lt;/span&gt; 
&lt;h1&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;3 RQ-VAE SID 生成&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt; 
&lt;p style=&quot;text-align:center&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet//de877438410161dfd2a08399ea5bb84e.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span style=&quot;color:transparent&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;SID 生成，谷歌的 TIGER 方法用的比較廣泛。它通過殘差量化 RQ 生成語義標識符（SID），能夠有效捕捉語義信息和層次結構。這種方法在以商品為主的電商場景中尤其有優勢，因為它能夠準確反映電商數據中的複雜層次關係和語義特徵，從而顯著提升推薦性能。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h1_5&quot;&gt;&lt;/span&gt; 
&lt;h1&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;4 沙漏現象&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt; 
&lt;p style=&quot;text-align:center&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet//bbcb600e26744a81fe8db32b495e0e1d.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span style=&quot;color:transparent&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;在通過殘差量化（RQ）生成的 SID 中，我們觀察到了一種顯著的「沙漏」現象。具體而言，中間層的碼本過於集中，導致了一對多和多對一的映射結構。這種集中現象引發了路徑的稀疏性和長尾分佈問題。路徑稀疏性是指匹配路徑僅佔總路徑空間的一小部分，而長尾分佈則意味着大多數 SID 集中在少數的頭部標記上，中間層標記的分佈呈現長尾特徵。在具有長尾特徵的數據集中，這種「沙漏」效應尤為明顯，顯著限制了生成式搜索推薦方法的表示能力。問題的根源在於逐步量化高維向量殘差的內在特性。基於此，我們對該現象進行了深入的理論與實驗分析，並提出了相應的解決方案。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h2_6&quot;&gt;&lt;/span&gt; 
&lt;h2&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;4.1 沙漏現象可視化&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;為了生成語義 ID，我們首先利用公司內部數十億條搜索日誌中的查詢-商品數據，訓練了雙塔模型（如 DSSM 和 BERT 等）。接着，通過商品塔獲取了數億商品的嵌入向量，最終採用殘差量化（RQ）方法為所有商品生成了語義 ID。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;text-align:center&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet//7ed9b21f55ffd8c0af1a131203c16b36.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span style=&quot;color:transparent&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;生成語義 ID 後，對所有商品進行了聚合，並計算了三層分佈圖。如上圖所示，可以看到第二層集中有大量路由節點，整體分佈呈現「沙漏」現象。為了驗證這一現象的普遍性，我們在不同參數組合下進行了多次可視化實驗，沙漏效應非常顯著，三層代碼表中 token 的路徑分佈相對稀疏。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;text-align:center&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet//2abf19b744b20b57208a0fe6c4d0275c.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span style=&quot;color:transparent&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;此外，基於上述實驗，我們使用三個指標對第二層的標記分佈進行了統計分析：熵、基尼係數和標準差，如圖所示。結果表明，第二層的標記分佈表現出低熵、高基尼係數和大標準差，表明該分佈具有顯著的不均勻性。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;總體而言，這種沙漏現象在代碼表中通過路徑稀疏性和 token 的長尾分佈得到了統計數據支持。其中，&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;路徑稀疏性：語義 ID 結構導致代碼表利用率低。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;長尾分佈：在中間層，大多數路徑集中到單個 token 上&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h2_7&quot;&gt;&lt;/span&gt; 
&lt;h2&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;4.2 現象分析&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;為了探討「沙漏」現象的成因，將基於殘差量化（RQ）的運行機制進行深入分析和討論。為了便於理解，考慮兩種原始嵌入的分佈：非均勻分佈和均勻分佈。接下來，使用 RQ 為數據 X 生成語義 ID。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;text-align:center&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet//dcc4a6645a4d62e7573e6fdda6b44d98.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span style=&quot;color:transparent&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;text-align:left&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;可以看到，第一層，候選點被分成 M 個聚類桶，token 的入度相等。輸入分佈均勻。第二層輸入為第一層的殘差，分佈非均勻。小殘差點靠近聚類中心，異常值較大。聚類更關注異常值，形成長尾現象。第三層殘差值變得一致且均勻。類似第一層的均勻分佈。第二層大路由節點分散成多個小節點。整體趨勢隨層數增加，殘差減小，聚類效應減弱。形成沙漏狀結構：數據壓縮再擴展，最終均勻分佈。語義 ID 構建後，RQ 量化方法的影響，加上中間層頭部 token 的主導地位，自然導致了路徑的稀疏性。類似地，對於非均勻分佈（如長尾分佈），殘差分佈變得更加不均勻，導致現象更加嚴重。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h2_8&quot;&gt;&lt;/span&gt; 
&lt;h2&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;4.3 實際影響&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt; 
&lt;p style=&quot;text-align:center&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet//33edb69523af12bc6f883304ffab5e42.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span style=&quot;color:transparent&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;p style=&quot;text-align:start&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;為了評估這種現象的影響，我們進行了多項實驗。首先，在評估過程中，我們根據第二層標記的分佈將測試集分為兩組：頭部標記測試集和尾部標記測試集。如表所示，頭部標記測試集的性能顯著提升，而尾部標記測試集的性能則明顯較差。這種性能差異可以歸因於先前分析的路徑稀疏性和標記的長尾分佈，導致了結果的偏差。這一現象在不同規模的模型（如 LLaMA2、Baichuan2 和 Qwen1.5）以及不同參數的殘差量化（RQ）中均有觀察到，突顯出長尾標記分佈和路徑稀疏性對模型性能的廣泛影響。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;text-align:start&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;此外，為了進一步探討「沙漏」現象對模型性能的影響，我們進行了兩個關鍵實驗：1）交換第一層和第二層的標記，2）將交換序列的第一個標記作為輸入。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p style=&quot;text-align:start&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;在僅交換第一層和第二層標記的情況下，第一層出現顯著的長尾分佈，導致模型難以擬合，從而效果較差。由於逐標記錯誤的累計，交換後的效果甚至比不交換更差。然而，當交換後給定第一個標記時，輸出任務變為預測第二或第三層的 SID，這使得任務變得更簡單，並且長尾分佈不再影響結果（因為給定了真實的 SID1），因此效果顯著提升。此外，在不交換第一層和第二層的條件下，給定第一個標記（第二層 SID 依舊是長尾分佈），其結果高於基線，但低於交換後給出第一個標記的情況（如表所示）。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;這一發現表明，「沙漏」現象對模型性能有着實質性的負面影響。通過上述實驗，不僅確認了「沙漏」效應的存在，還闡明瞭其對模型性能的具體影響，從而為未來的優化提供了堅實的基礎。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h1_9&quot;&gt;&lt;/span&gt; 
&lt;h1&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;5 解決方法&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt; 
&lt;p style=&quot;text-align:center&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;div&gt; 
 &lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet//3dae80e34f740167fb315cce83ad9360.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt; 
&lt;/div&gt; 
&lt;p&gt;&lt;span style=&quot;color:transparent&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;﻿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;解決沙漏現象的方法有多種，在此簡單的從分佈角度提出兩種簡單易行的方法：一種啓發式的方法是直接移除第二層，從而消除長尾效應的影響。然而，這可能導致空間容量不足。需要注意的是，這裏首先要生成一個 L 層的語義 ID（SID），然後再移除第二層，這與直接生成一個兩層的 SID 不同，因為後者可能仍然存在大的路由節點。另一種簡單的方法是自適應地移除第二層的頂部 tokens，使語義 ID 成為一個可變長度的結構。這裏使用了 top@K 策略，並設定一個閾值 p。這種方法確保了分佈保持不變，同時有選擇地減少了「沙漏」效應的影響。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;為了進一步驗證該方法的有效性，在 LLaMA 模型上進行了實驗。結果表明，通過應用自適應 token 移除策略，模型性能得到了提升，同時計算成本與基礎模型相近，並且在一些客觀優化（如 Focal Loss 和 Mile Loss）方面也表現出色。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;具體來説，實驗結果顯示，使用 top&lt;a href=&quot;https://my.oschina.net/u/2303249&quot; class=&quot;referer&quot; target=&quot;_blank&quot;&gt;@400&lt;/a&gt; token 移除策略的模型在大多數評估指標上都優於基線模型。這表明該方法有效地減少了長尾效應的影響。隨着移除的 tokens 數量增加，模型性能的提升會遇到瓶頸。特別是當所有 tokens 都被移除時，這種限制尤為明顯，這可能是由於缺少長尾 tokens，導致召回率下降。同時，直接移除第二層會導致一個 SID 對應多個項目。這種細粒度的分析為所提出方法的有效性提供了有力證據。該方法在選擇性移除不太重要的 tokens 的同時，保留了最有信息量的 tokens，即使在移除大量數據的情況下，也能提升模型性能。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h1_10&quot;&gt;&lt;/span&gt; 
&lt;h1&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;6 結論&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;本研究系統地探討了 RQ-SID 在生成式搜索/推薦的侷限性，特別是發現了中間層 tokens 過度集中導致數據稀疏和長尾分佈的「沙漏」現象。通過廣泛的實驗和消融研究，證明瞭這一現象，並分析了其根本原因在於殘差特性。為瞭解決這個問題，提出了兩種方法：移除第二層的啓發式方法和自適應調整 token 分佈的可變長度 token 策略。實驗結果顯示，兩種方法都有效緩解了瓶頸效應，其中自適應 token 分佈調整策略效果最佳。這是首次系統性地探討 RQ-SID 在生成式搜索/推薦中缺陷的研究，為未來的模型優化提供了堅實的基礎，並顯著提升了模型性能。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;span id=&quot;OSC_h2_11&quot;&gt;&lt;/span&gt; 
&lt;h2&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;7 未來規劃&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h2&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;1、 優化 SID 的生產與表徵方式，通過引入時效、統計類特徵來輔助額外表徵，讓其能滿足對特徵極為看重的排序需求；&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;2、 統一稀疏表徵（SID）與密集表徵，讓 LLM 可以顯示的建模密集特徵變化趨勢，而不是稀疏表徵的映射&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;3、 保證鏈路無損失實現一段式搜索。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
                                                                                    &lt;/div&gt;
                                                                            </description>
            <link>https://my.oschina.net/u/4090830/blog/18253263</link>
            <guid isPermaLink="false">https://my.oschina.net/u/4090830/blog/18253263</guid>
            <pubDate>Sun, 27 Apr 2025 03:55:00 GMT</pubDate>
            <author>原創</author>
        </item>
        <item>
            <title>RWKV7-G1 1.5B 發佈！全球語言推理模型，特別適合端側手機運行</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;2025 年 4 月 29 日，RWKV 基金會開源了 &lt;strong&gt;RWKV7-G1 1.5B 推理模型&lt;/strong&gt;（Reasoning Model）。&lt;/p&gt; 
&lt;p&gt;RWKV7-G1 1.5B 具備其它同尺寸模型不具備的&lt;strong&gt;推理能力&lt;/strong&gt; 和&lt;strong&gt;任務能力&lt;/strong&gt; ，同時還支持現實世界 100+ 種語言。在實際測試中，RWKV7-G1 1.5B 模型的推理邏輯性較強，能夠完成有難度的&lt;strong&gt;多語言、數學和代碼任務&lt;/strong&gt;。&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;RWKV7-G1 1.5B 推理模型基於 World v3.5 數據集訓練，包含更多小説、網頁、數學、代碼和 reasoning 數據，總數據為 5.16T tokens。&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;strong&gt;快速體驗 G1 1.5B&lt;/strong&gt; ：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhuggingface.co%2Fspaces%2FRWKV-Red-Team%2FRWKV-LatestSpace&quot; target=&quot;_blank&quot;&gt;https://huggingface.co/spaces/RWKV-Red-Team/RWKV-LatestSpace&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;我們也&lt;strong&gt;開源發佈了 RWKV 模型端聊天 APP&lt;/strong&gt;，方便大家體驗 RWKV-7 模型。APP 下載鏈接在本文靠後位置。&lt;/p&gt; 
&lt;h2&gt;模型客觀指標評測&lt;/h2&gt; 
&lt;h3&gt;英語和多語言能力&lt;/h3&gt; 
&lt;p&gt;RWKV7-G1 1.5B 的英語和多語言能力&lt;strong&gt;顯著強於同規模的開源模型&lt;/strong&gt; ，&lt;strong&gt;包括同期發佈的 Qwen3-1.7B-Base&lt;/strong&gt;。&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;1B5-Models-Eval&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-b819bf2ced96136a125853a503ac6a8bfc6.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;此外，RWKV7-G1 1.5B 的 MMLU 準確度為 48.2%，比 RWKV-7 World 1.5B 的 44.8% 有繼續提升。&lt;/p&gt; 
&lt;h3&gt;無法作弊的評測&lt;/h3&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhuggingface.co%2Fspaces%2FJellyfish042%2FUncheatableEval&quot; target=&quot;_blank&quot;&gt;Uncheatable Eval&lt;/a&gt; 是&quot;無法作弊的評測&quot;，它使用最新的論文和新聞文章等實時數據，評估開源大語言模型的真實建模能力和泛化能力。&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;G1 1.5B 的 Uncheatable Eval 綜合得分&lt;strong&gt;在同參數規模的開源模型中處於領先地位&lt;/strong&gt;，超越 Qwen2.5-1.5B，僅次於參數更多的 Qwen3-1.7B：&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;1B5-Uncheatable-eval&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-ea66b4ac0a821eeb44198153944aed28563.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;h2&gt;模型使用體驗實測&lt;/h2&gt; 
&lt;h3&gt;多語言能力&lt;/h3&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;RWKV7-G1 1.5B 支持全球 100 多種自然語言，比同參數量的 Transformer 模型更強。&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;下面是 G1 1.5B 把&lt;strong&gt;中文翻譯為多國語言&lt;/strong&gt;的推理過程和翻譯結果，翻譯結果完全準確：&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;multilang-translation&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-600d322ee5f079fdbb5a7cc2a2e1c191ee1.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;h3&gt;代碼能力&lt;/h3&gt; 
&lt;p&gt;G1 1.5B 擁有基礎的代碼能力，更大的 G1 2.9B/7B 模型的代碼能力會顯著更強。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;G1 1.5B 刷 Leetcode 題目：&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;code&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-3775e6b875281b365e7ac096c0eb0e3b6ee.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;code-1&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-c7f4f8b4f431ddb2ad9d288ca6a63bd628d.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;h3&gt;數學題目&lt;/h3&gt; 
&lt;p&gt;&lt;img alt=&quot;math-1&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-c7c6747db72d61f272746d10f782e5ba08e.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;math&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-26cc2c752f6bea1ad719fa00bc9ffe44ba2.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;h3&gt;日常對話&lt;/h3&gt; 
&lt;p&gt;&lt;img alt=&quot;chat-life&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-1ba9fae99600cfce6427ebdee1ee727f2df.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;chat-work&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-b43bd98dd46c3b3cdbb541c6628db75d9bf.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;chat-work-1&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-ffdc8be159f72604773ed2f78cabd03bfea.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;general-chat&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-7bce8c594c594045896f3a7e3ca9476fb35.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;h3&gt;小説能力&lt;/h3&gt; 
&lt;p&gt;G1 1.5B 直接續寫小説，有較好的網感和文風：&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;novel&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-c4a80e71002ff493837860358d4e033bbd3.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;h2&gt;模型試用&lt;/h2&gt; 
&lt;p&gt;我們提供了多個 RWKV-7 模型的&lt;strong&gt;在線 demo&lt;/strong&gt;，也提供移動端聊天 APP。&lt;/p&gt; 
&lt;h3&gt;【推薦】用在線 demo（聊天模式）&lt;/h3&gt; 
&lt;p&gt;為了方便社區體驗 RWKV-G1 模型，我們提供了&lt;strong&gt;聊天模式&lt;/strong&gt;的在線 demo。&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;Hugging Face&lt;/strong&gt;：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhuggingface.co%2Fspaces%2FRWKV-Red-Team%2FRWKV-LatestSpace&quot; target=&quot;_blank&quot;&gt;https://huggingface.co/spaces/RWKV-Red-Team/RWKV-LatestSpace&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;魔搭 demo&lt;/strong&gt;：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmodelscope.cn%2Fstudios%2FRWKV-Red-Team%2FRWKV-LatestSpace%2Fsummary&quot; target=&quot;_blank&quot;&gt;https://modelscope.cn/studios/RWKV-Red-Team/RWKV-LatestSpace/summary&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;可在此體驗已完成訓練的 RWKV7-G1 0.1B、0.4B 和 1.5B 模型，也可以切換到其他正在&lt;strong&gt;訓練中&lt;/strong&gt;的 G1 模型，如 G1 2.9B。&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;chat-mode-demo&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-f5cbc231da4a5842d51586fead436d26c5d.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;這個精美的 RWKV 對話界面由 RWKV 社區成員 &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fleoncat.top%2F&quot; target=&quot;_blank&quot;&gt;@Leon&lt;/a&gt; 開發，並在 GitHub 倉庫 &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FSolomonLeon%2Fweb-rwkv-realweb&quot; target=&quot;_blank&quot;&gt;web-rwkv-realweb&lt;/a&gt; 中開源。&lt;/p&gt; 
&lt;h3&gt;使用在線 demo（續寫模式）&lt;/h3&gt; 
&lt;p&gt;可以在官方 Demo 中試用 RWKV7-G1 1.5B 模型：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;**Hugging Face Gradio Demo：**&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhuggingface.co%2Fspaces%2FBlinkDL%2FRWKV-Gradio-2&quot; target=&quot;_blank&quot;&gt;https://huggingface.co/spaces/BlinkDL/RWKV-Gradio-2&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;RWKV7-G1 的整體 prompt 格式與 RWKV-7-World 模型類似，可選使用 &lt;code&gt;&amp;lt;think&amp;gt;&lt;/code&gt; 標籤開啓 reasoning 功能：&lt;/p&gt; 
&lt;pre&gt;&lt;code&gt;User: 我可以抽乾太平洋的水然後下去抓魚嗎？

Assistant: &amp;lt;think&amp;gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;使用 RWKV 端側聊天 APP&lt;/h3&gt; 
&lt;p&gt;我們也開發了處於內測階段的 RWKV 端側聊天 APP（Android 和 iOS 版本），可在下列地址下載 APP：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;Android&lt;/strong&gt; : &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.pgyer.com%2Frwkvchat&quot; target=&quot;_blank&quot;&gt;https://www.pgyer.com/rwkvchat&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;iOS (TestFlight)&lt;/strong&gt; : &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ftestflight.apple.com%2Fjoin%2FDaMqCNKh&quot; target=&quot;_blank&quot;&gt;https://testflight.apple.com/join/DaMqCNKh&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;貫徹開源開放的宗旨，RWKV 端側聊天 APP 也已開源&lt;/strong&gt; ，在 GitHub &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FMollySophia%2Frwkv_mobile_flutter&quot; target=&quot;_blank&quot;&gt;rwkv_mobile_flutter&lt;/a&gt; 倉庫中可以看到項目代碼。&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;測試數據顯示：經過 NPU 優化後，RWKV-7 1.5B 模型在高通 8Gen3 手機芯片實現了 &lt;strong&gt;62 token/s&lt;/strong&gt; 的推理速度，G1 0.1B 模型的推理速度則高達 &lt;strong&gt;170 token/s&lt;/strong&gt;。&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h2&gt;模型下載&lt;/h2&gt; 
&lt;p&gt;下載已完成訓練的 RWKV7-G1 0.1B/0.4B/1.5B 模型：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;Hugging Face：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhuggingface.co%2FBlinkDL%2Frwkv7-g1%2Ftree%2Fmain&quot; target=&quot;_blank&quot;&gt;https://huggingface.co/BlinkDL/rwkv7-g1/tree/main&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;魔搭社區：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmodelscope.cn%2Fmodels%2FRWKV%2Frwkv7-g1%2Ffiles&quot; target=&quot;_blank&quot;&gt;https://modelscope.cn/models/RWKV/rwkv7-g1/files&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;WiseModel：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwisemodel.cn%2Fmodels%2Frwkv4fun%2FRWKV-7-G1%2Ffile&quot; target=&quot;_blank&quot;&gt;https://wisemodel.cn/models/rwkv4fun/RWKV-7-G1/file&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;下載其他訓練中的 RWKV7-G1 模型（G1 2.9B）：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;Hugging Face：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhuggingface.co%2FBlinkDL%2Ftemp-latest-training-models%2Ftree%2Fmain&quot; target=&quot;_blank&quot;&gt;https://huggingface.co/BlinkDL/temp-latest-training-models/tree/main&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;魔搭社區：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmodelscope.cn%2Fmodels%2FRWKV%2Ftemp-latest-training-models%2Ffiles&quot; target=&quot;_blank&quot;&gt;https://modelscope.cn/models/RWKV/temp-latest-training-models/files&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;G1 模型發佈計劃&lt;/h2&gt; 
&lt;p&gt;當前已發佈 G1 0.1B/0.4B/1.5B 模型，正在訓練 G1 2.9B，具體發佈計劃如下：&lt;/p&gt; 
&lt;table&gt; 
 &lt;tbody&gt; 
  &lt;tr&gt; 
   &lt;th&gt;模型&lt;/th&gt; 
   &lt;th&gt;發佈計劃&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt; 
 &lt;tbody&gt; 
  &lt;tr&gt; 
   &lt;td&gt;G1 0.1B&lt;/td&gt; 
   &lt;td&gt;3 月 8 日（已發佈）&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;G1 0.4B&lt;/td&gt; 
   &lt;td&gt;3 月 25 日（已發佈）&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;G1 1.5B&lt;/td&gt; 
   &lt;td&gt;4 月 29 日（已發佈）&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;G1 2.9B&lt;/td&gt; 
   &lt;td&gt;5 月，中旬&lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;p&gt;我們也在同時準備更大更優的數據集 &lt;strong&gt;World v3.7&lt;/strong&gt;。World v3.7 數據集的準備工作即將完成，屆時將開始訓練 RWKV7-G1 7B 模型。&lt;/p&gt; 
&lt;h2&gt;加入 RWKV 社區&lt;/h2&gt; 
&lt;p&gt;歡迎大家加入 RWKV 社區，可以從 RWKV 中文官網瞭解 RWKV 模型，也可以加入 RWKV 論壇、QQ 頻道和 QQ 羣聊，一起探討 RWKV 模型。&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;📖 RWKV 中文文檔：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.rwkv.cn&quot; target=&quot;_blank&quot;&gt;https://www.rwkv.cn&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;💬 RWKV 論壇：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcommunity.rwkv.cn%2F&quot; target=&quot;_blank&quot;&gt;https://community.rwkv.cn/&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;🐧 QQ 頻道：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fpd.qq.com%2Fs%2F9n21eravc&quot; target=&quot;_blank&quot;&gt;https://pd.qq.com/s/9n21eravc&lt;/a&gt;&lt;/li&gt; 
 &lt;li&gt;📺 BiliBili 視頻教程：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fspace.bilibili.com%2F3546689096910933&quot; target=&quot;_blank&quot;&gt;https://space.bilibili.com/3546689096910933&lt;/a&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;歡迎大家基於 RWKV-7 進行創業、科研，我們也會為基於 RWKV 的項目提供技術支持。&lt;/p&gt; 
 &lt;p&gt;如果您的團隊正在基於 RWKV 創業或開展研究，請聯繫我們！（在&quot;RWKV 元始智能&quot;微信公眾號留言您的聯繫方式，或發送郵件到&quot;contact@rwkvos.com&quot;。）&lt;/p&gt; 
&lt;/blockquote&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347518</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347518</guid>
            <pubDate>Sun, 27 Apr 2025 03:18:00 GMT</pubDate>
            <author>來源: 投稿</author>
        </item>
        <item>
            <title>Bytebase 3.6.0 - SOC 2 Type 2</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                                                    
                                                                                                                                                    &lt;p&gt;繼 &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkzMjI2MDY5OQ%3D%3D%26mid%3D2247509519%26idx%3D1%26sn%3Da311a8b5c1b50826fab0e97ba449d774%26scene%3D21&quot; target=&quot;_blank&quot;&gt;SOC 2 Type 1&lt;/a&gt; 之後，Bytebase 又成功取得了 &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkzMjI2MDY5OQ%3D%3D%26mid%3D2247509875%26idx%3D1%26sn%3D8f375b3e0e1e9f5a9e290c32598327a9%26scene%3D21&quot; target=&quot;_blank&quot;&gt;SOC 2 Type 2&lt;/a&gt; 認證 🥳&lt;/p&gt; 
&lt;h1&gt;🚀 新功能&lt;/h1&gt; 
&lt;ul&gt; 
 &lt;li&gt;增加對 Trino 數據庫的基本支持。&lt;/li&gt; 
 &lt;li&gt;支持將 &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bytebase.com%2Fdocs%2Fadministration%2Fsso%2Foidc%2F%23group-syncing&quot; target=&quot;_blank&quot;&gt;OIDC IdP 羣組&lt;/a&gt;同步到 Bytebase 羣組。&lt;/li&gt; 
 &lt;li&gt;支持 Cassandra 在 SQL 編輯器中執行語句和創建工單。&lt;/li&gt; 
 &lt;li&gt;可自動重試 PostgreSQL 鎖超時。 &lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-af1d7a7689a520c78354902c1b378570ca3.png&quot; alt=&quot;file&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h1&gt;🔔 重大變更&lt;/h1&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;API 變更：&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;移除 &lt;code&gt;EnvironmentService&lt;/code&gt;。環境設置移動到 &lt;code&gt;SettingService&lt;/code&gt;。移除自定義角色的 &lt;code&gt;bb.environments.*&lt;/code&gt; 權限。你可以授予自定義角色 &lt;code&gt;bb.settings.update&lt;/code&gt; 權限以更新環境設置。&lt;/li&gt; 
   &lt;li&gt;移除預定義的 &lt;code&gt;groupValue&lt;/code&gt; 枚舉值，僅允許 &lt;code&gt;role&lt;/code&gt;。&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;下線異常中心。數據庫列表/詳情頁會直接展示 Schema 漂移。&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h1&gt;🎄 改進&lt;/h1&gt; 
&lt;ul&gt; 
 &lt;li&gt;將 Docker 基本鏡像更新為 Alpine，以改善安全性。&lt;/li&gt; 
 &lt;li&gt;當工單中有 11 個及以上數據庫時，支持在 UI 中對工單任務按照狀態進行過濾。 &lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-9878df6abc1f4d422e05dabe77ecd2417e3.png&quot; alt=&quot;file&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/li&gt; 
 &lt;li&gt;在 MSSQL 中添加對 &lt;code&gt;EXPLAIN&lt;/code&gt; 的支持。&lt;/li&gt; 
 &lt;li&gt;在 Redis 的 SQL 編輯器中支持更多隻讀命令。&lt;/li&gt; 
 &lt;li&gt;改進 MSSQL FROM 子句中的列自動補全。&lt;/li&gt; 
 &lt;li&gt;修復 PostgreSQL 的日期無限顯示問題。&lt;/li&gt; 
 &lt;li&gt;在 SQL 編輯器中隱藏從屬對象。&lt;/li&gt; 
 &lt;li&gt;從 Oracle 的 &lt;code&gt;EXPLAIN&lt;/code&gt; 查詢中移除 &lt;code&gt;FILTER_PREDICATES&lt;/code&gt;。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h1&gt;📕 安裝及升級&lt;/h1&gt; 
&lt;p&gt;新安裝 &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bytebase.com%2Fdocs%2Fget-started%2Fself-host%2F&quot; target=&quot;_blank&quot;&gt;https://www.bytebase.com/docs/get-started/self-host/&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;升級 &lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bytebase.com%2Fdocs%2Fget-started%2Fupgrade%2F&quot; target=&quot;_blank&quot;&gt;https://www.bytebase.com/docs/get-started/upgrade/&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;&lt;em&gt;&lt;strong&gt;升級前請備份元數據庫，升級後無法回退版本。&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt; 
&lt;hr&gt; 
&lt;p&gt;💡 更多資訊，請關注 Bytebase 公號：Bytebase&lt;/p&gt;
                                                                                    &lt;/div&gt;
                                                                            </description>
            <link>https://my.oschina.net/u/6148470/blog/18261924</link>
            <guid isPermaLink="false">https://my.oschina.net/u/6148470/blog/18261924</guid>
            <pubDate>Sun, 27 Apr 2025 03:07:00 GMT</pubDate>
            <author>原創</author>
        </item>
        <item>
            <title>小米開源首個推理大模型「Xiaomi MiMo」——為「Reasoning」而生</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;今天，小米開源首個為推理（Reasoning）而生的大模型「Xiaomi MiMo」，聯動預訓練到後訓練，全面提升推理能力。&lt;/p&gt; 
&lt;p&gt;在數學推理（AIME 24-25）和，代碼競賽（LiveCodeBench v5）公開測評集上，MiMo 僅用 7B 的參數規模，超越了 OpenAI 的閉源推理模型 o1-mini 和阿里 Qwen 更大規模的開源推理模型 QwQ-32B-Preview。&lt;/p&gt; 
&lt;p&gt;&lt;img height=&quot;683&quot; src=&quot;https://static.oschina.net/uploads/space/2025/0430/103847_joxz_2720166.png&quot; width=&quot;1080&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;MiMo 推理能力的提升，由預訓練和後訓練階段中數據和算法等多層面的創新聯合驅動，包括：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;預訓練&lt;/strong&gt;：核心是讓模型見過更多推理模式&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt; &lt;p&gt;數據：着重挖掘富推理語料，併合成約 200B tokens 推理數據。&lt;/p&gt; &lt;/li&gt; 
   &lt;li&gt; &lt;p&gt;訓練：進行了三階段訓練，逐步提升訓練難度，總訓練 25T tokens。&lt;br&gt; &lt;br&gt; &lt;img src=&quot;https://static.oschina.net/uploads/space/2025/0430/104118_bvTj_2720166.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; &lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;&lt;strong&gt;後訓練&lt;/strong&gt;：核心是高效穩定的強化學習算法和框架&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt; &lt;p&gt;算法：提出 Test Difficulty Driven Reward 來緩解困難算法問題中的獎勵稀疏問題，並引入 Easy Data Re-Sampling 策略，以穩定&amp;nbsp;RL&amp;nbsp;訓練。&lt;/p&gt; &lt;/li&gt; 
   &lt;li&gt; &lt;p&gt;框架：設計了 Seamless Rollout 系統，使得 RL 訓練加速 2.29 倍，驗證加速 1.96 倍。&lt;br&gt; &lt;img src=&quot;https://static.oschina.net/uploads/space/2025/0430/104133_eS5a_2720166.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; &lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;MiMo-7B 已開源 4 個模型至 HuggingFace：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhuggingface.co%2FXiaomiMiMo&quot; target=&quot;_blank&quot;&gt;https://huggingface.co/XiaomiMiMo&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://static.oschina.net/uploads/space/2025/0430/104219_TNxZ_2720166.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;技術細節見技術報告：&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FXiaomiMiMo%2FMiMo%2Fblob%2Fmain%2FMiMo-7B-Technical-Report.pdf&quot; target=&quot;_blank&quot;&gt;https://github.com/XiaomiMiMo/MiMo/blob/main/MiMo-7B-Technical-Report.pdf&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347495</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347495</guid>
            <pubDate>Sun, 27 Apr 2025 02:39:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>中科院軟件所開源流式機器學習新框架 FreewayML</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;近日，中國科學院軟件研究所軟件工程技術研究開發中心分佈式計算與系統工程研究團隊&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FWdJhOtK903SaQu0te1ZpDQ&quot; target=&quot;_blank&quot;&gt;提出&lt;/a&gt;了一種新的流式機器學習框架 FreewayML，為複雜場景數據流的高效分析提供了創新解決方案。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;現有典型流式學習框架如 Flink ML、River、Alink、StreamDM 等存在穩定性和通用性不足兩個難題。在穩定性方面，現有框架一般採用簡單直接的模型更新方法，沒有充分考慮數據動態變化對訓練和預測的影響，導致實時正確率波動較大。在通用性方面，這些框架大多隻能支持少量傳統機器學習算法，如流式 Logistic Regression、流式 K-Means 聚類等，難以支持流式深度學習等複雜數據分析算法。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;針對上述問題，研究團隊提出了一種新的流式機器學習框架 FreewayML。團隊首先通過實證研究深入分析數據動態變化（非獨立同分布）對流式學習穩定性的影響，定義了三種典型的數據偏移模式——輕微偏移、嚴重偏移和重現型偏移，並相應提出三重自適應調節機制，即多時間粒度模型組合機制、協同經驗聚類機制和歷史知識重用機制，通過優化框架處理流程，實現模型準確率與穩定性的協同提升。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;FreewayML 還設計了數據訓練流和預測流，可以同時支持傳統機器學習算法和深度學習算法，突破了現有框架通用性上的侷限。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;img alt=&quot;&quot; height=&quot;269&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-16f104508e372a912fb4310b0ae2797353c.webp&quot; width=&quot;500&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;FreewayML 框架能廣泛適用於現有流式機器學習模型，相關成果已經在南方電網合作項目開展實際應用。在電力、交通、網絡安全等典型流式數據集上的實驗表明，相較現有框架，FreewayML 的平均準確率提升 3% 至 7%，實時準確率最高提升 45%。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;img alt=&quot;&quot; height=&quot;203&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-55c2b7fc18c64841023eba7fbd7bf6ffa6c.webp&quot; width=&quot;500&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/span&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347484</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347484</guid>
            <pubDate>Sun, 27 Apr 2025 02:10:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>騰訊重構混元大模型研發體系，加大 AI 投入</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;騰訊對其混元大模型研發體系進行了全面重構，圍繞算力、算法和數據三大核心板塊，刷新團隊部署，加碼研發投入。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img height=&quot;278&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-d4cf8514493b1f5cf7a929c33b8abb6c2e7.png&quot; width=&quot;700&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;調整後，騰訊成立兩個新的部門：大語言模型部和多模態模型部，分別負責探索大語言模型和多模態大模型的前沿技術，持續迭代基礎模型，提升模型能力。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;同時，進一步加強大模型數據能力和平台底座建設，其中數據平台部專注大模型數據全流程管理與建設，機器學習平台部則聚焦機器學習與大數據融合平台建設，為 AI 模型訓練推理、大數據業務提供全面高效的 PaaS 平台底座，共同支撐騰訊混元大模型技術研發。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;騰訊相關人士表示，這意味着騰訊在快速調整組織架構以應對日新月異的大模型行業發展，這次調整有利於整合資源，優化研發流程，進一步提升騰訊在 AI 領域的長期技術作戰能力。&lt;/span&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347476</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347476</guid>
            <pubDate>Sun, 27 Apr 2025 02:02:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>GFast 開發 MCP 服務器之 mark3labs/mcp-go 庫接入（一）</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;blockquote&gt; 
 &lt;p style=&quot;margin-left:0; margin-right:0&quot;&gt;這將是一個系列文章，我們將從簡到繁開發一套基於 GFast 框架下 MCP 服務工具&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h2&gt;github.com/mark3labs/mcp-go 介紹&lt;/h2&gt; 
&lt;p style=&quot;color:#181c21; margin-left:0; margin-right:0; text-align:start&quot;&gt;&lt;code&gt;github.com/mark3labs/mcp-go&lt;/code&gt;&lt;span&gt; &lt;/span&gt;是一個基於 Go 語言實現的&lt;span&gt; &lt;/span&gt;&lt;strong&gt;Model Context Protocol (MCP)&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;的開源項目，旨在為大語言模型&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;/span&gt;LLM&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;與外部系統的交互提供標準化協議支持。以下是綜合搜索結果的關鍵信息&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;h3&gt;1.&lt;span&gt; &lt;/span&gt;&lt;strong&gt;項目功能與定位&lt;/strong&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;該項目實現了 MCP 協議的完整規範，提供&lt;span&gt; &lt;/span&gt;&lt;strong&gt;客戶端和服務端能力&lt;/strong&gt;，用於 LLM 與數據資源、工具的集成。例如，支持通過標準化方式暴露資源、提示詞和工具，便於 LLM 調用外部 API 或執行操作。&lt;/li&gt; 
 &lt;li&gt;目前支持&lt;span&gt; &lt;/span&gt;&lt;strong&gt;stdio&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;和&lt;span&gt; &lt;/span&gt;&lt;strong&gt;SSE&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;/span&gt;Server-Sent Events&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;作為傳輸協議，未來可能擴展其他通信方式（如 WebSocket 或 gRPC&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;2.&lt;span&gt; &lt;/span&gt;&lt;strong&gt;技術特點&lt;/strong&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;Go 語言優勢&lt;/strong&gt;：與 Python 或 TypeScript 實現的 MCP SDK 相比，Go 版本強調強類型檢查、高併發性能和簡易部署，適合生產環境的高可靠性需求。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;模塊化設計&lt;/strong&gt;：分層架構（傳輸層、協議層、用戶層）確保擴展性和維護性，開發者可自定義傳輸方式或協議擴展。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;3.&lt;span&gt; &lt;/span&gt;&lt;strong&gt;與其他 MCP 實現的對比&lt;/strong&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;ThinkInAI 的 Go-MCP&lt;/strong&gt;（另一個 Go 實現）更注重生態建設（如 Marketplace 和工具鏈），而&lt;span&gt; &lt;/span&gt;&lt;code&gt;mark3labs/mcp-go&lt;/code&gt;&lt;span&gt; &lt;/span&gt;目前功能更聚焦於協議基礎實現。&lt;/li&gt; 
 &lt;li&gt;Python/TypeScript SDK 動態語言的靈活性更高，但長期維護成本可能更高。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;4.&lt;span&gt; &lt;/span&gt;&lt;strong&gt;安全與維護狀態&lt;/strong&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;根據 GitHub 頁面，該項目&lt;span&gt; &lt;/span&gt;&lt;strong&gt;未設置安全策略文件&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;/span&gt;SECURITY.md&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;，且無公開的安全公告，需注意潛在風險。&lt;/li&gt; 
 &lt;li&gt;項目活躍度未明確提及，但代碼示例和協議支持顯示其具備實際可用性。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;總結&lt;/h3&gt; 
&lt;p style=&quot;color:#181c21; margin-left:0; margin-right:0; text-align:start&quot;&gt;&lt;code&gt;mark3labs/mcp-go&lt;/code&gt;&lt;span&gt; &lt;/span&gt;是一個輕量級的 MCP 協議 Go 實現，適合需要高性能、強類型支持的 LLM 集成場景。若需更完整的生態工具（如服務發現、調試面板），可參考 ThinkInAI 的 Go-MCP 項目。建議進一步查閲其 GitHub 倉庫的文檔和示例以評估適用性。&lt;/p&gt; 
&lt;h2&gt;MCP Server 的業務能力&lt;/h2&gt; 
&lt;table cellspacing=&quot;0&quot; style=&quot;--fonts-override:var(--fonts-default-override-zh-cn); --fonts-regular:var(--fonts-override, var(--fonts-proportional)),&quot;&gt; 
 &lt;tbody&gt; 
  &lt;tr&gt; 
   &lt;th&gt;Request Method&lt;/th&gt; 
   &lt;th&gt;發起方&lt;/th&gt; 
   &lt;th&gt;響應方&lt;/th&gt; 
   &lt;th&gt;描述&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt; 
 &lt;tbody&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;initialized&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;初始化會話&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;tools-list&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;發現可用的工具&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;tools/call&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;調用工具&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;resources/list&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;發現可用的資源&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;resources/read&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;獲取資源內容&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;resources/templates&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;發現可用的參數化資源&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;resources/subscribe&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;訂閲特定資源，監聽其變化事件&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;prompts/list&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;發現可用的提示詞&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;prompts/get&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;獲取特定提示詞&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;roots/list&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;列出服務器有權訪問的客戶端文件系統根節點（暴露目錄和文件）&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;sampling/create&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Server&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;Client&lt;/td&gt; 
   &lt;td style=&quot;border-style:solid; border-width:1px&quot;&gt;啓用服務器的 AI 生成能力（ sampling creation&lt;span&gt; &lt;/span&gt;&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;&lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;h2&gt;一、簡單的 MCP 服務器 demo 實現 (stdio 方式)&lt;/h2&gt; 
&lt;pre&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;package&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;main&lt;/span&gt;

&lt;span style=&quot;color:#d73a49&quot;&gt;import&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;context&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;errors&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;fmt&quot;&lt;/span&gt;

&lt;span style=&quot;color:#106303&quot;&gt;&quot;github.com/mark3labs/mcp-go/mcp&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;github.com/mark3labs/mcp-go/server&quot;&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 創建 MCP 服務器&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewMCPServer&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;Demo 🚀&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 服務器名稱&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;  &lt;span style=&quot;color:#6a737d&quot;&gt;// 服務器版本&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 添加工具&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;tool&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewTool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;hello_world&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 工具名稱&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithDescription&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Say hello to someone&quot;&lt;/span&gt;&lt;span&gt;),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 工具描述&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithString&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 參數名稱&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Required&lt;/span&gt;&lt;span&gt;(),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 參數是必需的&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Description&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Name of the person to greet&quot;&lt;/span&gt;&lt;span&gt;),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 參數描述&lt;/span&gt;
&lt;span&gt;),&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 為工具添加處理器&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;AddTool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;tool&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;helloHandler&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 啓動標準輸入輸出服務器&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;ServeStdio&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;);&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;!=&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Printf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Server error: %v\\n&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 打印服務器錯誤&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;helloHandler&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;request&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;CallToolRequest&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;CallToolResult&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;error&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 從請求參數中獲取名字參數，並斷言為字符串類型&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;name&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;ok&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;request&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Params&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Arguments&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span&gt;].(&lt;/span&gt;&lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span&gt;!&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ok&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 如果斷言失敗，返回錯誤&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;errors&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;New&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;name must be a string&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回包含問候語的結果&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewToolResultText&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Sprintf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Hello, %s!&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;name&lt;/span&gt;&lt;span&gt;)),&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt; 
&lt;p style=&quot;color:#181c21; margin-left:0; margin-right:0; text-align:start&quot;&gt;這段代碼實現了一個簡單的&lt;span&gt; &lt;/span&gt;&lt;strong&gt;MCP&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;/span&gt;Model Context Protocol&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;服務器&lt;/strong&gt;，它通過標準輸入/輸出&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;/span&gt;stdio&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;與客戶端交互，提供了一個名為&lt;span&gt; &lt;/span&gt;&lt;code&gt;hello_world&lt;/code&gt;&lt;span&gt; &lt;/span&gt;的工具，用於向指定的人打招呼。以下是詳細解析：&lt;/p&gt; 
&lt;hr&gt; 
&lt;h3&gt;&lt;strong&gt;1. 核心功能&lt;/strong&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;工具註冊&lt;/strong&gt;：服務器註冊了一個工具&lt;span&gt; &lt;/span&gt;&lt;code&gt;hello_world&lt;/code&gt;，接收一個字符串參數&lt;span&gt; &lt;/span&gt;&lt;code&gt;name&lt;/code&gt;，返回問候語。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;標準輸入/輸出通信&lt;/strong&gt;：通過&lt;span&gt; &lt;/span&gt;&lt;code&gt;stdio&lt;/code&gt;&lt;span&gt; &lt;/span&gt;與客戶端交互（適合命令行或管道調用）。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;錯誤處理&lt;/strong&gt;：驗證參數類型，返回明確的錯誤信息。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;hr&gt; 
&lt;h3&gt;&lt;strong&gt;2. 代碼逐層解析&lt;/strong&gt;&lt;/h3&gt; 
&lt;h4&gt;&lt;strong&gt;(1) 初始化 MCP 服務器&lt;/strong&gt;&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewMCPServer&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;
    &lt;span style=&quot;color:#106303&quot;&gt;&quot;Demo 🚀&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 服務器名稱（顯示標識）&lt;/span&gt;
    &lt;span style=&quot;color:#106303&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;  &lt;span style=&quot;color:#6a737d&quot;&gt;// 服務器版本&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;ul&gt; 
 &lt;li&gt;創建一個 MCP 服務器實例，指定名稱和版本（用於元信息標識）。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;&lt;strong&gt;(2) 定義工具&lt;span&gt; &lt;/span&gt;&lt;code&gt;hello_world&lt;/code&gt;&lt;/strong&gt;&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span style=&quot;color:#24292e&quot;&gt;tool&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewTool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;hello_world&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;
    &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithDescription&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Say hello to someone&quot;&lt;/span&gt;&lt;span&gt;),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 工具功能描述&lt;/span&gt;
    &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithString&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;                      &lt;span style=&quot;color:#6a737d&quot;&gt;// 參數名&lt;/span&gt;
        &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Required&lt;/span&gt;&lt;span&gt;(),&lt;/span&gt;                         &lt;span style=&quot;color:#6a737d&quot;&gt;// 參數必填&lt;/span&gt;
        &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Description&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Name of the person to greet&quot;&lt;/span&gt;&lt;span&gt;),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 參數描述&lt;/span&gt;
    &lt;span&gt;),&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;工具名稱&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;code&gt;hello_world&lt;/code&gt;。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;參數配置&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt; 
  &lt;ul&gt; 
   &lt;li&gt;&lt;code&gt;name&lt;/code&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;字符串類型，必填字段，描述為「Name of the person to greet」。&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt;通過&lt;span&gt; &lt;/span&gt;&lt;code&gt;mcp.WithString&lt;/code&gt;&lt;span&gt; &lt;/span&gt;和鏈式方法聲明參數約束。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;&lt;strong&gt;(3) 註冊工具處理器&lt;/strong&gt;&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;AddTool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;tool&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;helloHandler&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;ul&gt; 
 &lt;li&gt;將工具&lt;span&gt; &lt;/span&gt;&lt;code&gt;hello_world&lt;/code&gt;&lt;span&gt; &lt;/span&gt;綁定到處理函數&lt;span&gt; &lt;/span&gt;&lt;code&gt;helloHandler&lt;/code&gt;。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;&lt;strong&gt;(4) 啓動服務器&lt;/strong&gt;&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;ServeStdio&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;ul&gt; 
 &lt;li&gt;啓動標準輸入/輸出模式，監聽來自客戶端的請求。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;&lt;strong&gt;(5) 工具處理函數&lt;span&gt; &lt;/span&gt;&lt;code&gt;helloHandler&lt;/code&gt;&lt;/strong&gt;&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;helloHandler&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;request&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;CallToolRequest&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;CallToolResult&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;error&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
    &lt;span style=&quot;color:#24292e&quot;&gt;name&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;ok&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;request&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Params&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Arguments&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span&gt;].(&lt;/span&gt;&lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 獲取參數&lt;/span&gt;
    &lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span&gt;!&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ok&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
        &lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;errors&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;New&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;name must be a string&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 類型檢查&lt;/span&gt;
    &lt;span&gt;}&lt;/span&gt;
    &lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewToolResultText&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Sprintf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Hello, %s!&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;name&lt;/span&gt;&lt;span&gt;)),&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 返回結果&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;參數提取&lt;/strong&gt;：從&lt;span&gt; &lt;/span&gt;&lt;code&gt;request.Params.Arguments&lt;/code&gt;&lt;span&gt; &lt;/span&gt;中獲取&lt;span&gt; &lt;/span&gt;&lt;code&gt;name&lt;/code&gt;&lt;span&gt; &lt;/span&gt;參數，並驗證是否為字符串。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;錯誤處理&lt;/strong&gt;：若類型不符，返回錯誤。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;結果生成&lt;/strong&gt;：使用&lt;span&gt; &lt;/span&gt;&lt;code&gt;mcp.NewToolResultText&lt;/code&gt;&lt;span&gt; &lt;/span&gt;封裝文本響應。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;hr&gt; 
&lt;h3&gt;&lt;strong&gt;3. 數據流示例&lt;/strong&gt;&lt;/h3&gt; 
&lt;h4&gt;&lt;strong&gt;客戶端請求&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;/span&gt;JSON 輸入）&lt;/strong&gt;&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span&gt;{&lt;/span&gt;
  &lt;span style=&quot;color:#22863a&quot;&gt;&quot;tool&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;hello_world&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;
  &lt;span style=&quot;color:#22863a&quot;&gt;&quot;params&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
    &lt;span style=&quot;color:#22863a&quot;&gt;&quot;arguments&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
      &lt;span style=&quot;color:#22863a&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;Alice&quot;&lt;/span&gt;
    &lt;span&gt;}&lt;/span&gt;
  &lt;span&gt;}&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;strong&gt;服務器響應&lt;/strong&gt;&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span&gt;{&lt;/span&gt;
  &lt;span style=&quot;color:#22863a&quot;&gt;&quot;result&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
    &lt;span style=&quot;color:#22863a&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;Hello, Alice!&quot;&lt;/span&gt;
  &lt;span&gt;}&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;strong&gt;錯誤場景（非字符串參數）&lt;/strong&gt;&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span&gt;{&lt;/span&gt;
  &lt;span style=&quot;color:#22863a&quot;&gt;&quot;tool&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;hello_world&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;
  &lt;span style=&quot;color:#22863a&quot;&gt;&quot;params&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
    &lt;span style=&quot;color:#22863a&quot;&gt;&quot;arguments&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
      &lt;span style=&quot;color:#22863a&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span style=&quot;color:#009999&quot;&gt;123&lt;/span&gt;
    &lt;span&gt;}&lt;/span&gt;
  &lt;span&gt;}&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p style=&quot;color:#181c21; margin-left:0; margin-right:0; text-align:start&quot;&gt;&lt;strong&gt;響應錯誤&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;name must be a string
&lt;/code&gt;&lt;/pre&gt; 
&lt;hr&gt; 
&lt;h3&gt;&lt;strong&gt;4. 關鍵設計點&lt;/strong&gt;&lt;/h3&gt; 
&lt;ol&gt; 
 &lt;li&gt;&lt;strong&gt;工具化架構&lt;/strong&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;每個功能（如問候）封裝為獨立工具，通過名稱調用，支持靈活擴展。&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;strong&amp;gt;強類型校驗&amp;lt;/strong&amp;gt;
&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;使用 Go 的類型斷言確保參數合法性。&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;strong&amp;gt;標準化協議&amp;lt;/strong&amp;gt;
&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;輸入/輸出遵循 MCP 格式，兼容不同客戶端（如 CLI、Web 前端）。&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;strong&amp;gt;輕量級通信&amp;lt;/strong&amp;gt;
&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;stdio&amp;lt;/code&amp;gt;&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;模式無需網絡依賴，適合集成到腳本或管道。&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;h3&gt;&lt;strong&gt;5. 如何運行？&lt;/strong&gt;&lt;/h3&gt; 
&lt;ol&gt; 
 &lt;li&gt; &lt;p style=&quot;margin-left:0; margin-right:0&quot;&gt;&lt;strong&gt;編譯服務器&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;pre&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&lt;code class=&quot;language-bash&quot;&gt;$ go build -v -o server &lt;/code&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style=&quot;margin-left:0; margin-right:0&quot;&gt;&lt;strong&gt;再啓動 mcp inspetor&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;（通過標準輸入）：&lt;/p&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;pre&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&lt;code class=&quot;language-bash&quot;&gt;$ npx -y @modelcontextprotocol/inspector ./server &lt;/code&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style=&quot;margin-left:0; margin-right:0&quot;&gt;&lt;strong&gt;運行結果&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fyxh-1301841944.cos.ap-chongqing.myqcloud.com%2Fmarkdown%2F2025-04-14%2F20250414234917.png&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;20250414234917&quot; src=&quot;https://oscimg.oschina.net/oscnet//1b8523b60cfc72ad9f182af4bb80f6fc.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/a&gt;&lt;/p&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;p style=&quot;margin-left:0; margin-right:0&quot;&amp;gt;點擊&amp;lt;code&amp;gt;connect&amp;lt;/code&amp;gt;:

&amp;lt;p style=&quot;margin-left:0; margin-right:0&quot;&amp;gt;&amp;lt;a href=&quot;https://yxh-1301841944.cos.ap-chongqing.myqcloud.com/markdown/2025-04-14/20250414235059.png&quot; target=&quot;_blank&quot;&amp;gt;&amp;lt;img alt=&quot;20250414235059&quot; src=&quot;https://yxh-1301841944.cos.ap-chongqing.myqcloud.com/markdown/2025-04-14/20250414235059.png&quot; /&amp;gt;&amp;lt;/a&amp;gt;

&amp;lt;p style=&quot;margin-left:0; margin-right:0&quot;&amp;gt;連接後可以列出相關工具，此時顯示&amp;lt;code&amp;gt;hello_world&amp;lt;/code&amp;gt;,可以進行&amp;lt;code&amp;gt;run tool&amp;lt;/code&amp;gt;測試
&amp;lt;/li&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;h2&gt;二、簡單的 MCP 服務器 demo 實現 (同時支持 stdio 和 SSE 方式)&lt;/h2&gt; 
&lt;pre&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;package&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;main&lt;/span&gt;

&lt;span style=&quot;color:#d73a49&quot;&gt;import&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;context&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;encoding/json&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;flag&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;fmt&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;io&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;log&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;net/http&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;os&quot;&lt;/span&gt;

&lt;span style=&quot;color:#106303&quot;&gt;&quot;github.com/mark3labs/mcp-go/mcp&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;github.com/mark3labs/mcp-go/server&quot;&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// authKey 是用於在 context 中存儲認證令牌的自定義鍵類型&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;authKey&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;struct&lt;/span&gt;&lt;span&gt;{}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// withAuthKey 將認證令牌添加到 context 中&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// ctx: 原始 context&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// auth: 要存儲的認證令牌&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回: 包含令牌的新 context&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;withAuthKey&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;auth&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithValue&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;authKey&lt;/span&gt;&lt;span&gt;{},&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;auth&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// authFromRequest 從 HTTP 請求頭中提取認證令牌並存入 context&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// ctx: 原始 context&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// r: HTTP 請求對象&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回: 包含認證令牌的新 context&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;authFromRequest&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;http&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Request&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;withAuthKey&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Header&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Get&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;&lt;span&gt;))&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// authFromEnv 從環境變量中提取認證令牌並存入 context&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// ctx: 原始 context&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回: 包含認證令牌的新 context&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;authFromEnv&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;withAuthKey&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;os&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Getenv&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;API_KEY&quot;&lt;/span&gt;&lt;span&gt;))&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// tokenFromContext 從 context 中提取認證令牌&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// ctx: 包含令牌的 context&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回: 令牌字符串或錯誤 (如果令牌不存在或類型不符)&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 注意: 此方法不關心令牌來源 (HTTP 頭或環境變量)，統一通過 context 獲取&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;tokenFromContext&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;error&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;auth&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;ok&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Value&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;authKey&lt;/span&gt;&lt;span&gt;{}).(&lt;/span&gt;&lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span&gt;!&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ok&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Errorf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;missing auth&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;auth&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// response 定義 httpbin.org 返回的數據結構&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;response&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;struct&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;Args&lt;/span&gt;    &lt;span style=&quot;color:#d73a49&quot;&gt;map&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;interface&lt;/span&gt;&lt;span&gt;{}&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;`json:&quot;args&quot;`&lt;/span&gt;    &lt;span style=&quot;color:#6a737d&quot;&gt;// 請求參數&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;Headers&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;map&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;      &lt;span style=&quot;color:#106303&quot;&gt;`json:&quot;headers&quot;`&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 請求頭&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// makeRequest 向 httpbin.org 發起帶認證的 GET 請求&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// ctx: context 對象 (用於超時控制等)&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// message: 要發送的消息 (會作為查詢參數)&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// token: 認證令牌 (會添加到請求頭)&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回: 響應數據或錯誤&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;makeRequest&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;message&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;token&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;response&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;error&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 創建 HTTP 請求&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;req&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;http&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewRequestWithContext&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;https://httpbin.org/anything&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;!=&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Errorf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;創建請求失敗: %w&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 設置認證頭&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;req&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Header&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Set&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;token&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 添加查詢參數&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;query&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;req&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;URL&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Query&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;query&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Add&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;message&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;req&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;URL&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;RawQuery&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;query&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Encode&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 發送請求&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;resp&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;http&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;DefaultClient&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Do&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;req&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;!=&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Errorf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;請求失敗: %w&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;defer&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;resp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Body&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Close&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 讀取響應體&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;body&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;io&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;ReadAll&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;resp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Body&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;!=&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Errorf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;讀取響應失敗: %w&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 解析 JSON 響應&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;var&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;response&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;json&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Unmarshal&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;body&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt;&lt;span&gt;);&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;!=&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Errorf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;解析 JSON 失敗: %w&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// handleMakeAuthenticatedRequestTool 認證請求工具的處理函數&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// ctx: 包含認證令牌的 context&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// request: MCP 工具調用請求&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回: 工具調用結果或錯誤&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;handleMakeAuthenticatedRequestTool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;request&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;CallToolRequest&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;CallToolResult&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;error&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 從請求參數中獲取 message 參數&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;message&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;ok&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;request&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Params&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Arguments&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span&gt;].(&lt;/span&gt;&lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span&gt;!&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ok&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Errorf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;缺少 message 參數或參數類型錯誤&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 從 context 中提取認證令牌&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;token&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;tokenFromContext&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;!=&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Errorf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;獲取認證令牌失敗: %w&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 發起帶認證的請求&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;resp&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;makeRequest&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;message&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;token&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;!=&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Errorf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;執行請求失敗: %w&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回格式化後的響應&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewToolResultText&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Sprintf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;%+v&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;resp&lt;/span&gt;&lt;span&gt;)),&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// MCPServer 封裝 MCP 服務器的結構體&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;MCPServer&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;struct&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;MCPServer&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// NewMCPServer 創建並配置 MCP 服務器實例&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回: 初始化好的 MCPServer 指針&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;NewMCPServer&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;MCPServer&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 創建基礎服務器實例&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcpServer&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewMCPServer&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;example-server&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 服務器名稱&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;         &lt;span style=&quot;color:#6a737d&quot;&gt;// 服務器版本&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithResourceCapabilities&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;true&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;true&lt;/span&gt;&lt;span&gt;),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 啓用資源能力&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithPromptCapabilities&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;true&lt;/span&gt;&lt;span&gt;),&lt;/span&gt;        &lt;span style=&quot;color:#6a737d&quot;&gt;// 啓用提示詞能力&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithToolCapabilities&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;true&lt;/span&gt;&lt;span&gt;),&lt;/span&gt;          &lt;span style=&quot;color:#6a737d&quot;&gt;// 啓用工具能力&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 註冊認證請求工具&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcpServer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;AddTool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewTool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;make_authenticated_request&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithDescription&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;執行帶認證的 HTTP 請求&quot;&lt;/span&gt;&lt;span&gt;),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 工具描述&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithString&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;             &lt;span style=&quot;color:#6a737d&quot;&gt;// 字符串參數&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Description&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;要發送的消息內容&quot;&lt;/span&gt;&lt;span&gt;),&lt;/span&gt;     &lt;span style=&quot;color:#6a737d&quot;&gt;// 參數描述&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Required&lt;/span&gt;&lt;span&gt;(),&lt;/span&gt;                   &lt;span style=&quot;color:#6a737d&quot;&gt;// 必填參數&lt;/span&gt;
&lt;span&gt;),&lt;/span&gt;
&lt;span&gt;),&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;handleMakeAuthenticatedRequestTool&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;MCPServer&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;:&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcpServer&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// ServeSSE 啓動 SSE 模式的服務&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// addr: 監聽地址 (如&quot;localhost:8080&quot;)&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回: SSEServer 實例&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;MCPServer&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;ServeSSE&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;addr&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;SSEServer&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewSSEServer&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithBaseURL&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Sprintf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;http://%s&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;addr&lt;/span&gt;&lt;span&gt;)),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 基礎 URL&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithSSEContextFunc&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;authFromRequest&lt;/span&gt;&lt;span&gt;),&lt;/span&gt;         &lt;span style=&quot;color:#6a737d&quot;&gt;// 使用請求頭認證&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// ServeStdio 啓動標準輸入輸出模式的服務&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回: 錯誤信息 (如果有)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;MCPServer&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;ServeStdio&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;error&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;ServeStdio&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; 
&lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithStdioContextFunc&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;authFromEnv&lt;/span&gt;&lt;span&gt;),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 使用環境變量認證&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 解析命令行參數&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;var&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;transport&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;flag&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;StringVar&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;transport&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;t&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;stdio&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;傳輸協議類型 (stdio 或 sse)&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;flag&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;StringVar&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;transport&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;transport&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;stdio&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;傳輸協議類型 (stdio 或 sse)&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;flag&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Parse&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 創建服務器實例&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;NewMCPServer&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 根據參數啓動對應模式&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;switch&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;transport&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;case&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;stdio&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 標準輸入輸出模式&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;ServeStdio&lt;/span&gt;&lt;span&gt;();&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;!=&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;log&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Fatalf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;服務器錯誤: %v&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;case&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;sse&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// SSE 服務器模式&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;sseServer&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;ServeSSE&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;localhost:8080&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;log&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Printf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;SSE 服務啓動，監聽 :8080 端口&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;sseServer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Start&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;:8080&quot;&lt;/span&gt;&lt;span&gt;);&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;!=&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;log&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Fatalf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;服務器錯誤: %v&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;err&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;default&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;log&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Fatalf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;無效的傳輸協議: %s。必須是&#39;stdio&#39;或&#39;sse&#39;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;transport&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p style=&quot;color:#181c21; margin-left:0; margin-right:0; text-align:start&quot;&gt;這段代碼實現了一個基於&lt;span&gt; &lt;/span&gt;&lt;strong&gt;MCP&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;/span&gt;Model Context Protocol&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;的服務器，支持通過&lt;span&gt; &lt;/span&gt;&lt;strong&gt;SSE&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;/span&gt;Server-Sent Events&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;或&lt;span&gt; &lt;/span&gt;&lt;strong&gt;標準輸入/輸出&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;/span&gt;stdio&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;兩種方式與客戶端交互。以下是代碼的詳細解析：&lt;/p&gt; 
&lt;hr&gt; 
&lt;h3&gt;&lt;strong&gt;1. 核心功能&lt;/strong&gt;&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;認證管理&lt;/strong&gt;：從 HTTP 請求頭或環境變量中提取認證令牌（&lt;code&gt;Authorization&lt;/code&gt;），並通過上下文（&lt;code&gt;context.Context&lt;/code&gt;）傳遞。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;工具調用&lt;/strong&gt;：註冊一個名為&lt;span&gt; &lt;/span&gt;&lt;code&gt;make_authenticated_request&lt;/code&gt;&lt;span&gt; &lt;/span&gt;的工具，用於向外部 API&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;/span&gt;&lt;code&gt;httpbin.org&lt;/code&gt;）發送帶認證的請求。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;多傳輸協議支持&lt;/strong&gt;：支持&lt;span&gt; &lt;/span&gt;&lt;code&gt;SSE&lt;/code&gt;&lt;span&gt; &lt;/span&gt;和&lt;span&gt; &lt;/span&gt;&lt;code&gt;stdio&lt;/code&gt;&lt;span&gt; &lt;/span&gt;兩種通信方式（通過命令行參數切換）。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;hr&gt; 
&lt;h3&gt;&lt;strong&gt;2. 代碼結構解析&lt;/strong&gt;&lt;/h3&gt; 
&lt;h4&gt;&lt;strong&gt;(1) 認證管理&lt;/strong&gt;&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;&lt;code&gt;authKey&lt;/code&gt;&lt;span&gt; &lt;/span&gt;類型&lt;/strong&gt;：自定義的上下文鍵，用於存儲認證令牌。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;&lt;code&gt;withAuthKey&lt;/code&gt;&lt;/strong&gt;：將令牌注入上下文。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;&lt;code&gt;authFromRequest&lt;/code&gt;&lt;/strong&gt;：從 HTTP 請求頭提取&lt;span&gt; &lt;/span&gt;&lt;code&gt;Authorization&lt;/code&gt;&lt;span&gt; &lt;/span&gt;字段並存入上下文。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;&lt;code&gt;authFromEnv&lt;/code&gt;&lt;/strong&gt;：從環境變量&lt;span&gt; &lt;/span&gt;&lt;code&gt;API_KEY&lt;/code&gt;&lt;span&gt; &lt;/span&gt;中讀取令牌並存入上下文。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;&lt;code&gt;tokenFromContext&lt;/code&gt;&lt;/strong&gt;：從上下文中提取令牌，供工具函數使用。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;&lt;strong&gt;(2) 工具實現&lt;/strong&gt;&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;&lt;code&gt;makeRequest&lt;/code&gt;&lt;span&gt; &lt;/span&gt;函數&lt;/strong&gt;：向&lt;span&gt; &lt;/span&gt;&lt;code&gt;httpbin.org/anything&lt;/code&gt;&lt;span&gt; &lt;/span&gt;發送 GET 請求，附帶認證令牌和查詢參數&lt;span&gt; &lt;/span&gt;&lt;code&gt;message&lt;/code&gt;，返回響應數據。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;&lt;code&gt;handleMakeAuthenticatedRequestTool&lt;/code&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;MCP 工具的核心邏輯： 
  &lt;ul&gt; 
   &lt;li&gt;從請求參數中提取&lt;span&gt; &lt;/span&gt;&lt;code&gt;message&lt;/code&gt;。&lt;/li&gt; 
   &lt;li&gt;從上下文中獲取認證令牌。&lt;/li&gt; 
   &lt;li&gt;調用&lt;span&gt; &lt;/span&gt;&lt;code&gt;makeRequest&lt;/code&gt;&lt;span&gt; &lt;/span&gt;發送請求，返回格式化後的響應。&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;&lt;strong&gt;(3) MCP 服務器配置&lt;/strong&gt;&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;&lt;code&gt;NewMCPServer&lt;/code&gt;&lt;/strong&gt;：初始化 MCP 服務器： &lt;pre&gt;&lt;code&gt;&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;設置服務器名稱和版本。&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;啓用資源、提示詞和工具能力。&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;註冊工具&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;make_authenticated_request&amp;lt;/code&amp;gt;，綁定處理函數&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;handleMakeAuthenticatedRequestTool&amp;lt;/code&amp;gt;。&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;strong&amp;gt;&amp;lt;code&amp;gt;ServeSSE&amp;lt;/code&amp;gt;&amp;lt;/strong&amp;gt;：啓動 SSE 服務器，綁定認證函數&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;authFromRequest&amp;lt;/code&amp;gt;。&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;strong&amp;gt;&amp;lt;code&amp;gt;ServeStdio&amp;lt;/code&amp;gt;&amp;lt;/strong&amp;gt;：啓動 stdio 模式，從環境變量獲取認證令牌。&amp;lt;/li&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h4&gt;&lt;strong&gt;(4) 主函數&lt;/strong&gt;&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;通過命令行參數&lt;span&gt; &lt;/span&gt;&lt;code&gt;-t&lt;/code&gt;&lt;span&gt; &lt;/span&gt;選擇傳輸協議（&lt;code&gt;stdio&lt;/code&gt;&lt;span&gt; &lt;/span&gt;或&lt;span&gt; &lt;/span&gt;&lt;code&gt;sse&lt;/code&gt;）。 &lt;pre&gt;&lt;code&gt;&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;strong&amp;gt;&amp;lt;code&amp;gt;stdio&amp;lt;/code&amp;gt;&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;模式&amp;lt;/strong&amp;gt;：直接通過標準輸入/輸出交互（適合 CLI 或管道調用）。&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;strong&amp;gt;&amp;lt;code&amp;gt;sse&amp;lt;/code&amp;gt;&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;模式&amp;lt;/strong&amp;gt;：啓動 HTTP 服務（默認端口&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;8080&amp;lt;/code&amp;gt;），通過 SSE 協議通信。&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;hr&gt; 
&lt;h3&gt;&lt;strong&gt;3. 關鍵邏輯流程&lt;/strong&gt;&lt;/h3&gt; 
&lt;ol&gt; 
 &lt;li&gt;&lt;strong&gt;客戶端發起請求&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;若為 SSE 模式，HTTP 請求頭需包含&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;Authorization&amp;lt;/code&amp;gt;。&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;若為 stdio 模式，需設置環境變量&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;API_KEY&amp;lt;/code&amp;gt;。&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;strong&amp;gt;認證令牌傳遞&amp;lt;/strong&amp;gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;：&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;
&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;服務器通過&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;authFromRequest&amp;lt;/code&amp;gt;&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;或&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;authFromEnv&amp;lt;/code&amp;gt;&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;提取令牌，存入上下文。&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;strong&amp;gt;工具調用&amp;lt;/strong&amp;gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;：&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;
&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;客戶端發送 MCP 格式的請求，指定工具名&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;make_authenticated_request&amp;lt;/code&amp;gt;&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;和參數&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;message&amp;lt;/code&amp;gt;。&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;服務器調用&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;handleMakeAuthenticatedRequestTool&amp;lt;/code&amp;gt;，從上下文中獲取令牌併發送到&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;httpbin.org&amp;lt;/code&amp;gt;。&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;&amp;lt;strong&amp;gt;返回結果&amp;lt;/strong&amp;gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;：&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;
&amp;lt;ul&amp;gt;
&amp;lt;li&amp;gt;工具將&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;httpbin.org&amp;lt;/code&amp;gt;&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;的響應封裝為 MCP 格式返回給客戶端。&amp;lt;/li&amp;gt;
&amp;lt;/ul&amp;gt;
&amp;lt;/li&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;h3&gt;&lt;strong&gt;4. 示例用法&lt;/strong&gt;&lt;/h3&gt; 
&lt;h4&gt;&lt;strong&gt;(1) SSE 模式&lt;/strong&gt;&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span style=&quot;color:#6a737d&quot;&gt;# 啓動服務器&lt;/span&gt;
go run main.go -t sse

&lt;span style=&quot;color:#6a737d&quot;&gt;# 客戶端請求示例（使用 curl&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
curl -N -H &lt;span style=&quot;color:#106303&quot;&gt;&quot;Accept: text/event-stream&quot;&lt;/span&gt; &lt;span style=&quot;color:#994400&quot;&gt;\\
&lt;/span&gt;  -H &lt;span style=&quot;color:#106303&quot;&gt;&quot;Authorization: Bearer YOUR_TOKEN&quot;&lt;/span&gt; &lt;span style=&quot;color:#994400&quot;&gt;\\
&lt;/span&gt;  -X POST &lt;span style=&quot;color:#994400&quot;&gt;\\
&lt;/span&gt;  -d &lt;span style=&quot;color:#106303&quot;&gt;&#39;{&quot;tool&quot;:&quot;make_authenticated_request&quot;, &quot;params&quot;:{&quot;arguments&quot;:{&quot;message&quot;:&quot;hello&quot;}}}&#39;&lt;/span&gt; &lt;span style=&quot;color:#994400&quot;&gt;\\
&lt;/span&gt;  http://localhost:8080/mcp
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;strong&gt;(2) Stdio 模式&lt;/strong&gt;&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span style=&quot;color:#6a737d&quot;&gt;# 設置環境變量並啓動&lt;/span&gt;
&lt;span style=&quot;color:#005cc5&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color:teal&quot;&gt;API_KEY&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;YOUR_TOKEN&quot;&lt;/span&gt;
go run main.go -t stdio

&lt;span style=&quot;color:#6a737d&quot;&gt;# 通過標準輸入發送請求（示例 JSON&lt;span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span style=&quot;color:#005cc5&quot;&gt;echo&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&#39;{&quot;tool&quot;:&quot;make_authenticated_request&quot;, &quot;params&quot;:{&quot;arguments&quot;:{&quot;message&quot;:&quot;hello&quot;}}}&#39;&lt;/span&gt; &lt;span&gt;|&lt;/span&gt; go run main.go
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;strong&gt;5. 如何運行？&lt;/strong&gt;&lt;/h3&gt; 
&lt;ol&gt; 
 &lt;li&gt; &lt;p style=&quot;margin-left:0; margin-right:0&quot;&gt;&lt;strong&gt;啓動 SSE 服務器&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;pre&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&lt;code class=&quot;language-bash&quot;&gt;$ go run sse.go -t sse &lt;/code&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style=&quot;margin-left:0; margin-right:0&quot;&gt;&lt;strong&gt;再啓動 mcp inspetor&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;pre&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&lt;code class=&quot;language-bash&quot;&gt;$ npx -y @modelcontextprotocol/inspector &lt;/code&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style=&quot;margin-left:0; margin-right:0&quot;&gt;&lt;strong&gt;運行結果&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;p style=&quot;margin-left:0; margin-right:0&quot;&amp;gt;&amp;lt;a href=&quot;https://yxh-1301841944.cos.ap-chongqing.myqcloud.com/markdown/2025-04-15/20250415000301.png&quot; target=&quot;_blank&quot;&amp;gt;&amp;lt;img alt=&quot;20250415000301&quot; src=&quot;https://yxh-1301841944.cos.ap-chongqing.myqcloud.com/markdown/2025-04-15/20250415000301.png&quot; /&amp;gt;&amp;lt;/a&amp;gt;

&amp;lt;p style=&quot;margin-left:0; margin-right:0&quot;&amp;gt;連接後可以列出相關工具，此時顯示&amp;lt;code&amp;gt;make_authenticated_request&amp;lt;/code&amp;gt;,可以進行&amp;lt;code&amp;gt;run tool&amp;lt;/code&amp;gt;測試
&amp;lt;/li&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; 
&lt;/ol&gt; 
&lt;hr&gt; 
&lt;h2&gt;三、GFast 集成&lt;/h2&gt; 
&lt;blockquote&gt; 
 &lt;p style=&quot;margin-left:0; margin-right:0&quot;&gt;在實際開發中，很多公司內部的業務有自己的框架，集成了許許多多的獨特功能。總不能為了使用 MCP 重寫一套 Web 框架，此時就需要使用到 mark3labs/mcp-go 集成到 Web 框架下。因 GFast 使用的是 GoFrame 框架，下面以 GoFrame 框架為例：&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;pre&gt;&lt;code class=&quot;language-go&quot;&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;package&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;main&lt;/span&gt;

&lt;span style=&quot;color:#d73a49&quot;&gt;import&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;context&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;errors&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;fmt&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;github.com/gogf/gf/v2/frame/g&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;github.com/gogf/gf/v2/net/ghttp&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;github.com/mark3labs/mcp-go/mcp&quot;&lt;/span&gt;
&lt;span style=&quot;color:#106303&quot;&gt;&quot;github.com/mark3labs/mcp-go/server&quot;&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;helloHandler2&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ctx&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;request&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;CallToolRequest&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;CallToolResult&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#445588&quot;&gt;error&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 從請求參數中獲取名字參數，並斷言為字符串類型&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;name&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;ok&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;request&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Params&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Arguments&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span&gt;].(&lt;/span&gt;&lt;span style=&quot;color:#445588&quot;&gt;string&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;if&lt;/span&gt; &lt;span&gt;!&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ok&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 如果斷言失敗，返回錯誤&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;errors&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;New&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;name must be a string&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 返回包含問候語的結果&lt;/span&gt;
&lt;span style=&quot;color:#d73a49&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewToolResultText&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;fmt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Sprintf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Hello, %s!&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;name&lt;/span&gt;&lt;span&gt;)),&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;nil&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt; &lt;span style=&quot;color:#005cc5&quot;&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 創建一個新的 MCPServer 實例（假設這是 SSEServer 所需的）&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcpServer&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewMCPServer&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;gf-mcp-server&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#106303&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 根據你的實際代碼調整&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// mcpServer 新加 Tool、Resource、Prompt&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 添加工具&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;tool&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewTool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;hello_world&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 工具名稱&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithDescription&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Say hello to someone&quot;&lt;/span&gt;&lt;span&gt;),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 工具描述&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;WithString&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 參數名稱&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Required&lt;/span&gt;&lt;span&gt;(),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 參數是必需的&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Description&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#106303&quot;&gt;&quot;Name of the person to greet&quot;&lt;/span&gt;&lt;span&gt;),&lt;/span&gt; &lt;span style=&quot;color:#6a737d&quot;&gt;// 參數描述&lt;/span&gt;
&lt;span&gt;),&lt;/span&gt;
&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#6a737d&quot;&gt;// 為工具添加處理器&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;mcpServer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;AddTool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;tool&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;helloHandler2&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 創建一個新的 SSEServer 實例，並傳入 MCPServer&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;sseServer&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;server&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;NewSSEServer&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;mcpServer&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;

&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;:=&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;g&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Server&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 將 SSEServer 的 SSE 端點和處理函數集成到 GoFrame 路由中&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;BindHandler&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;sseServer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;CompleteSsePath&lt;/span&gt;&lt;span&gt;(),&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ghttp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Request&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;sseServer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;ServeHTTP&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Response&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Writer&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Request&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;})&lt;/span&gt;

&lt;span style=&quot;color:#6a737d&quot;&gt;// 將 SSEServer 的消息端點和處理函數集成到 GoFrame 路由中&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;BindHandler&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;sseServer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;CompleteMessagePath&lt;/span&gt;&lt;span&gt;(),&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;func&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt; &lt;span style=&quot;color:#d73a49&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;ghttp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Request&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;sseServer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;ServeHTTP&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Response&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Writer&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; &lt;span style=&quot;color:#24292e&quot;&gt;r&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#24292e&quot;&gt;Request&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span&gt;})&lt;/span&gt;

&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;SetPort&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span style=&quot;color:#009999&quot;&gt;8000&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
&lt;span style=&quot;color:#24292e&quot;&gt;s&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span style=&quot;color:#005cc5&quot;&gt;Run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt; 
&lt;hr&gt; 
&lt;h3&gt;&lt;strong&gt;運行&lt;/strong&gt;&lt;/h3&gt; 
&lt;ol&gt; 
 &lt;li&gt; &lt;p style=&quot;margin-left:0; margin-right:0&quot;&gt;&lt;strong&gt;啓動 SSE 服務器&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;pre&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&lt;code class=&quot;language-bash&quot;&gt;$ go run main.go &lt;/code&gt;&lt;/p&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;p style=&quot;margin-left:0; margin-right:0&quot;&amp;gt;此時 MCPServer 請求響應將被 GoFrame 接管，並綁定如下路由&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;：&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;a href=&quot;https://yxh-1301841944.cos.ap-chongqing.myqcloud.com/markdown/2025-04-16/20250416104437.png&quot; target=&quot;_blank&quot;&amp;gt;&amp;lt;img alt=&quot;20250416104437&quot; src=&quot;https://yxh-1301841944.cos.ap-chongqing.myqcloud.com/markdown/2025-04-16/20250416104437.png&quot; /&amp;gt;&amp;lt;/a&amp;gt;
&amp;lt;/li&amp;gt;
&amp;lt;li&amp;gt;
&amp;lt;p style=&quot;margin-left:0; margin-right:0&quot;&amp;gt;&amp;lt;strong&amp;gt;再啓動 mcp inspetor&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;：&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/strong&amp;gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;：&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;

&amp;lt;pre&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&lt;code class=&quot;language-bash&quot;&gt;$ npx -y @modelcontextprotocol/inspector &lt;/code&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style=&quot;margin-left:0; margin-right:0&quot;&gt;&lt;strong&gt;運行結果&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fyxh-1301841944.cos.ap-chongqing.myqcloud.com%2Fmarkdown%2F2025-04-16%2F20250416104240.png&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;20250416104240&quot; src=&quot;https://oscimg.oschina.net/oscnet//3940ea2feac26ad7773006e63d4932ec.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/a&gt;&lt;/p&gt; &lt;pre&gt;&lt;code&gt;&amp;lt;p style=&quot;margin-left:0; margin-right:0&quot;&amp;gt;連接後可以列出相關工具，此時顯示&amp;lt;code&amp;gt;hello_world&amp;lt;/code&amp;gt;工具,可以進行&amp;lt;code&amp;gt;run tool&amp;lt;/code&amp;gt;測試
&amp;lt;/li&amp;gt;
&lt;/code&gt;&lt;/pre&gt; &lt;/li&gt; 
&lt;/ol&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347466</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347466</guid>
            <pubDate>Sun, 27 Apr 2025 01:28:00 GMT</pubDate>
            <author>來源: 投稿</author>
        </item>
        <item>
            <title>Linus 痛恨大小寫不敏感的文件系統</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;Linus 近日在內核郵件列表（LKML）上發表&lt;u&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flore.kernel.org%2Flkml%2FCAHk-%3DwjajMJyoTv2KZdpVRoPn0LFZ94Loci37WLVXmMxDbLOjg%40mail.gmail.com%2F&quot; target=&quot;_blank&quot;&gt;長文&lt;/a&gt;&lt;/u&gt;，「怒斥」&lt;strong&gt;文件系統中的大小寫不敏感（case-insensitive）功能。&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;他明確表示，&lt;strong&gt;這種設計是個「巨大的錯誤」&lt;/strong&gt;，文件系統開發者從未吸取教訓。問題的核心不在於測試不足，而在於一開始就不該實現這種功能。&lt;/p&gt; 
&lt;p&gt;Linus 表示，大小寫不敏感功能會帶來嚴重的安全風險。他舉例説明，許多用戶空間程序會檢查文件名是否符合安全敏感模式，但文件系統可能無視不可打印字符，導致原本不應匹配的文件名被錯誤匹配。這種「忽略其他因素」的做法，讓安全檢查形同虛設。&lt;/p&gt; 
&lt;p&gt;他舉了一個例子：&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;&lt;span&gt;&lt;span&gt;❤&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;&lt;span&gt;&lt;span&gt;和 ❤️&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;&lt;span&gt;&lt;span&gt;表面上看非常相似，&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;&lt;span&gt;&lt;span&gt;但實際上是不同的編碼。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;&lt;span&gt;&lt;span&gt;如果大小寫摺疊邏輯一刀切地忽略這類細節，&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;&lt;span&gt;&lt;span&gt;那麼這兩個文件名就會被錯誤地認為是「相同的」&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;&lt;span&gt;&lt;span&gt;——&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;&lt;span&gt;&lt;span&gt;這不僅僅是名字混淆，更會讓原本基於字符串檢查機制（如驗證路徑是否安全）的用戶空間程序失效，引發安全漏洞。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;img height=&quot;482&quot; src=&quot;https://static.oschina.net/uploads/space/2025/0429/195826_9tDN_2720166.png&quot; width=&quot;1212&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
 &lt;p&gt;&lt;em&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flore.kernel.org%2Flkml%2FCAHk-%3DwjajMJyoTv2KZdpVRoPn0LFZ94Loci37WLVXmMxDbLOjg%40mail.gmail.com%2F&quot; target=&quot;_blank&quot;&gt;https://lore.kernel.org/lkml/CAHk-=wjajMJyoTv2KZdpVRoPn0LFZ94Loci37WLVXmMxDbLOjg@mail.gmail.com/&lt;/a&gt;&lt;/em&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;Linus 還順勢諷刺了那些懷念老式 FAT 文件系統的人（FAT 文件系統是早期 PC 時代常見的文件系統，但在現代計算環境中，這種設計早已被證明存在大量問題，尤其在安全性和一致性方面表現糟糕）：&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;真是見鬼了。大小寫不敏感，本質上就是個 BUG，文件系統開發者們居然到今天還把它當作一個‘特性’，我完全無法理解&lt;/strong&gt;。這種行為簡直像是，他們對古老的 FAT 文件系統懷有一種變態的崇拜，非得一遍又一遍地把這種糟糕設計複製出來——而且每次都做得更爛。&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;總的來説，在 Linus 看來，所謂「正確實現大小寫不敏感」，本質上就是無解的。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347415/linus-torvalds-anti-case-fold</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347415/linus-torvalds-anti-case-fold</guid>
            <pubDate>Sat, 26 Apr 2025 12:04:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>馬斯克預告下週發佈 Grok 3.5 早期測試版，基於第一性原理進行推理</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p style=&quot;margin-left:0px; margin-right:0px; text-align:start&quot;&gt;Qwen 3 發佈才一天，Grok 3.5 就要來了。馬斯克宣佈：&lt;strong&gt;下週即將發佈 Grok 3.5 的早期&lt;strong&gt;&lt;strong&gt;測&lt;/strong&gt;&lt;/strong&gt;試版&lt;/strong&gt;——僅限 SuperGrok 訂閲用戶體驗。&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;Grok 3.5 是首個能準確回答火箭引擎或電化學等複雜技術問題的 AI，它從第一性原理出發，甚至能給出互聯網上不存在的答案。&lt;/strong&gt;&lt;/p&gt; 
 &lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;https://oscimg.oschina.net/oscnet/up-165fb0d36ecc72914c1fda95eedaa1b73c1.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;據瞭解，SuperGrok 是付費訂閲的高階服務，享受優先體驗新功能的特權。&lt;/p&gt; 
&lt;p&gt;馬斯克強調，這次 Grok 3.5 的突出之處在於它能推理出網絡上根本不存在的新知識。用人話講，就是馬斯克讓 Grok 學會了「原創」。這意味着你再也不是簡單地問一個 AI 它在網上查到的答案，而是讓它通過自身的理解和推理能力，幫你解答火箭發動機設計、電化學反應機制等極度專業的問題——這將直面宇宙的奧祕，探索世界上最基礎和前沿的根本性問題。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347413</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347413</guid>
            <pubDate>Sat, 26 Apr 2025 11:44:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
        <item>
            <title>2024 年 MaaS + AI 大模型解決方案市場規模翻倍</title>
            <description>&lt;div class=&quot;content&quot;&gt;
                                                                                            &lt;p&gt;國際數據公司 （IDC）最新發布的《中國模型即服務 (MaaS) 及 AI 大模型解決方案市場追蹤，2024H2》&lt;u&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FiU2lLbZmhmzI4gxf5SCpug&quot; target=&quot;_blank&quot;&gt;報告顯示&lt;/a&gt;&lt;/u&gt;，2024 年中國 MaaS 市場呈現爆發式增長，全年規模達 7.1 億元人民幣，較 2023 年實現 215.7% 的同比激增，其中 2024 下半年市場規模達 4.6 億元人民幣。&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;IDC 所定義的中國模型即服務（MaaS）及 AI 大模型解決方案市場由兩個子市場構成，分別是模型即服務（MaaS）市場和 AI 大模型解決方案市場。&lt;/p&gt; 
 &lt;ul&gt; 
  &lt;li&gt;&lt;strong&gt;模型即服務（MaaS）&lt;/strong&gt;：提供以服務/雲模式交付的全流程 AI 大模型生命週期工具鏈、大模型應用開發平台以及 AI 大模型服務。主要以 API 訪問、模型中樞或會話接口來提供服務。不包含單獨銷售的雲基礎資源層（IaaS）和算力的收入。&lt;/li&gt; 
  &lt;li&gt;&lt;strong&gt;AI 大模型解決方案&lt;/strong&gt;：提供包括模型框架，大模型，大模型生命週期工具鏈，模型訓練和調優的軟件和服務，在企業自己或第三方的數據中心部署，支持企業客戶構建和訓練自己的企業或行業大模型以及行業應用。&lt;/li&gt; 
 &lt;/ul&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;img height=&quot;538&quot; src=&quot;https://static.oschina.net/uploads/space/2025/0429/193331_ufEE_2720166.png&quot; width=&quot;677&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://static.oschina.net/uploads/space/2025/0429/193431_sTN0_2720166.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;展望 2024-2029 年，該市場將以 66.1% 的年均複合增長率高速擴容，預計 2029 年市場規模將達到 90 億元人民幣。&lt;/p&gt; 
&lt;p&gt;&lt;img height=&quot;545&quot; src=&quot;https://static.oschina.net/uploads/space/2025/0429/193401_6JqC_2720166.png&quot; width=&quot;704&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://static.oschina.net/uploads/space/2025/0429/193446_Fs0Z_2720166.png&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/p&gt; 
&lt;p&gt;AI 大模型解決方案市場同樣保持高位增長態勢。2024 年全年市場規模達 34.9 億元人民幣，同比增長 126.4%，其中 2024 下半年市場規模達為 21.0 億元人民幣。&lt;/p&gt; 
&lt;p&gt;未來五年，該市場將以 54.5% 的年均複合增長率持續擴張，預計 2029 年整體規模達 306 億元人民幣。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
            <link>https://www.oschina.net/news/347412</link>
            <guid isPermaLink="false">https://www.oschina.net/news/347412</guid>
            <pubDate>Sat, 26 Apr 2025 11:35:00 GMT</pubDate>
            <author>來源: OSCHINA</author>
        </item>
    </channel>
</rss>