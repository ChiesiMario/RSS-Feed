<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <title>oschina - news - 繁體中文（香港）</title>
    <link>https://www.oschina.net/news/project</link>
    <atom:link href="http://127.0.0.1:30044/oschina/news" rel="self" type="application/rss+xml"/>
    <description>已對該 RSS 進行格式化操作：中英字符之間插入空格、使用直角引號、標點符號修正</description>
    <generator>RSSHub</generator>
    <webMaster>contact@rsshub.app (RSSHub)</webMaster>
    <language>zh-hk</language>
    <lastBuildDate>Wed, 18 Jun 2025 07:50:05 GMT</lastBuildDate>
    <ttl>5</ttl>
    <item>
      <title>深度解析 Cursor</title>
      <description>&lt;div class="content"&gt;
                                                                                                                    
                                                                                                                                                    &lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;編者按：&lt;/strong&gt; 我們今天為大家帶來的這篇文章，作者的觀點是：只有深入理解 AI 編程工具的底層原理和能力邊界，才能真正駕馭這些工具，讓它們成為提升開發效率的"外掛神器"。&lt;/p&gt; 
 &lt;p&gt;本文從 LLM 的基礎工作機製出發，解釋了 Cursor 等工具本質上是 VSCode 的複雜封裝，通過聊天界面、工具集（如 read_file、write_file 等）和精心設計的提示詞來實現智能編程輔助。作者還逐行解析了 Cursor 的系統提示詞，分析了其中的工程設計細節。此外，作者還提供了制定高效 Cursor Rules 的具體指導，強調 Cursor Rules 應該像百科詞條般詳實，而非簡單的命令列表。&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;strong&gt;作者 | Shrivu Shankar&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;編譯 | 嶽揚&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;透徹瞭解 Cursor[1]、Windsurf[2] 和 Copilot[3] 這類 AI 編程工具的運作原理細節，能大大提升你的開發效率，並讓這些工具在不同場景下都更加穩定地工作 ------ 尤其在龐大、複雜的代碼庫中。當人們難以讓 AI 編程工具高效工作時，往往是把它們當成了傳統工具來使用，卻忽略了一個關鍵：只有清楚這些工具的先天不足和最佳應對策略，才能真正駕馭它們。一旦摸透這些工具的運作邏輯和能力邊界，它們就會化身成為提升開發效率的"外掛神器"。在我寫作此文時，我約 70% 的代碼 1 都由 Cursor 產出。&lt;/p&gt; 
&lt;p&gt;在本文，我將深入解析這些 AI 編程工具的實際運行原理、Cursor 的系統提示詞，以及如何優化你的編碼方式與 Cursor rules。&lt;/p&gt; 
&lt;h1&gt;&lt;strong&gt;01 從 LLM 到代碼編寫智能體&lt;/strong&gt;&lt;/h1&gt; 
&lt;h2&gt;&lt;strong&gt;1.1 LLM&lt;/strong&gt;&lt;/h2&gt; 
&lt;p&gt;LLMs 的核心工作方式是不斷重複預測下一個詞，正是基於這個簡單的原理，我們得以構建出各種複雜的應用。&lt;/p&gt; 
&lt;p&gt;&lt;img src="https://oscimg.oschina.net/oscnet/up-e7cd63f365717b2dd8cdd7ea2ebb3cf3e0c.png" alt="" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;從基礎的編程 LLM 到智能體主要經歷三個階段：藍色部分表示我們設定的前綴（即 prompts），橙色部分則為 LLM 自動補全的內容。在智能體中會反覆運行 LLM，直到它生成面向用户的輸出（response）。每次運行時，由客户端代碼（而非 LLM）負責計算工具（tool）運行結果並將其反饋回智能體（agent）。&lt;/p&gt; 
&lt;p&gt;在早期解碼器 LLM（如 GPT-2[4]）的提示詞實踐中，需要精心構造一個前綴字符串（prefix） ------ 當其被補全時，便能得到想要的結果。相比於直接的指令"Write a poem about whales"，不如説 "Topic: Whales\nPoem: "，甚至是"Topic: Trees\nPoem: ... actual tree poem ...\nTopic: Whales\nPoem: "。在編程場景下，需要構造類似"PR Title: Refactor Foo Method\nDescription: ...\nFull Diff: "這樣的前綴。所謂的"Prompt engineering"，其核心就是巧妙地構建理想前綴，從而引導模型自動補全出所需答案。&lt;/p&gt; 
&lt;p&gt;隨後引入了指令微調[5]（例如 ChatGPT），大幅降低了大語言模型的使用門檻。現在你如果輸入"Write a PR to refactor Foo"，它就會直接返回代碼。其內在機制幾乎完全等同於上述的自動補全過程，只是前綴變成了"&amp;lt;user&amp;gt;Write a PR to refactor Foo&amp;lt;/user&amp;gt;&amp;lt;assistant&amp;gt;"，此時大語言模型正扮演着聊天中的助手角色。即使在今天，你仍會看到一些奇怪的情況 ------ 模型有時會越過"&amp;lt;/assistant&amp;gt;"標籤繼續自動補全生成內容，開始給自己寫提問。&lt;/p&gt; 
&lt;p&gt;當模型規模達到一定程度時，我們更進一步，加入了"工具調用（tool calling）[6]"功能。不再侷限於填充 assistant 文本，我們可以在前綴中輸入"Say \read_file(path: str)` instead of responding if you need to read a file"。當遇到編碼任務時，模型現在會補全出"read_file('index.py')&amp;lt;/assistant&amp;gt;"，我們（客户端）則會再次輸入提示詞"&amp;lt;tool&amp;gt;... full contents of index.py ...&amp;lt;/tool&amp;gt;&amp;lt;assistant&amp;gt;`"並要求其繼續補全文本。雖然本質上仍是自動補全，但大語言模型已能借此與外界及外部系統互動了。&lt;/p&gt; 
&lt;h2&gt;&lt;strong&gt;1.2 Agentic Coding&lt;/strong&gt;&lt;/h2&gt; 
&lt;p&gt;像 Cursor 這樣的 AI 編程工具，其本質就是這個簡單概念的複雜封裝。&lt;/p&gt; 
&lt;p&gt;要構建一個 AI 編程工具，你需要：&lt;/p&gt; 
&lt;ol&gt; 
 &lt;li&gt; &lt;p&gt;Fork VSCode[7]&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;添加聊天界面，並選擇一個強大的大語言模型（例如 Sonnet 3.7）&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;為編碼智能體實現一套工具集&lt;/p&gt; &lt;p&gt;a. read_file(full_path: str)&lt;/p&gt; &lt;p&gt;b. write_file(full_path: str, content: str)&lt;/p&gt; &lt;p&gt;c. run_command(command: str)&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;優化內部提示詞（Prompts）：例如"你是一位編碼專家"、"不要假設，請使用工具"等&lt;/p&gt; &lt;/li&gt; 
&lt;/ol&gt; 
&lt;p&gt;總的來看，核心流程基本就是這些了。&lt;strong&gt;真正的難點在於設計提示詞和工具鏈，確保它們能穩定可靠地工作。&lt;/strong&gt; 如果完全按照上述描述來構建，系統雖能勉強運行，但會頻繁出現語法錯誤、幻覺問題（hallucinations）且相當不穩定。&lt;/p&gt; 
&lt;h2&gt;&lt;strong&gt;1.3 優化 Agentic Coding&lt;/strong&gt;&lt;/h2&gt; 
&lt;p&gt;打造優秀 AI 編程工具的訣竅，在於找出大語言模型擅長的領域，並圍繞其侷限性精心設計提示詞和工具。這通常意味着需要減輕主智能體的任務負擔 ------ 通過使用更小的模型來完成子任務。&lt;/p&gt; 
&lt;p&gt;&lt;img src="https://oscimg.oschina.net/oscnet/up-e7e56113a8ef764b999eca561a12d609740.png" alt="" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;圖表説明：當你使用 AI 編程工具時，其底層發生了什麼？我們簡化了主智能體的工具集，將"認知負擔"轉移到其他大語言模型上。AI 編程工具會將你的 @標籤注入上下文，調用多個工具來收集更多信息，使用專用的代碼變更標記規則（diff syntax）編輯文件，最後向用户返回摘要響應。&lt;/p&gt; 
&lt;h2&gt;&lt;strong&gt;1.4 優化措施與面向終端用户的操作建議（Optimizations &amp;amp; User Tips）&lt;/strong&gt;&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;通常情況下，用户自己知道需要哪些具體文件或上下文。因此，我們在聊天界面（Chat UI）中添加了"@file"語法。當調用大語言模型時，我們會將所有附加文件的內容整體打包放入一個"&amp;lt;attached-files&amp;gt;"區塊中傳遞。這本質上是為用户提供語法糖（syntactic sugar），免去了手動複製粘貼整個文件或文件夾的麻煩。&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;操作建議 (Tip)：&lt;strong&gt;在這些編程工具中建議積極使用 @folder/@file（優先提供更明確的上下文，以獲取更快更準確的響應）。&lt;/strong&gt;&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;搜索代碼可能很複雜，尤其對於"我們在哪裏實現了認證功能相關的代碼？"這類語義查詢。我們沒有讓智能體精通編寫搜索正則表達式（regexes），而是選擇在索引階段使用一個編碼器大模型（encoder LLM）將整個代碼庫索引到向量數據庫（vectorstore）中，從而將文件內容及其功能嵌入到向量中。在查詢時，另一個大語言模型會根據相關性對文件進行重排序和過濾。這確保了主智能體在詢問認證功能代碼相關問題時能獲得"完美"的結果。&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;操作建議 (Tip)：&lt;strong&gt;代碼註釋（Code comments）和文檔字符串（doc-strings）能引導嵌入模型（embedding model）理解代碼，這使得它們的重要性甚至超過了僅寫給人類同事看的情況。&lt;/strong&gt; 務必在文件頂部用一段文字説明：該文件的作用、實現的語義功能以及應何時更新。&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;要生成字符層級上零缺陷（character-perfect）的代碼既困難又昂貴，因此優化 write_file(...) 工具成為眾多此類 AI 編程工具的核心。大語言模型通常不會輸出完整的文件內容，而是生成一個 "semantic diff" ------ 僅提供已更改的內容，並附帶代碼註釋，以指導在何處插入更改的文件內容。隨後，另一個更輕量、更快的代碼應用大模型（code-apply LLM） 會將該 "semantic diff" 作為輸入提示詞，並在修復那些微小語法問題的同時寫入實際文件內容。新文件經過 linter 校驗器處理後，工具返回主智能體的結果時會包含實際文件差異（actual diff）和 lint 校驗結果，可用於自我修正文件的錯誤改動。我將此機制類比為：與一位懶散的資深工程師協作，他只需寫出核心片段，後續細節交由實習生完成。&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;操作建議 (Tip)：你無法直接將提示詞發送給應用模型（apply-model）。&lt;strong&gt;類似"別亂刪代碼"或"別隨意增刪註釋"的建議完全無效，因為這些問題本質上是應用模型（apply-model）工作機制的固有產物。&lt;/strong&gt; 應該讓主智能體獲得更多控制權，例如在指令中明確要求："在 edit_file 指令中提供完整的文件內容"&lt;/li&gt; 
   &lt;li&gt;操作建議 (Tip)：應用模型處理超大文件時緩慢且易錯，&lt;strong&gt;務必將文件拆分至每部分小於 500 行代碼&lt;/strong&gt;&lt;/li&gt; 
   &lt;li&gt;&lt;strong&gt;操作建議 (Tip)：lint 反饋對智能體具有極高價值&lt;/strong&gt;，應投資構建能提供高質量建議的增強型 linter2。使用編譯型語言和靜態類型語言能提供更豐富的 lint 時反饋（lint-time feedback）&lt;/li&gt; 
   &lt;li&gt;操作建議 (Tip)：&lt;strong&gt;使用唯一的文件名&lt;/strong&gt; （不要在代碼庫中使用多個不同的 page.js 文件，最好改用 foo-page.js、bar-page.js 等），&lt;strong&gt;在文檔中應使用完整的文件路徑&lt;/strong&gt;，並將高頻修改的代碼段（hot-paths）集中到同一文件或文件夾中，以降低編輯工具的操作歧義&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;選用擅長在此類智能體（Agent）工作流中編寫代碼的模型（而非僅具備通用編碼能力）。這就是 Anthropic 模型在 Cursor 等 AI 編程工具中表現出色的原因 ------ 它們不僅代碼質量高，更擅長將編程任務拆解為這種類型的工具調用（tool calls）。&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;操作建議 (Tip)：&lt;strong&gt;選用模型時，不應僅關注"編碼能力"，應優先選擇專門為智能體驅動型編程工具（agentic IDEs）優化的模型。&lt;/strong&gt; 目前（據我所知）能有效評估此能力的唯一排行榜是 WebDev Arena[8] 3。&lt;/li&gt; 
  &lt;/ul&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;我在自研 AI 編程工具 sparkstack.app 中採用過一個（極其昂貴的）技巧，大幅提升了系統的自我修正能力：為其配備 apply_and_check_tool。該工具會執行更嚴苛的 linting，並啓動無頭瀏覽器（headless browser），沿應用的用户流程（user-flows）獲取控制枱日誌和截圖，為智能體提供反饋。正是在此類場景中，MCP（Model Context Protocol）[9]協議將大放異彩 ------ 它能賦予智能體更強的自主權和上下文理解能力。&lt;/p&gt; 
&lt;h1&gt;&lt;strong&gt;02 逐行解析 Cursor 的系統提示詞&lt;/strong&gt;&lt;/h1&gt; 
&lt;p&gt;通過基於 MCP 協議的提示詞注入技術，我提取了 Cursor 智能體模式（agent mode）最新（2025 年 3 月）的提示詞內容。作為一名長期深耕大語言模型領域的開發者，我必須表達對 Cursor "提示詞工程師（prompt engineers）"的高度敬意 ------ 相比其他 AI 編程工具的提示詞設計，他們的專業水準令人讚歎（個人觀點）。我認為這正是 Cursor 能成為領先編程工具的核心因素。剖析此類提示詞也是提升自身提示詞編寫能力與智能體架構能力的絕佳途徑 ------ 從某種意義上看，大多數基於 GPT 的封裝工具採用"開放提示詞（open-prompt）"實現方案，這種特性極具價值。&lt;/p&gt; 
&lt;p&gt;&lt;img src="https://oscimg.oschina.net/oscnet/up-8e349136713631673bc71fb2c250460d94f.png" alt="" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;Cursor Agent 系統提示詞片段。完整提示詞及工具定義（&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgist.github.com%2Fsshh12%2F25ad2e40529b269a88b80e7cf1c38084%EF%BC%89" target="_blank"&gt;https://gist.github.com/sshh12/25ad2e40529b269a88b80e7cf1c38084）&lt;/a&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;"&amp;lt;communication&amp;gt;"、"&amp;lt;tool_calling&amp;gt;"等標籤&lt;/strong&gt; → 混合使用 Markdown 和 XML 標籤能大大降低人類和模型對提示詞的閲讀難度 4。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"由 Claude 3.5 Sonnet 驅動（powered by Claude 3.5 Sonnet）"&lt;/strong&gt; → 大模型通常不會主動聲明自身模型版本。顯式標註此信息可減少用户對計費模型與實際運行模型不一致的抱怨 5。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"全球最佳 IDE（the world's best IDE）"&lt;/strong&gt; → 該表述簡潔地禁止模型在故障時推薦競品，這對那些代表品牌形象的智能體來説至關重要 6。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"我們會自動附上某些信息...遵循 &amp;lt;user_query&amp;gt; 標籤內的用户指令（we may automatically attach some information...follow the USER's instructions...by the &amp;lt;user_query&amp;gt; tag）"&lt;/strong&gt; → Cursor 並未直接將用户提示詞傳遞給模型，而是將其置於專用標籤中。這使得系統能在 &amp;lt;user&amp;gt; 消息中傳遞更多與用户相關的文本，既不會讓大語言模型（LLM）混淆，也不會讓用户感到困惑。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"避免道歉（Refrain from apologizing）"&lt;/strong&gt; → 這顯然是為抑制 Sonnet 模型的致歉傾向而添加的規則。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"絕對不要提及工具名稱（NEVER refer to tool names when speaking）"&lt;/strong&gt; → Cursor 特別以加粗格式添加此指令。但諷刺的是，我仍常見到類似"使用 edit_tool"的違規輸出 ------ 近期 Sonnet 模型在此方面的表現確實惱人。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"調用每個工具前需先解釋（Before calling each tool, first explain）"&lt;/strong&gt; → 當大模型在流式傳輸（streaming）工具調用時，用户界面會出現短暫卡頓。此指令能幫助用户確信系統正在處理他們的請求，避免因界面停滯而產生不安。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"若部分滿足了用户查詢，但你還不確定，則請收集更多信息（partially satiate the USER's query, but you're not confident, gather more information）"&lt;/strong&gt; → 大模型智能體常因過度自信而過早終止任務。此指令為其提供"退路"，促使其深度探索後再響應。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"禁止直接向用户輸出代碼（NEVER output code to the USER）"&lt;/strong&gt; → 默認情況下，大模型傾向以內聯代碼塊（inline markdown codeblocks）形式輸出代碼。此規則強制其僅通過工具操作代碼，並依賴 UI 間接向用户展示變更結果。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"若從零構建 Web 應用，必須設計精美的、現代感的 UI（If you're building a web app from scratch, give it a beautiful and modern UI）"&lt;/strong&gt; → 此為針對演示場景的優化（demo-hacking），確保單提示詞（single-prompt）即可生成華麗的應用。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"在編輯之前，你必須讀取你要編輯的內容 7（you MUST read the contents or section of what you're editing before editing it）"&lt;/strong&gt; → 編碼智能體常急於寫代碼而忽略收集上下文。此類直接的、顯式的指令用於校正該行為。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"修復 linter 錯誤時循環次數不得超過 3 次（DO NOT loop more than 3 times on fixing linter errors）"&lt;/strong&gt; → 旨在防止 Cursor 陷入代碼編輯的死循環。此措施雖有幫助，但 Cursor 的深度用户都知道，系統仍易因此卡頓。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"解決根本原因而非僅處理表象（Address the root cause instead of the symptoms）"&lt;/strong&gt; → 這一點是針對大模型常見的對齊問題（alignment issues）：模型常傾向於直接刪除報錯代碼而非修復問題本身。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;"禁止硬編碼 API 密鑰（DO NOT hardcode an API key）"&lt;/strong&gt; → 眾多安全方面的最佳實踐之一，至少可以防止一些明顯的安全問題。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;工具 codebase_search/read_file/grep_search/file_search/web_search&lt;/strong&gt; → 鑑於編碼前獲取正確上下文是非常重要的，Cursor 提供多種形態的搜索工具，確保智能體能夠輕鬆定位要做的修改。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;一些工具中的"單句解釋...説明為何需要運行此命令..."（"One sentence explanation...why this command needs to be run..."）&lt;/strong&gt; → 大多數工具都包含這個非功能性參數，它迫使大模型推理論證它將傳遞哪些參數，此為提升工具調用準確性的常規技巧。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;reapply 工具"調用更強大模型執行上次編輯的內容（Calls a smarter model to apply the last edit）"&lt;/strong&gt; → 允許主智能體動態升級應用模型（即使用更高成本模型），自主解決低級應用錯誤。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;edit_file 工具要求"用對應語言的註釋表示未修改代碼（represent all unchanged code using the comment of the language you're editing）"&lt;/strong&gt; → 此規則解釋了自動生成的隨機註釋的來源，也是應用模型正常工作的必要前提。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;您會注意到整個系統提示詞和工具描述均為靜態內容（未注入用户或代碼庫個性化文本）。&lt;/strong&gt; 該設計使 Cursor 能充分利用提示詞緩存（prompt caching） 優勢[10]，大幅降低推理成本並減少輸出首個 token 的延遲時間（time-to-first-token latency） ------ 這對每次使用工具都需調用大模型的智能體架構至關重要。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h1&gt;&lt;strong&gt;03 如何高效制定 Cursor Rules&lt;/strong&gt;&lt;/h1&gt; 
&lt;p&gt;現在最大的問題是，編寫 Cursor rules 的"正確方式"是什麼？雖然我的整體答案是"以實際效果為準，適合你的才是最好的"（whatever works for you），但基於提示詞工程經驗和對 Cursor 內部原理的認知，我確實有大量具體建議。&lt;/p&gt; 
&lt;p&gt;&lt;img src="https://oscimg.oschina.net/oscnet/up-de0947ac445dd1c5a3c2a12d4151efe865a.png" alt="" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;大語言模型如何看待你的 Cursor 項目規則？模型會看到規則的名稱和簡介列表，然後根據需要調用 fetch_rules(...) 函數來獲取和查看具體的規則內容&lt;/p&gt; 
&lt;p&gt;關鍵是要明白，這些規則並非是附加到系統提示詞中的，而是作為具名指令集（named sets of instructions）被引用。因此，建議採用編寫百科詞條（encyclopedia articles）而非命令（commands）的思維方式設計 Cursor rules。&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;切勿在 Cursor rules 中聲明身份（例如"您是精通 TypeScript 的資深前端工程師"）。&lt;/strong&gt; 此類規則雖見於 cursor.directory 且看似有效，但會與內置提示詞賦予的身份產生衝突，導致智能體行為異常。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;避免嘗試覆蓋系統提示詞指令，或通過特定提示詞（prompt）引導應用模型（apply model）的行為。&lt;/strong&gt; 類似"別添加註釋"、"編碼前先提問"、"勿刪除未提及代碼"的指令會直接破壞工具使用機制並幹擾智能體運作。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;減少使用否定性指令。&lt;/strong&gt; 大模型更擅長遵循正向指令（"若遇&amp;lt;此情況&amp;gt;，則&amp;lt;執行此操作&amp;gt;"），而非單純列出限制條件。此原則亦體現在 Cursor 的官方提示詞中。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;請務必花時間編寫高度明顯的規則名稱和描述。&lt;/strong&gt; 關鍵在於，即使智能體（Agent）對您的代碼庫所知甚少，也能憑直覺知道何時適合應用某條 Cursor rules 來使用其 fetch_rules(...) 工具。類似於手動建立文檔索引的做法，你應該適當地創建一些內容相同但名稱和描述不同的規則副本，這樣可以提高 AI 找到相關規則的概率。規則描述應當力求信息密集，避免過度冗長。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;把你的模塊規則和常見代碼修改規則寫得像百科詞條一樣詳細和完整。&lt;/strong&gt; 如同維基百科那樣，將關鍵術語（使用 mdc 鏈接語法）鏈接到代碼文件，這在智能體確定代碼變更所需的關鍵上下文時能提供巨大助力。有時，這也意味着，要避免按部就班地進行説明（專注於"做什麼"而非"怎麼做"），除非真的沒辦法，否則不要讓智能體過度專門化，只會處理某一種特定的代碼修改模式。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;請務必使用 Cursor 本身來起草您的 Cursor rules 。&lt;/strong&gt; 大語言模型（LLMs）非常擅長為其他大語言模型撰寫內容。如果您不確定如何組織文檔格式或編碼上下文，請執行 "@folder/ generate a markdown file that describes the key file paths and definitions for commonly expected changes"。&lt;/li&gt; 
 &lt;li&gt;&lt;strong&gt;要意識到制定太多規則其實是個不好的做法。&lt;/strong&gt; 這一點看似違反直覺 ------ 雖然規則確實是讓 AI 開發工具處理大型項目的關鍵，但需要很多規則本身就暴露了一個問題：你的代碼庫對 AI 來説不夠友好。我在《AI-powered Software Engineering》[11]一書中深入探討了這個話題。未來理想的代碼庫應該設計得足夠清晰直觀，AI 編程工具光靠基礎功能就能完美勝任所有工作。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;請參考我生成的一些示例[12]。&lt;/p&gt; 
&lt;h1&gt;&lt;strong&gt;04 Conclusions&lt;/strong&gt;&lt;/h1&gt; 
&lt;p&gt;一個基於近乎開源的智能體提示詞和公開模型 API 構建的 VSCode 分支，其估值竟能接近 100 億美元 ------ 帶着 68 倍的"wrapper multiple"8 ------ 這着實令人驚歎。我們將拭目以待 Cursor 最終是否會開發自己的智能體模型（感覺可能性不大），或是 Anthropic 是否會帶着 Claude Code + 下一代 Sonnet 強勢介入成為競爭對手。&lt;/p&gt; 
&lt;p&gt;無論最終結果如何，學會如何優化你的代碼庫、文檔和規則配置仍然是一項有用的技能。我希望這次深入探討能讓你對 Cursor 的工作原理以及優化之道有更具體、更實用的理解。&lt;/p&gt; 
&lt;p&gt;我經常説這句話，現在再説一遍：&lt;strong&gt;如果你覺得 Cursor 不好用，那一定是你用錯了方法。&lt;/strong&gt;&lt;/p&gt; 
&lt;hr&gt; 
&lt;p&gt;1.這是一個基於直覺的統計數據，但我認為相差不遠。一旦你熟練掌握了 Cursor rules，相當數量的 PR 實際上就變成了單次發送提示詞（one-shot prompts）的事。我原本以為要到 2027 年才能達到這個水平，但隨着 Anthropic、Cursor 和我自己的提示詞水平同時提升，進展比我預想的要快。&lt;/p&gt; 
&lt;p&gt;2.到目前為止，我對 CodeRabbit 的代碼檢查功能印象非常深刻，計劃使用 MCP 將其集成到 Cursor 中。如果 Cursor 的默認代碼檢查器能更好一些，在其他條件不變的情況下，使用體驗會像用 Sonnet 3.8 一樣。&lt;/p&gt; 
&lt;p&gt;3.（大多數）LLM 的美妙之處在於，雖然這是一個 Web 開發基準測試，但根據我的經驗，其性能與各種類型的編程和框架都有很強的相關性。&lt;/p&gt; 
&lt;p&gt;4.我沒能找到相關的科學研究，但基於個人經驗，這種方法效果很好，如果 Anthropic 的模型專門針對偽 XML 語法進行訓練，我也絲毫不會感到驚訝。&lt;/p&gt; 
&lt;p&gt;5.這確實會產生一些意想不到的副作用，編程模型會將你代碼庫中引用的模型名稱更改為它自己（引用的模型）的名稱。&lt;/p&gt; 
&lt;p&gt;6.這裏存在一個有趣的法律灰色地帶。Cursor 將此內容放在他們的網站上實際上是違法的（見《聯邦貿易委員會法》、《蘭哈姆法》），但（至少目前）他們將內容放進提示詞（prompt）中，並由 LLM 代其表述出來，卻是被允許的。&lt;/p&gt; 
&lt;p&gt;7.順便説一句："Cursor 團隊，我發現了一個錯別字 (:"&lt;/p&gt; 
&lt;p&gt;8.這是我創造的一個術語，用來表示基於 GPT 封裝的工具的估值與模型提供商估值之間的比率。在這種情況下，Anthropic : Cursor = 600 億美元 : 100 億美元 = 6。我的直覺告訴我"6"不是一個合理的比率。戴上我那業餘投資者的帽子，我推測 Anthropic 應該接近 1000 億美元，而 Cursor 則最高達 10 億美元（wrapper multiple 為 100）。我實在看不出他們其中任何一方真的擁有持久的"護城河"（long term moat），Anthropic 構建自己的下一代 AI 編程工具似乎也是輕而易舉的事。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;END&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;本期互動內容 🍻&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;❓文中説『未來理想的代碼庫應該對 AI 足夠友好』，你眼中的『AI 友好型代碼庫』有哪些具體特徵？&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;文中鏈接&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;[1]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.cursor.com%2F" target="_blank"&gt;https://www.cursor.com/&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[2]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcodeium.com%2Fwindsurf" target="_blank"&gt;https://codeium.com/windsurf&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[3]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Ffeatures%2Fcopilot" target="_blank"&gt;https://github.com/features/copilot&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[4]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcdn.openai.com%2Fbetter-language-models%2Flanguage_models_are_unsupervised_multitask_learners.pdf" target="_blank"&gt;https://cdn.openai.com/better-language-models/language_models_are_unsupervised_multitask_learners.pdf&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[5]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Farxiv.org%2Fabs%2F2203.02155" target="_blank"&gt;https://arxiv.org/abs/2203.02155&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[6]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fpython.langchain.com%2Fdocs%2Fconcepts%2Ftool_calling%2F" target="_blank"&gt;https://python.langchain.com/docs/concepts/tool_calling/&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[7]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fcursor%2Fcomments%2F1h9d763%2Fdid_cursor_really_need_to_fork_vscode_rather_than%2F" target="_blank"&gt;https://www.reddit.com/r/cursor/comments/1h9d763/did_cursor_really_need_to_fork_vscode_rather_than/&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[8]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fweb.lmarena.ai%2Fleaderboard" target="_blank"&gt;https://web.lmarena.ai/leaderboard&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[9]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmodelcontextprotocol.io%2Fintroduction" target="_blank"&gt;https://modelcontextprotocol.io/introduction&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[10]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.anthropic.com%2Fnews%2Fprompt-caching" target="_blank"&gt;https://www.anthropic.com/news/prompt-caching&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[11]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.sshh.io%2Fp%2Fai-powered-software-engineering" target="_blank"&gt;https://blog.sshh.io/p/ai-powered-software-engineering&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;[12]&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fchat.sshh.io%2Fshare%2FpWMGGDyPTok05mxOq17p-" target="_blank"&gt;https://chat.sshh.io/share/pWMGGDyPTok05mxOq17p-&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;本文經原作者授權，由 Baihai IDP 編譯。如需轉載譯文，請聯繫獲取授權。&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;原文鏈接：&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.sshh.io%2Fp%2Fhow-cursor-ai-ide-works" target="_blank"&gt;https://blog.sshh.io/p/how-cursor-ai-ide-works&lt;/a&gt;&lt;/p&gt;
                                                                                    &lt;/div&gt;
                                                                            </description>
      <link>https://my.oschina.net/IDP/blog/18627427</link>
      <guid isPermaLink="false">https://my.oschina.net/IDP/blog/18627427</guid>
      <pubDate>Wed, 18 Jun 2025 07:43:18 GMT</pubDate>
      <author>原創</author>
    </item>
    <item>
      <title>Cursor 推出月費 200 美元的 Ultra 計劃，Pro 計劃將更新為「不限量但有速率限制」的模式</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;Cursor 推出了每月 200 美元的 &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.cursor.com%2Fcn%2Fblog%2Fnew-tier" target="_blank"&gt;Ultra 計劃&lt;/a&gt;。官方稱這個變化來自高級用户的需求，他們希望獲得&lt;strong&gt;比按使用量計價更有可預測性的&lt;/strong&gt;訂閲計劃。&lt;/p&gt; 
&lt;p&gt;&lt;img src="https://static.oschina.net/uploads/space/2025/0618/151550_1QMH_2720166.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;新的 Ultra 計劃&lt;/strong&gt;：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;每月費用為 200 美元&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;使用量是 Pro 計劃的 20 倍&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;專為追求比按使用量計價更穩定價格的高級用户設計&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;Pro 計劃的變更&lt;/strong&gt;：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p&gt;Pro 計劃將更新為「不限量但有速率限制」的模式&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;將取消對工具調用的所有限制&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p&gt;現有用户如果願意，可以選擇繼續使用之前的「500 次請求限制」方法（通過儀錶板 &amp;gt; 設置 &amp;gt; 高級選項）&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;p&gt;詳情：https://www.cursor.com/blog/new-tier&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355977</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355977</guid>
      <pubDate>Wed, 18 Jun 2025 07:20:18 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>通用智能體 Genspark 免費提供 OpenAI o3-pro 模型</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;通用智能體 Genspark&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fx.com%2Fgenspark_ai%2Fstatus%2F1934633273940115571" target="_blank"&gt; 宣佈&lt;/a&gt;其 AI Chat 功能現已免費提供 &lt;a href="https://www.oschina.net/news/354753/openai-o3-pro" target="news"&gt;OpenAI o3-pro&lt;/a&gt;&amp;nbsp;模型。免費用户每天可獲得 200 積分，Plus 用户則可無限量使用。&lt;/p&gt; 
&lt;p&gt;&lt;img height="1090" src="https://static.oschina.net/uploads/space/2025/0618/150220_b7UB_2720166.png" width="1278" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;o3-pro 是 OpenAI 最新發布的推理模型，基於 o3 所打造，擁有更強的數學、科學、編程等領域的表現。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;o3-Pro 可，自動調用多種工具，包括可以搜索網頁、分析文件、推理視覺輸入、使用 Python、通過記憶功能個性化回覆等。&lt;strong&gt;由於調用的工具較多，所以，思考的時間比 o1 Pro、o3 更長。&lt;/strong&gt;o3-pro 與 o3 系列一樣擁有 200K 的上下文窗口和 100K 的輸出，但價格卻比它們暴降 80%。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;價格方面，o3-pro 輸入為 20 美元 / 百萬 token，輸出 80 美元 / 百萬 token。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;Genspark 由百度前高管景鯤創立，今年 4 月宣佈&lt;a href="https://www.oschina.net/news/342709/mainfunc-ai-genspark-super-agent"&gt;推出&lt;/a&gt;通用 AI 智能體 "Genspark Super Agent"，號稱是一款 "快速、準確、可控" 的通用 AI 代理。這一消息迅速在技術社區引發熱議，眾多專業人士將其與 Manus 相提並論，認為這標誌着通用 AI 代理技術的新一輪角逐。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355972</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355972</guid>
      <pubDate>Wed, 18 Jun 2025 07:07:18 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>韓國計劃未來 5 年在 AI 領域投入 16 萬億韓元</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;&lt;span style="color:#000000"&gt;外媒援引業內消息人士&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fen.yna.co.kr%2Fview%2FAEN20250618008500320%23%3A%7E%3Atext%3DSEOUL%252C%2520June%252018%2520%2528Yonhap%2529%2520--%2520South%2520Korea%2527s%2520science%2Cand%2520development%2520%2528R%2526D%2529%2520activities%252C%2520industry%2520sources%2520said%2520Wednesday." target="_blank"&gt;透露&lt;/a&gt;，韓國科技部已申請在未來五年內撥付超過 16 萬億韓元（約合 117 億美元）的預算，用於建設國家人工智能（AI）基礎設施和支持與 AI 相關的研發活動。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img height="298" src="https://oscimg.oschina.net/oscnet/up-ff88a8c741069c76b9c2d612b6c7bb3fc53.png" width="700" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;據知情人士稱，韓國科技部以到 2030 年使韓國成為世界三大 AI 強國之一為目標，提交了一份要求撥款總額為 16.08 萬億韓元的提案。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;韓國科技部拒絕證實這一消息。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;消息人士稱，在這筆 16 萬億韓元的預算中，其中 12.3 萬億將將專門用於建立「AI 高速公路」，其中包括建設配備 5 萬個 GPU 的 AI 數據中心。其他資金將用於支持 AI 相關的研發、AI 專業產業園區的發展和政策貸款項目。預算還將用於培養專業技能人才，以引領 AI 領域的創新。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;另外，韓國科技部還要求在 5 年內投入 3.09 萬億韓元，用於加強韓國的數字基礎設施，提高用户的便利性。其中，2.34 萬億韓元將用於加強網絡安全和構築更安全的數字環境。該部還建議減輕公眾的電信負擔，允許手機話費減税。&lt;/span&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355971</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355971</guid>
      <pubDate>Wed, 18 Jun 2025 07:06:18 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>OSC 社區 2.1 發佈：私有化 + AI</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;內容社區拒絕一切廣告，是逃避；把廣告做到讓人反感，是失衡。&lt;/p&gt; 
&lt;p&gt;社區的生命力，從來不在於「免費」與「流量」的幻象，而是在於自我造血，持續成長。那些只依賴低價 CPM 和人海運營的社區，終將如天涯、貓撲那樣被時代拋棄 —— 它們活得像一條奄奄一息的巨魚，體型龐大卻無力迴天。&lt;/p&gt; 
&lt;p&gt;早年，「社區＝廣告」幾乎是唯一選項。國內大多數社區依靠信息流廣告，CPM（每千次曝光收入）往往在 6 元人民幣左右；而 YouTube 同期的 CPM 高達 18 美元（約合 129 元人民幣），兩者相差 21 倍。當廣告收益的天花板被牢牢掐住，內容與運營的成本卻從未鬆動，社區便陷入了必然的人力成本漩渦。&lt;/p&gt; 
&lt;p&gt;我們曾見證，一家擁有百萬級日活的社區，為了承載社區安全審核和運營，僅內容審核團隊就 200 人，支撐起從人工審核到緊急攔截的全流程；運營團隊更是分區、分板塊、分專題地輪番維護，人工成本與日俱增。即使人海戰術能暫時撐起「多板塊分流」的表面繁榮，可背後累積的工資支出，卻如同吞噬社區未來的黑洞。&lt;/p&gt; 
&lt;p&gt;有人説，「社區的靈魂在於共創與分享」，這沒錯；但我更認同，「社區的命脈在於變現與可持續」。那些傳統的廣告商業化模式，雖顯其短期效益，卻無法帶來長久的繁榮。只有找到既能堅守社區初心，又能持續自我造血的創新路徑，才能真正讓分享在實踐中紮根，交流在未來中生長。&lt;/p&gt; 
&lt;p&gt;答案在於通過 AI 賦能，實現社區的智能化升級，並構建可私有化部署的智能知識庫，為企業提供持續創新和高效協作的解決方案。&lt;/p&gt; 
&lt;p&gt;今天，開源中國技術社區（&lt;a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2FOSCHINA.NET" target="_blank"&gt;OSCHINA.NET&lt;/a&gt;）推出&lt;strong&gt;「數字化企業知識管理 AI 平台」&lt;/strong&gt;，以突破性思路重塑社區商業模式：將社區沉澱的技術力與 AI 深度融合，打造可私有化部署的「企業知識中樞」，從 C 端流量生意轉向 B 端價值創造。實現社區從「免費流量」到「付費解決方案」的全面躍遷。&lt;/p&gt; 
&lt;p&gt;&lt;img src="https://static.oschina.net/uploads/space/2025/0618/141154_0IaF_2720166.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;h3&gt;&lt;span style="color:#27ae60"&gt;&lt;strong&gt;從「模型」到「場景」，構建真正的 AI 全棧社區&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;strong&gt;GiEngine 高速推理引擎 - 私有化 AI 智能響應&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;在需要對內部海量知識進行實時檢索與推理的場景，OSC 通過 GiEngine 多模型推理能力，實現在本地環境中對 DeepSeek、Qwen3、GLM4 等模型的百毫秒級響應。用户可即時獲得精準答案，顯著提升內部協作效率並降低運維壓力。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;OSC × AI 內容工廠 - 高效閉環的知識生成&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;在跨部門內容策劃、審批與發佈流程複雜、效率低下的場景，&lt;span style="color:#27ae60"&gt;OSC 將社區沉澱的 2000 萬篇開源技術方案與 AI 創作引擎深度融合，自動完成「策劃→採集→翻譯→撰寫→審核→發佈」閉環。&lt;/span&gt;部門間協同成本下降 60%，知識沉澱速度提升 3 倍，實現持續可複用的企業級知識庫。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;AI 智能推薦系統 - 精準匹配客户需求&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;在面臨海量信息難以快速定位高價值內容的場景，OSC 引入原創度、全網熱度、社交反饋、用户畫像匹配度等多維打分，並結合實時熱榜與行業標籤精準推送，解決信息繭房與同質化問題。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;人格化 AI 問答機器人 – 7×24 小時無感問題解決&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;AI 問答機器人專注於技術問答場景，系統結合全文檢索與大模型生成，以「無感」方式自動理解用户需求，快速給出精準解答。用户平均從提問到獲得完整解答的時間可從 10 分鐘縮短至 1 分鐘，節省約 90% 的時間成本。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;AI 態勢大屏&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;在需要宏觀監控社區健康與風險預警的場景，OSC 利用 RAG 檢索增強與大模型趨勢預測，打造「運營指揮中心」可視化平台，一屏呈現訪問熱力、留存、算力消耗、安全攔截等核心指標。管理者可實現宏觀與微觀的無縫切換，決策效率提升 20%，風險響應時間縮短 50%。&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;h3&gt;&lt;span style="color:#27ae60"&gt;&lt;strong&gt;私有化部署的五大價值&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;span style="color:#2980b9"&gt;&lt;strong&gt;安全合規與自主可控&lt;/strong&gt;&lt;/span&gt;：私有化部署在客户內網完成，全鏈路數據不出域，兼容國產操作系統、中間件與數據庫；同時提供細粒度權限管控與操作審計，確保社區運行合規、可控、可信。&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#2980b9"&gt;&lt;strong&gt;知識共創與沉澱&lt;/strong&gt;&lt;/span&gt;：員工可跨部門在同一平台發起話題、撰寫文檔、沉澱 FAQ，AI 與人協作的內容自動歸檔入庫，打破知識孤島，形成可檢索、可複用的組織級知識資產。&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#2980b9"&gt;&lt;strong&gt;跨部門協作與創新&lt;/strong&gt;&lt;/span&gt;：內置在線討論、活動中心與智能推薦模塊，線上線下無縫銜接，激發創新靈感，促進多團隊協同和技術孵化。&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#2980b9"&gt;&lt;strong&gt;智能運營降本增效&lt;/strong&gt;&lt;/span&gt;：AI 自動化覆蓋採集、翻譯、編輯、審核與發佈全流程，7×24h 不間斷運營，內容更新頻率提升 3 倍以上，人力成本減少 60%，並通過預測預警保障運營質量與安全。&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#2980b9"&gt;&lt;strong&gt;數字化轉型賦能&lt;/strong&gt;&lt;/span&gt;：整合海量開源技術內容與文檔資源，提供從知識獲取、技能提升到實踐落地的端到端數字化支持；依託模型微調與數據反饋，平台持續進化，助力組織加速數字化升級。&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;h3&gt;&lt;span style="color:#27ae60"&gt;&lt;strong&gt;商業不是污染源，是讓技術流動的河&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;社區的靈魂在於共創與分享。沒錯，但真正的價值釋放，必須伴隨可持續的商業閉環。AI 與社區的融合只是開始，我們將繼續突破邊界，推出更多 AI 項目 - 從直播驅動硬件 prototyping，到 AI 培訓教育孵化新一代開發者；從行業專屬知識庫，到全鏈路智能運營。&lt;/p&gt; 
&lt;p&gt;過去兩年，開源中國社區通過 AI 能力驅動內容增長，內容運營成本降低 30%、商業化營收提升 200%，同時也吸引了多家客户定製化部署合作的需求，更有外資企業前來考察，意欲引入我們的「數字化企業知識管理 AI 平台」。下一步，我們的目標是再翻一番 —— 向政採商機、行業大廠以及全球化市場持續擴張。&lt;/p&gt; 
&lt;p&gt;在「數字中國」「網絡強國」戰略的雙輪驅動下，企業級社區已成為國家數字基礎設施的重要組成部分。&lt;span style="color:#27ae60"&gt;開源中國社區的「數字化企業知識管理 AI 平台」不僅為企業提供「知識管理＋智能創作＋可視化決策」的一站式解決方案，也正承載着國家「自主可控」「高質量發展」的時代使命&lt;/span&gt;。AI 與社區的深度融合，將助力中國企業在未來十年實現真正的科技突圍與產業升級。&lt;/p&gt; 
&lt;p&gt;真正的商業化成功，從不是孤軍奮戰，而是與時代共潮生。&lt;/p&gt; 
&lt;p&gt;&amp;nbsp;&lt;/p&gt; 
&lt;h4&gt;&lt;strong&gt;數字化企業知識管理 AI 平台：&lt;/strong&gt;&lt;em&gt;&lt;a href="http://next.oschina.net/"&gt;next.oschina.net&lt;/a&gt;&lt;/em&gt;&lt;/h4&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355961</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355961</guid>
      <pubDate>Sun, 11 May 2025 06:14:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>Sam Altman：Meta 曾試圖以 1 億美元挖走 OpenAI 人才，但未能成功</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;&lt;span style="color:#000000"&gt;Meta 首席執行官馬克·扎克伯格 (Mark Zuckerberg ) 最近大舉招聘，試圖從競爭對手的實驗室挖角頂尖 AI 研究人員，以充實 Meta 新的超級智能團隊。據報道，為了在由 Scale AI 前首席執行官 Alexandr Wang 領導的團隊中工作，並在扎克伯格附近辦公，Meta 向 OpenAI 和谷歌 DeepMind 的員工提供了高達 1 億美元的薪酬待遇。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;OpenAI 首席執行官薩姆·奧爾特曼 (Sam Altman) 在週二與其兄弟 Jack Altman 共同發佈的&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fx.com%2Fjaltma%2Fstatus%2F1935063796802011164" target="_blank"&gt;播客&lt;/a&gt;中證實了這些報道。但他指出，扎克伯格的招募工作基本上沒有成功，並在過程中多次挖苦 Meta。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;「[Meta] 開始給我們隊裏的很多人開出鉅額合同。你知道，比如每年 1 億美元的簽約獎金，比這還多的薪水……我很高興，至少到目前為止，我們最優秀的員工中還沒有人決定接受他的條件。」&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img height="416" src="https://oscimg.oschina.net/oscnet/up-bc17827506816afff89a78697159baba20a.png" width="500" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;Altman 稱，他相信員工們的評估是，OpenAI 更有可能實現 AGI，並且有朝一日可能成為更有價值的公司。他認為 Meta 公司只關注員工的高額薪酬，而不是實現 AGI 的使命，這很可能不會創造出優秀的企業文化。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;消息稱，Meta 曾試圖挖走 OpenAI 的首席研究員之一 Noam Brown 以及谷歌的 AI 架構師 Koray Kavukcuoglu。然而，這兩次嘗試都未能成功。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;Altman 認為，OpenAI 的創新文化是其成功的關鍵，而 Meta 的「當前 AI 努力並未取得預期的效果」。並表示，他尊重 Meta 的很多方面，但也指出他「並不認為他們是一家擅長創新的公司」。在播客的後半部分，Altman 表示，他認為企業僅僅在 AI 領域迎頭趕上是不夠的——他們必須真正創新才能保持領先地位。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;此外，Sam Altman 還描述了一款可能會蠶食 Meta 應用市場的由 AI 驅動的社交媒體信息流。他表示，自己很有興趣探索一款利用 AI 根據用户需求提供定製信息流的社交媒體應用，而不是傳統社交媒體應用中默認的算法信息流。&lt;/span&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355944/sam-altman-meta-tried-100m-offers</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355944/sam-altman-meta-tried-100m-offers</guid>
      <pubDate>Sun, 11 May 2025 03:39:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>Linux 桌面環境 KDE Plasma 6.4 發佈，帶來多項出色改進</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;KDE Plasma 6.4 &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fkde.org%2Fzh-cn%2Fannouncements%2Fplasma%2F6%2F6.4.0%2F" target="_blank"&gt;已發佈&lt;/a&gt;，為這款開源桌面帶來了諸多精彩的改進。KDE Plasma 6.4 持續增強了對 Wayland 的支持，分離了 KWin X11 代碼，以便更好地與日益增長的 Wayland 優先理念相分離。&lt;/p&gt; 
&lt;p&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet/up-13c517526201b297f34a6dcaf329d9b315d.png" referrerpolicy="no-referrer"&gt; &lt;img alt="" src="https://oscimg.oschina.net/oscnet/up-3a7a8490ff36dd30ab5e4346cf264c1f437.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;主要變化：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;允許為每一個虛擬桌面選擇不同的磁貼佈局；&lt;/li&gt; 
 &lt;li&gt;支持用數字鍵盤鍵移動指針，觸控板手勢放大或縮小；&lt;/li&gt; 
 &lt;li&gt;增加前景和背景元素之間的對比度；&lt;/li&gt; 
 &lt;li&gt;改進了 Info Center 和 KMenuEdit 的外觀；&lt;/li&gt; 
 &lt;li&gt;文件傳輸通知會顯示直觀的進度圖；&lt;/li&gt; 
 &lt;li&gt;可直接通過可用更新通知安裝更新；&lt;/li&gt; 
 &lt;li&gt;應用全屏模式下將進入「請勿打擾」模式，將只會顯示緊急通知；&lt;/li&gt; 
 &lt;li&gt;當應用嘗試訪問麥克風發現麥克風靜音時會彈出通知；等等。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;Plasma&amp;nbsp;6.4 還帶來了多項性能提升、更強大的繪圖板支持、更強大的 HDR / 色彩管理、更佳的通知體驗、更流暢的系統監視器應用，以及諸多其他桌面優化和錯誤修復，其中還有大量新功能和其他改進，旨在進一步優化 Plasma 6 桌面體驗。&lt;/p&gt; 
&lt;p&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fkde.org%2Fannouncements%2Fplasma%2F6%2F6.4.0%2F" target="_blank"&gt;通過 KDE.org&lt;/a&gt;&amp;nbsp;可以查看有關 Plasma 6.4 的更多詳細信息和屏幕截圖。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355943/kde-plasma-6-4</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355943/kde-plasma-6-4</guid>
      <pubDate>Sun, 11 May 2025 03:38:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>Roo Code 新增多文件讀取功能</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;AI 編程工具&amp;nbsp;&lt;span&gt;Roo Cod&lt;/span&gt;e 新增了&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.roocode.com%2Ffeatures%2Fconcurrent-file-reads" target="_blank"&gt;多文件讀取功能&lt;/a&gt;，支持一次性讀取工作區中的多個文件，實現對代碼依賴關係和整體架構的深度解析。&lt;/p&gt; 
&lt;p&gt;這顯著提高了處理需要從多個文件獲取上下文信息的任務時的效率，因為 Roo Code 可以一次性收集所有必要信息，而無需逐個讀取文件。&lt;/p&gt; 
&lt;p&gt;主要特性&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;單個請求中最多讀取 100 個文件。&lt;/li&gt; 
 &lt;li&gt;默認啓用，以實現更快、更簡化的工作流程。&lt;/li&gt; 
 &lt;li&gt;可配置限制從 1 到 100 個文件。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;p&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet/up-7d5f74473ae9a41bea502f91274629e0fd0.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;該功能特別適用於大型項目重構、依賴分析和跨模塊調試場景，使智能體能更精準地執行代碼補全、錯誤檢測和文檔生成任務。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355940/roocode-concurrent-file-reads</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355940/roocode-concurrent-file-reads</guid>
      <pubDate>Sun, 11 May 2025 03:12:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>零基礎解碼 Transformer 與大模型核心原理</title>
      <description>&lt;div class="content"&gt;
                                                                                                                    
                                                                                                                                                    &lt;div class="rich_media_content js_underline_content
                       autoTypeSetting24psection
            " id="js_content"&gt; 
 &lt;section data-mpa-powered-by="yiban.io" data-pm-slice="0 0 []" nodeleaf="" style="-webkit-tap-highlight-color: transparent;margin: 8px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;background-color: rgb(255, 255, 255);visibility: visible;line-height: 1.75em;"&gt; 
  &lt;img src="https://oscimg.oschina.net/oscnet/8ebb3e34-b5bd-4e7c-8fbe-9397bc1c6d98.gif" alt="圖片" class="rich_pages wxw-img __bg_gif" data-ratio="0.16666666666666666" data-type="gif" data-w="636" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;letter-spacing: 0.544px;font-size: 17px;border-radius: 8px;text-align: justify;width: 677px !important;visibility: visible !important;background-size: 16px !important;" data-cropselx1="0" data-cropselx2="578" data-cropsely1="0" data-cropsely2="96" data-backw="578" data-backh="96" data-imgfileid="503052384" referrerpolicy="no-referrer"&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-template="t" data-mpa-template-id="502" data-mpa-category="模板" style="-webkit-tap-highlight-color: transparent;margin: 0px 0px 24px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);visibility: visible;"&gt; 
  &lt;section data-mpa-category="模板" data-mid="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px 1px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;width: 677px;display: flex;justify-content: flex-start;align-items: center;flex-direction: column;visibility: visible;"&gt; 
   &lt;section data-mid="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 0.544px;width: 675px;display: grid;grid-template-columns: 26px auto;visibility: visible;"&gt; 
    &lt;section data-mid="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;width: 26px;height: 14px;display: flex;justify-content: center;align-items: center;align-self: center;visibility: visible;"&gt; 
     &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"&gt;&lt;br&gt;&lt;/span&gt; 
    &lt;/section&gt; 
    &lt;section data-mid="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px 0px 0px 7px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;display: flex;justify-content: flex-start;align-items: center;visibility: visible;"&gt; 
     &lt;section data-mid="" style="-webkit-tap-highlight-color: transparent;margin: 0px 7px 0px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;text-align: left;visibility: visible;"&gt; 
      &lt;p data-mid="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;clear: both;min-height: 1em;width: 0px;font-size: 14px;font-family: PingFangSC-Semibold, &amp;quot;PingFang SC&amp;quot;;font-weight: bold;color: rgb(58, 92, 244);line-height: 20px;visibility: visible;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt; 
     &lt;/section&gt; 
     &lt;section data-mid="" style="-webkit-tap-highlight-color: transparent;margin: 0px 0px 4px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;width: 635px;height: 1px;border-top: 1px solid rgb(58, 92, 244);align-self: flex-end;visibility: visible;"&gt; 
      &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"&gt;&lt;br&gt;&lt;/span&gt; 
     &lt;/section&gt; 
    &lt;/section&gt; 
   &lt;/section&gt; 
   &lt;section style="width: 675px;border-bottom: 1px solid rgb(58, 92, 244);-webkit-tap-highlight-color: transparent;margin: 16px 0px 0px;padding: 0px;outline: 0px;max-width: 100%;clear: both;min-height: 24px;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;line-height: 1.75em;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt; 
    &lt;section&gt; 
     &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;clear: both;min-height: 24px;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;line-height: 1.75em;font-size: 15px;visibility: visible;letter-spacing: 1px;background-color: rgba(0, 0, 0, 0);color: rgba(0, 0, 0, 0.9);font-style: normal;font-weight: 400;text-decoration: none solid rgba(0, 0, 0, 0.9);box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;本文以通俗易懂的方式，為「大模型小白」解析 Transformer 的核心原理，包括其與大模型的關係、自注意力機制、多頭注意力機制、位置編碼、Encoder 和 Decoder 的組成等內容，幫助讀者全面理解這一支撐現代 AI 的語言模型基石。&lt;/span&gt; 
    &lt;/section&gt; 
    &lt;section data-mpa-action-id="mbt0exmz212x" data-pm-slice="3 3 []" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;clear: both;min-height: 24px;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;line-height: 1em;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt; 
     &lt;span data-mpa-action-id="mbt0x9rttdx" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt; 
    &lt;/section&gt; 
   &lt;/section&gt; 
  &lt;/section&gt; 
 &lt;/section&gt; 
 &lt;section style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);line-height: 1.75em;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: inherit;overflow-wrap: break-word !important;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);color: rgba(25, 26, 31, 0.9);font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 16px;text-align: center;visibility: visible;line-height: 1.75em;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;font-size: 15px;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/d6ea020f-3270-4f4a-bd19-dcaeedf82105.png" alt="圖片" class="rich_pages wxw-img" data-ratio="0.3161764705882353" data-s="300,640" data-type="png" data-w="408" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 113px !important;" data-imgfileid="503052383" referrerpolicy="no-referrer"&gt;&lt;img class="rich_pages wxw-img" data-src="" referrerpolicy="no-referrer"&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);color: rgb(34, 34, 34);text-align: center;visibility: visible;line-height: normal;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(3, 69, 255);font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;visibility: visible;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible;"&gt;前言&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnapej"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnapej"&gt; 
  &lt;span data-mpa-action-id="mbu764js1ulq"&gt;&lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;鑑於 ChatGPT、DeepSeek 等 AI 應用的興起，大模型的風暴很快席捲了整個互聯網行業，各個部門或多或少都在學習大模型的相關知識，在這些學習過程中，很容易就發現怎麼都繞不開一個詞「Transformer」。相信很多同學在學習中，都和筆者最初有一樣的困惑：到底什麼是 Transformer？Transformer 對大模型真的如此重要麼？&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnapej"&gt; 
  &lt;span data-mpa-action-id="mbu764js1ulq"&gt;&lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnapej"&gt; 
  &lt;span data-mpa-action-id="mbu764js1ulq"&gt;&lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;基於上面的疑問，本文旨在幫助和筆者一樣的「大模型小白們」瞭解 Transformer 的核心技術，並儘量用通俗易懂的語言進行描述。最後，如文中有不對的地方，歡迎大家指正～&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnapej"&gt; 
  &lt;span data-mpa-action-id="mbu764js1ulq"&gt;&lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;pre data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: inherit;overflow-wrap: break-word !important;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);color: rgba(25, 26, 31, 0.9);font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 16px;text-align: center;visibility: visible;line-height: 1.75em;"&gt;&lt;code&gt;
   
   
   &lt;section nodeleaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: inherit;overflow-wrap: break-word !important;clear: both;min-height: 1em;letter-spacing: 0.544px;visibility: visible;line-height: normal;"&gt;
 
    
    
    &lt;img src="https://oscimg.oschina.net/oscnet/fde6850b-d778-4a12-b80d-c62228dc322e.png" alt="圖片" class="rich_pages wxw-img" data-ratio="0.3056872037914692" data-s="300,640" data-type="png" data-w="422" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 117px !important;" data-imgfileid="503052425" referrerpolicy="no-referrer"&gt;

   
   
   &lt;/section&gt;&lt;p style="-webkit-tap-highlight-color: transparent;margin: 8px 0px 0px;padding: 0px;outline: 0px;max-width: 100%;clear: both;min-height: 1em;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;letter-spacing: 0.544px;color: rgb(34, 34, 34);visibility: visible;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;color: rgb(3, 69, 255);font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Transformer 和大模型之間是什麼關係？&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1h1v"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1h1v"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;首先，&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;你可以把 Transformer 想象成一種「超級配方」，而大模型就是用這個配方做出來的「滿漢全席」。舉個例子：假設你想做一道超級複雜的菜（比如佛跳牆），但普通鍋具（傳統 AI 模型）只能炒炒青菜，火力不夠、步驟也麻煩。而 Transformer 就像發明瞭一種「萬能高壓鍋」：&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;ul style="list-style-type: disc;" class="list-paddingleft-1"&gt; 
  &lt;li&gt; 
   &lt;section data-mpa-action-id="mbu73dnai13" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;火力猛：能同時處理大量信息（比如一句話的所有詞語一起分析，而不是逐個字看）；&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
  &lt;li&gt; 
   &lt;section data-mpa-action-id="mbu73dnasp6" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;步驟簡：用「注意力機制」（Attention）自動找到關鍵信息（比如理解「貓吃魚」時，自動關聯「貓→吃→魚」的關係）；&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
  &lt;li&gt; 
   &lt;section data-mpa-action-id="mbu73dna118x" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;可複製：這套方法能無限擴展，鍋越大（模型參數越多），菜越香（效果越好）。&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna6gr"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;所以關係就是：Transformer 是「方法論」，教會 AI 怎麼高效學習；而大模型是「實踐成果」，用這種方法練出來的「全能學霸」。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna13ve"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-pm-slice="0 0 []" nodeleaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: pre-wrap;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);clear: both;min-height: 1em;text-align: center;visibility: visible;color: rgb(34, 34, 34);line-height: normal;"&gt; 
  &lt;img src="https://oscimg.oschina.net/oscnet/86dacb22-b6ea-4fbd-8f94-2ea973556998.png" alt="圖片" class="rich_pages wxw-img" data-ratio="0.3056872037914692" data-s="300,640" data-type="png" data-w="422" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;letter-spacing: 0.544px;font-size: 14px;visibility: visible !important;width: 117px !important;" data-imgfileid="503052435" referrerpolicy="no-referrer"&gt; 
 &lt;/section&gt; 
 &lt;p style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;clear: both;min-height: 1em;color: rgba(0, 0, 0, 0.9);font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: pre-wrap;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);font-family: monospace;text-align: center;line-height: normal;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(0, 17, 255);font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Transformer 到底是什麼？&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1440"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1440"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;瞭解了大模型和 Transformer 的宏觀關係後，現在就要開始真正瞭解 transformer 的內核架構了，下圖就是經典的 transformer 架構圖，相信很多同學都已經看到過無數次了～ 下面我們將真正開始介紹本文的重頭戲 transformer。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="margin-left: 32px;text-align: center;margin-top: 0px;margin-bottom: 0px;line-height: 1em;" data-mpa-action-id="mbu73dna9qh"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="text-indent: 0px;text-align: center;margin-bottom: 0px;" nodeleaf=""&gt; 
    &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/9a4ddc15-7268-4aa5-9f11-6592a1d2edf8.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="864" style="left: 0px;top: 0px;width: 406px;height: 546px;" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;span leaf="" mpa-font-style="mbu8md841wvj" style="font-size: 12px;" data-mpa-action-id="mbu8md8b8xq" data-pm-slice="0 0 []"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Transformer 內部結構&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna14ay"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna14ay"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;首先在看 transfomer 的模型時，你可以將該模型圖一分為二來看，左邊是 Encoder，在有一段語句輸入後，編碼器負責將輸入的序列進行編碼，它可以將輸入語句的每個單詞向量（emmbedding）和單詞的位置信息（position）進行融合編碼，最終會得到一個編碼後的矩陣，隨後將其餵給右側的 Decoder 模塊，進行解碼，Decoder 依次會根據當前推理過的單詞 1~ n 再進行推理下一個單詞 n+1。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaxek"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaxek"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;只看語言描述，有點抽象，舉一個🌰來看：&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna22r3"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;首先，假如我們在做一個翻譯類型的任務，比如我們有一句話：我喜歡編碼，當我們把這句話餵給 Transformer 時，就會有如下的流程：&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna1psh" style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;第一步&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;：獲取輸入句子的每個單詞的特徵值，也就是常説的 embedding，但是隻獲取單詞的特徵值是不夠的，因為推理一個句子，還需要單詞之間的依賴關係，所以需要對單詞的具體位置進行編碼，獲取到位置的編碼信息（即位置的 embedding，後面會詳細講位置信息如何編碼的～），隨後將兩個 Embedding 相加，即可得到擁有位置信息的編碼矩陣，如下圖所示。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna1psh" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna8jn" style="text-align: center;margin-bottom: 0px;"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="display: inline-block;text-indent: 0px;margin-top: 0px;" nodeleaf=""&gt; 
    &lt;img src="https://oscimg.oschina.net/oscnet/e8b5d6b3-1d00-40b1-85b3-242c99c31982.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left: 0px;top: 0px;width: 100%;" data-backw="578" data-backh="311" referrerpolicy="no-referrer"&gt; 
   &lt;/section&gt;&lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt;&lt;span leaf="" style="line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Transformer 輸入句子處理&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna13it" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna13it" style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;第二步&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;：將上面帶有位置信息的矩陣 X（每一行代表一個單詞的向量信息）輸入到 6 個 Encoder 中進行編碼，得到最後的矩陣 E，如下圖所示。矩陣 E，用&lt;/span&gt;&lt;img src="https://oscimg.oschina.net/oscnet/f13ff340-9023-4317-8f28-b5203ff57fa9.jpg" class="rich_pages wxw-img" data-ratio="0.4830508474576271" data-s="300,640" data-type="png" data-w="236" style="width:47px;height:23px;" type="block" data-croporisrc="https://oscimg.oschina.net/oscnet/42910df3-295d-4724-8036-3df7ac8b8e8b.png" data-cropx2="236" data-cropy1="16.46511627906977" data-cropy2="131.72093023255815" data-imgfileid="503056871" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;表示，其中 n 為句子中的單詞數量，d 為向量的維度，論文中的 d=512&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna13it" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-align: center;margin-top: 8px;margin-bottom: 8px;" data-mpa-action-id="mbu73dna61o"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="text-indent: 0px;text-align: center;line-height: 1.75em;" nodeleaf=""&gt; 
    &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/de25e59c-c2bd-45f6-beaa-7ed7d8c7028a.jpg" class="rich_pages wxw-img" data-ratio="1.1970217640320733" data-w="873" style="left:0px;top:0px;width:426px;height:510px;" data-croporisrc="https://oscimg.oschina.net/oscnet/4a28528c-ba2a-4da2-bf80-d47fe7503b2d.png" data-cropx1="65.53711790393012" data-cropx2="937.9999999999999" data-cropy1="108.5450857836221" data-cropy2="1153.0355338901745" data-backw="362" data-backh="484" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;span leaf="" style="text-align: center;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Transformer 編碼圖解&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna3s7"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna3s7"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;第三步&lt;/span&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;：&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;得到 Encoder 的編碼矩陣 E 後，會將 E 喂進 Decoder 進行解碼處理，Decoder 依次會根據當前已經翻譯過的單詞再推測下一個單詞，比如當前翻譯了「I」 ，下次需要翻譯「like」，模型會根據〈begin〉（起始符）和「I」綜合推理翻譯「like」這個單詞。並且在這個推理過程中，存在 Mask 機制，比如你翻譯到「I」，他會通過 Mask 蓋住「I」之後的單詞「like encoding」來進行預測，具體流程如下圖所示&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna3s7"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-align: center;margin-bottom: 0px;" data-mpa-action-id="mbu73dna5ri"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-top: 8px;line-height: 1.75em;" nodeleaf=""&gt; 
    &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/608c64eb-28f4-430f-8309-ea994188782f.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left: 0px;top: 0px;width: 97.861%;height: 323px;" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;span leaf="" style="text-align: center;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Transformer 編碼圖解&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1bgt"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-pm-slice="0 0 []" nodeleaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 1em;color: rgb(34, 34, 34);font-size: 15px;background-color: rgb(255, 255, 255);text-align: center;line-height: normal;"&gt; 
  &lt;img src="https://oscimg.oschina.net/oscnet/43a797ab-fb73-4c5a-89fc-e99feffd5bbd.png" alt="圖片" class="rich_pages wxw-img" data-ratio="0.328125" data-s="300,640" data-type="png" data-w="256" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;letter-spacing: 0.544px;font-size: 16px;visibility: visible !important;width: 122px !important;" data-imgfileid="503052459" referrerpolicy="no-referrer"&gt; 
 &lt;/section&gt; 
 &lt;p style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;clear: both;min-height: 1em;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);text-align: center;line-height: normal;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(0, 17, 255);font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Encoder 和 Decoder 的核心原理是什麼？&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1ui0"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1ui0"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;瞭解了 Transformer 的大體流程後，肯定有很多同學會好奇，上文只説了編碼和解碼，那 Transformer 到底是如何做到的這些呢？先別急，我們再回到文章的一開始的 Transformer 架構圖，可以看到在 Encoder、Decoder 內部都擁有着兩個非常重要的模塊，Multi-Head-Attention 模塊和 Feed Forward 模塊。其中，Encoder 包含一個 Multi-Head-Attention 模塊，而 Decoder 則包含兩個 Multi-Head-Attention 模塊，不難發現，Transformer 的核心其實就是這個多頭注意力機制，那麼下面我們就先從這個多頭注意力機制進行攻克。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="min-height: 14px;line-height: 14px;" data-mpa-action-id="mbu73dnak9t"&gt; 
  &lt;span style="min-height: 21px;font-size: 21px;font-weight: bold;"&gt;&lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 0px;line-height: 1.75em;" data-mpa-action-id="mbu73dnak9t"&gt; 
  &lt;strong data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;▐&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;strong style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;&amp;nbsp; 4&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;line-height: 1.75em;color: rgb(0, 17, 255);letter-spacing: 1px;font-weight: bold;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;.1 Self-Attention 機制&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1qqn"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1qqn"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;要理解多頭注意力機制，首先要先搞明白注意力機制是什麼。你可以把注意力機制想象成人類在閲讀時&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;用熒光筆標記重點&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;的過程。比如你讀這段話時，眼睛會自然聚焦在"&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;熒光筆&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;"這個關鍵詞上，而忽略"比如""過程"這些輔助詞。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1tew"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;在注意力機制中，當它處理一句話時，模型會給每個詞分配不同的"關注值"，比如翻譯"&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;那隻貓舒服地趴在窗台上&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;"，生成"comfortably"這個詞時&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnama5"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;"舒服地"會獲得最高關注值（90%）&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaxed"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;"趴"獲得中等關注（70%）&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnax85"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;"窗台"只獲得少量關注（30%）&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1ho1"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1ho1"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;這種動態權重分配讓模型能靈活捕捉關鍵信息，就像我們讀書時用熒光筆劃重點一樣，然後根據劃線部分理解內容。而傳統模型在處理這些任務時更像用手電筒看長文章，只能照亮當前位置附近；注意力機制則像同時打開整個房間的燈，還能自動調節每個區域的亮度。這種特性特別適合處理需要聯繫上下文的任務。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1ec2"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1ec2"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;瞭解完 Self-Attention 大概是什麼之後，我們接下來看一下 Self-Attention 具體是怎麼運行的，接下來內容會偏硬核，需要一定的數學基礎，筆者儘量描述的通俗易懂。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 0px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1ec2"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="margin-left: 32px;text-align: center;" data-mpa-action-id="mbu73dnaicy"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="text-indent: 0px;text-align: center;margin-bottom: 8px;margin-top: 0px;line-height: 1.75em;" nodeleaf=""&gt; 
    &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/7feaf617-f4a7-4140-9fe9-8d08004b8c6a.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left: 0px;top: 0px;width: 322px;height: 398px;" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;span leaf="" style="text-align: center;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Self-Attention 流程圖&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 0px;line-height: 1em;" data-mpa-action-id="mbu73dnam4b"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnam4b"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;上圖是 Self-Attention 的總體機制流程，其實是對 Attention 計算公式的圖形化描述，attention 計算公式如下：&lt;img src="https://oscimg.oschina.net/oscnet/612fe01d-9102-4cf2-89d0-c0406e5ecc06.png" class="rich_pages wxw-img" data-ratio="0.1595238095238095" data-s="300,640" data-type="png" data-w="840" style="width:276px;height:44px;" type="block" data-imgfileid="503056863" referrerpolicy="no-referrer"&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnam4b"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;ul style="list-style-type: disc;" class="list-paddingleft-1"&gt; 
  &lt;li style="color:#0011ff;"&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna16uk"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(0, 17, 255);"&gt;4.1.1 公式含義&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna21ya"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna21ya"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;我們先拋開 Q K V 三個矩陣不談，單論&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf=""&gt;&lt;img src="https://oscimg.oschina.net/oscnet/61c081f8-12b9-448a-98e9-6c3bd37726b8.jpg" class="rich_pages wxw-img" data-ratio="0.2209106239460371" data-s="300,640" data-type="png" data-w="593" style="width:145px;height:32px;" type="block" data-croporisrc="https://oscimg.oschina.net/oscnet/662b5d3a-f533-42e6-a189-26450f968d98.png" data-cropx2="593.8095238095237" data-cropy2="131.04761904761907" data-imgfileid="503056895" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;這個公式是什麼含義呢？&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1qjd"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;首先要搞明白，一個矩陣乘它自身的轉置矩陣代表了什麼。我們知道矩陣本身就是一系列向量的集合，一個矩陣乘它自身的轉置矩陣，就可以理解為這些向量分別和其他的向量做內積，而向量內積其實表示的是兩個向量的夾角，表徵一個向量在另一個向量上的投影，説人話就&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;兩個向量的內積是表示兩個向量之間的相似度&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna87o"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna87o"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;用一個例子來看：&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna1osu"&gt; 
  &lt;section&gt; 
   &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
   &lt;span style="font-size: 15px;"&gt; 
    &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" nodeleaf=""&gt; 
     &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/d0f8c90c-9116-4773-bc19-e2f6a13c5708.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left: 0px;top: 0px;width: 100%;float: left;" data-backw="501" data-backh="144" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
    &lt;/section&gt;&lt;/span&gt; 
  &lt;/section&gt; 
  &lt;section&gt; 
   &lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt; 
  &lt;/section&gt; 
  &lt;section&gt; 
   &lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt; 
  &lt;/section&gt; 
  &lt;section&gt; 
   &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;/section&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna17pt"&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna17pt"&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna17pt"&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna17pt"&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;有一個「早上好」的特徵矩陣，每一行代表這個字的特徵向量，可以看出來在「早上好」&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;矩陣和「早上好」的轉置矩陣做計算時，「早」會跟自己以及其他兩個字（「上」、「好」）的向量分別做內積，來得到一個新的向量。那這個新的向量有什麼意義呢？結合我們上面對內積的解釋，我們可以把它理解為這個值越大，説明兩個向量的相似度越高，值越小説明兩個向量之間關係越弱。進一步理解一下，這個向量是不是可以在一定程度上（不是完全）表示，在關注詞 A 的時候，是不是應給予 B 詞更多的關注。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna17pt"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1pzi"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;那矩陣&lt;img src="https://oscimg.oschina.net/oscnet/d262fab9-a0d8-431c-b6ad-a794a4157475.jpg" class="rich_pages wxw-img" data-ratio="0.4935064935064935" data-s="300,640" data-type="png" data-w="154" style="width:50px;height:25px;" type="block" data-croporisrc="https://oscimg.oschina.net/oscnet/1761d2a3-828c-4fd0-9cbf-7e30ab136f78.png" data-cropx2="154" data-cropy1="12.32" data-cropy2="89.32000000000001" data-imgfileid="503056876" referrerpolicy="no-referrer"&gt;&amp;nbsp;的結果是一個矩陣，它裏面保存了&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;每個向量&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;與&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;自己、以及其他向量&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;進行內積的計算結果。至此，我們瞭解了一個矩陣乘它自己轉置矩陣的含義，那我們再來看 softmax 的作用是什麼？&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1pzi"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna95n"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;這裏不再對 softamax 公式進行詳細介紹，只簡單介紹意義。softmax 的作用就是歸一化，簡單來説，經過歸一化後，會將單行向量的值的和變為 1，如上圖的結果矩陣將由[11,11,10]，變為[0.4,0.4,0.2]。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna95n"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaqgd"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;歸一化的這個結果，其實就相當於我們後續乘的 X 的權重係數。用人話來講就是，當我們關注「早」這個字的時候，我們應分配 0.4 的權重關注它自身，分配 0.4 的權重關注「上」，0.2 的權重關注「好」。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaqgd"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;我們理解完了&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf=""&gt;&lt;img src="https://oscimg.oschina.net/oscnet/6639dd91-b80b-49ab-bf35-1558f23273ce.png" class="rich_pages wxw-img" data-ratio="0.25483870967741934" data-s="300,640" data-type="png" data-w="620" style="width:120px;height:31px;" type="block" data-imgfileid="503056878" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;，那最後的乘 X 是什麼作用呢？如下圖所示&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna24th"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="font-size: 15px;"&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" nodeleaf=""&gt; 
    &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/8aaa6317-a75f-4289-aca4-c7ed79b82690.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left: 0px;top: 0px;width: 100%;height: 202px;" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1d4b"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;觀察上圖，行向量 X 與第一個列向量相乘，得到了第一個新的行向量[1.4]，且這個行向量與 X 的的維度相同。那麼新的行向量的每一個數值，都是由三個詞向量在這一維度加權求和後得到的，這個新的行向量就&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;代表「早」字經過注意力加權求和後的表示&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1t61"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1t61"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;理解了公式整體的含義之後，再看一個細節&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf=""&gt;&lt;img src="https://oscimg.oschina.net/oscnet/11f92e7f-ce3b-4e54-ae3c-ef346718e7b0.jpg" class="rich_pages wxw-img" data-ratio="0.17065868263473055" data-s="300,640" data-type="png" data-w="1002" style="width:287px;height:49px;" type="block" data-croporisrc="https://oscimg.oschina.net/oscnet/c98f0b60-d894-4715-8336-5460bbc3a7a8.png" data-cropx2="1002" data-cropy2="171.0731707317073" data-imgfileid="503056879" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;，為什麼要除&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf=""&gt;&lt;img src="https://oscimg.oschina.net/oscnet/1e7cd81e-e281-45f5-831e-75b3f17431fb.jpg" class="rich_pages wxw-img" data-ratio="0.9798657718120806" data-s="300,640" data-type="png" data-w="149" style="width:40px;height:39px;" type="block" data-croporisrc="https://oscimg.oschina.net/oscnet/1fd2460e-77fd-45cf-9ce7-7a1366ed02f2.png" data-cropx2="150" data-cropy2="147" data-imgfileid="503056881" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;呢？其實這個操作只是為了防止 QK 的結果過大，所以會除一個尺度標度&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/9f4b0473-6e0c-472c-93bd-67d252de4498.jpg" class="rich_pages wxw-img" data-ratio="0.8333333333333334" data-s="300,640" data-type="png" data-w="144" style="width:39px;height:33px;" type="block" data-croporisrc="https://oscimg.oschina.net/oscnet/1fd2460e-77fd-45cf-9ce7-7a1366ed02f2.png" data-cropx2="144.58536585365854" data-cropy1="22.24390243902439" data-cropy2="144.58536585365852" data-imgfileid="503056881" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;，而&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf=""&gt;&lt;img src="https://oscimg.oschina.net/oscnet/34452b91-9a73-40d2-9068-fd6439ffafc4.png" class="rich_pages wxw-img" data-ratio="1.1071428571428572" data-s="300,640" data-type="png" data-w="112" style="width:26px;height:29px;" type="block" data-imgfileid="503056885" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;表示 query 和 key 的向量的維度，如果不對 softmax 的輸入做縮放，那麼萬一輸入的數量級很大，softmax 的梯度就會趨向於 0。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1t61"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;ul style="list-style-type: disc;" class="list-paddingleft-1"&gt; 
  &lt;li style="color:#0011ff;"&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna188k"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(0, 17, 255);"&gt;4.1.2 Q K V 含義&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna114j"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna114j"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;理解了上面自注意力機制公式的含義後，其實 Q（Query），K（Key），V（Value）只是一個公式的入參，本質是根據輸入矩陣 X 跟線性矩陣 WQ、WK、WV 做內積得到的，而輸入矩陣 X 則是之前單詞的特徵向量矩陣 X 或者上一個 Encoder block 的輸出，具體的計算過程如下圖所示。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna114j"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-align: center;" data-mpa-action-id="mbu73dna11b2"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="text-indent: 0px;text-align: center;margin-bottom: 0px;margin-top: 8px;line-height: 1.75em;" nodeleaf=""&gt; 
    &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/1cefaa58-eb59-47dc-a256-6855fdca4e27.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left: 0px;top: 0px;width: 62.1658%;height: 502px;" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;span leaf="" style="text-align: center;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Q K V 矩陣計算&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 0px;line-height: 1em;" data-mpa-action-id="mbu73dna1ydr"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1ydr"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;看到這裏，可能有些同學會有疑問，既然都是通過線性矩陣得到的 Q、K、V，那為什麼不使用 X 矩陣本身呢？這個答案其實並不難想，本質上使用線性矩陣是為了提升模型的擬合能力，因為矩陣 W 都是可以訓練得到的，從而起到一個緩衝的效果。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1ceo"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;一句話總結 Q、K、V 在自注意力機制裏做的事情：&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;通過 query 和 key 的相似程度來計算出 value 的權重分佈&lt;/span&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnam1g"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 0px;line-height: 1.75em;" data-mpa-action-id="mbu73dnak9t" data-pm-slice="4 2 []"&gt; 
  &lt;strong data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;▐&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;strong style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;&amp;nbsp; 4&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;line-height: 1.75em;color: rgb(0, 17, 255);letter-spacing: 1px;font-weight: bold;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;.2 Multi-Head Attention 機制&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnawfn"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnawfn"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;其實理解了注意力機制後，多頭注意力機制也是非常好理解的，簡單來説它是對單層注意力機制的一個疊加模型，通過多層計算 Q、K、V，再將各部分結果拼接，最後通過線性化處理得到一個與輸入同等維度的結果矩陣，多頭注意力機制架構圖如下所示。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 0px;line-height: 1.5em;" data-mpa-action-id="mbu73dnawfn"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-align: center;" data-mpa-action-id="mbu73dnaf9x"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="display: inline-block;text-indent: 0px;" nodeleaf=""&gt; 
    &lt;img src="https://oscimg.oschina.net/oscnet/582e4571-1cd8-402f-9a3f-50ace934b594.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="640" style="left:0px;top:0px;width:354px;height:475px;" referrerpolicy="no-referrer"&gt; 
   &lt;/section&gt;&lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt;&lt;span leaf="" style="text-align: center;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Multi-Head Attention 機制&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna11f9"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;將上述過程展開敍述：首先通過權重矩陣&amp;nbsp;&lt;img src="https://oscimg.oschina.net/oscnet/4f352233-7577-4b8f-b796-1ee8029ec3a2.jpg" class="rich_pages wxw-img" data-ratio="0.18393782383419688" data-s="300,640" data-type="png" data-w="772" style="width:146px;height:27px;" type="block" data-croporisrc="https://oscimg.oschina.net/oscnet/95c9b0c9-ba5c-425a-b0c3-4da623f8dca7.png" data-cropx2="772" data-cropy1="21.15068493150685" data-cropy2="163.91780821917808" data-imgfileid="503056865" referrerpolicy="no-referrer"&gt;將 Q、K、V 分割，每個 Head 單獨計算 self-attention，同時因為訓練出的&lt;img src="https://oscimg.oschina.net/oscnet/4f352233-7577-4b8f-b796-1ee8029ec3a2.jpg" class="rich_pages wxw-img" data-ratio="0.18393782383419688" data-s="300,640" data-type="png" data-w="772" style="width:146px;height:27px;" type="block" data-croporisrc="https://oscimg.oschina.net/oscnet/95c9b0c9-ba5c-425a-b0c3-4da623f8dca7.png" data-cropx2="772" data-cropy1="21.15068493150685" data-cropy2="163.91780821917808" data-imgfileid="503056865" referrerpolicy="no-referrer"&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;也各不相同，所以得出的 Q、K、V 也是不同的，因此我們説每個 Head 的關注點也&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;各有側重。最後將每個 Head 得出的結果進行 Concat（拼接）操作，然後通過總體權重矩陣&lt;/span&gt;&lt;img src="https://oscimg.oschina.net/oscnet/3571e99e-4c99-4880-8f8c-4dc628dc90ab.png" class="rich_pages wxw-img" data-ratio="0.7575757575757576" data-s="300,640" data-type="png" data-w="198" style="width:35px;height:27px;" type="block" data-imgfileid="503056887" referrerpolicy="no-referrer"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;決定對每個 Head 結果的關注程度（注意最後的 Z 矩陣維度和最初輸入的 X 維度相同），&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;從而能夠做到在不同語境下對相同句子的不同理解&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;。具體圖解如下圖所示。&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 0px;line-height: 1.75em;" data-mpa-action-id="mbu73dna11f9"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dnakka" style="text-align: center;"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="display: inline-block;text-indent: 0px;" nodeleaf=""&gt; 
    &lt;img src="https://oscimg.oschina.net/oscnet/fe2ef549-91b9-454f-baa4-b7aae95051bf.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left:0px;top:0px;width:100%;" data-backw="578" data-backh="322" referrerpolicy="no-referrer"&gt; 
   &lt;/section&gt;&lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt;&lt;span leaf="" style="line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Multi-Head Attention 計算流程&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="margin-top: 8px;margin-bottom: 0px;line-height: 1.75em;"&gt; 
  &lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-pm-slice="0 0 []" nodeleaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);font-size: 11pt;font-family: DengXian;color: rgb(0, 0, 0);letter-spacing: normal;text-align: center;line-height: normal;"&gt; 
  &lt;img src="https://oscimg.oschina.net/oscnet/01d96474-7a66-4640-b4f1-c9626b34047b.png" alt="圖片" class="rich_pages wxw-img" data-ratio="0.328125" data-s="300,640" data-type="png" data-w="256" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 133px !important;" data-imgfileid="503052460" referrerpolicy="no-referrer"&gt; 
 &lt;/section&gt; 
 &lt;section style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);text-align: center;line-height: normal;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: inherit;overflow-wrap: break-word !important;color: rgb(0, 17, 255);font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;位置編碼&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnapp7"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnapp7"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;從 Transfomer 架構圖可以看到，其實在 Encoder 之前還有一個模塊，即位置編碼模塊。不免有同學好奇，為什麼需要在 Encoder 輸入之前要進行位置的編碼呢？其實這也不難理解，通過上面的學習，我們可以發現在做自注意力機制時，它是跟每一個輸入的詞向量進行內積，在這個過程中，並沒有考慮到詞向量的順序，所以這最後得到的結果一定是缺失原來文本的順序信息的。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-align: center;margin-bottom: 0px;" data-mpa-action-id="mbu73dna1dci"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="display: inline-block;text-indent: 0px;" nodeleaf=""&gt; 
    &lt;img src="https://oscimg.oschina.net/oscnet/9a4ddc15-7268-4aa5-9f11-6592a1d2edf8.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="864" style="left: 0px;top: 0px;width: 435px;height: 585px;" referrerpolicy="no-referrer"&gt; 
   &lt;/section&gt;&lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt;&lt;span leaf="" style="text-align: center;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Transformer 內部結構&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnas14"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnas14"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;位置信心的 Embedding 通常有兩種方式獲得，一種是通過訓練得到，另一種是直接使用公式，而 Transformer 中的位置信息則是採用了後者——公式獲得。計算公式如下：&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-align: center;" nodeleaf=""&gt; 
  &lt;img src="https://oscimg.oschina.net/oscnet/7de93da6-88bd-4618-a8d0-a3c0af6bf5a8.png" class="rich_pages wxw-img" data-ratio="0.245" data-s="300,640" data-type="png" data-w="800" style="width:326px;height:80px;" type="block" data-imgfileid="503056868" referrerpolicy="no-referrer"&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna17di"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;針對上面的公式，進行解釋一下：pos 代表單詞的位置，2i 和 2i+1 則分別代表偶數位置和奇數位置，d 則代表向量維度（和前面單詞的 embedding 維度相同），使用該公式有以下幾個好處：&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;ul style="list-style-type: disc;" class="list-paddingleft-1"&gt; 
  &lt;li&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna21eh"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;使用公式法能夠適應比訓練集裏所有句子更長的句子場景，這麼説可能有點繞，舉一個例子，假設我們訓練的時候，訓練集裏最長的句子只有 100 個單詞，但是現實中我們在推理的時候，可能會存在 101 個單詞的場景，這時候呢根據公式就可以計算出 101 單詞的位置信息。&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
  &lt;li&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna7oi"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;可以讓模型更容易地計算出相對位置。舉一個例子，假設 A 單詞的位置是 pos， B 單詞和 A 單詞之間的位置距離為 L，那麼&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;PE（pos+L）&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;則可以由&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;PE（pos）&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;計算得到。因為&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Sin(A+B) = Sin(A)Cos(B) + Cos(A)Sin(B)&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;,&amp;nbsp;&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Cos(A+B) = Cos(A)Cos(B) - Sin(A)Sin(B)&lt;/span&gt;&lt;/span&gt; 
    &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnazbs"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnazbs"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;根據公式得到位置信息後，將單詞的 Embedding 信息和位置 Embedding 相加，就可以得到帶有位置信息和單詞特徵信息的向量，而這個向量也正是 Encoder 的輸入。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna164g"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-pm-slice="0 0 []" nodeleaf="" style="-webkit-tap-highlight-color: transparent;margin: 8px 0px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 1em;background-color: rgb(255, 255, 255);color: rgb(34, 34, 34);text-align: center;line-height: 1.75em;"&gt; 
  &lt;img src="https://oscimg.oschina.net/oscnet/a347e7ee-2c8d-4644-b2b2-871be865049e.png" alt="圖片" class="rich_pages wxw-img" data-ratio="0.328125" data-s="300,640" data-type="png" data-w="256" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;color: rgb(51, 51, 51);font-size: 20px;font-weight: bold;letter-spacing: 0.578px;visibility: visible !important;width: 134px !important;" data-imgfileid="503052461" referrerpolicy="no-referrer"&gt; 
 &lt;/section&gt; 
 &lt;p style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;clear: both;min-height: 1em;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);color: rgb(34, 34, 34);text-align: center;line-height: normal;"&gt;&lt;span leaf="" data-pm-slice="1 1 [&amp;quot;para&amp;quot;,{&amp;quot;tagName&amp;quot;:&amp;quot;section&amp;quot;,&amp;quot;attributes&amp;quot;:{&amp;quot;style&amp;quot;:&amp;quot;-webkit-tap-highlight-color: transparent; margin: 8px 0px; padding: 0px; outline: 0px; max-width: 100%; clear: both; min-height: 24px; color: rgba(0, 0, 0, 0.9); font-family: \&amp;quot;PingFang SC\&amp;quot;, system-ui, -apple-system, \&amp;quot;system-ui\&amp;quot;, \&amp;quot;Helvetica Neue\&amp;quot;, \&amp;quot;Hiragino Sans GB\&amp;quot;, \&amp;quot;Microsoft YaHei UI\&amp;quot;, \&amp;quot;Microsoft YaHei\&amp;quot;, Arial, sans-serif; font-size: 17px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.544px; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; background-color: rgb(255, 255, 255); visibility: visible; line-height: 1.75em; box-sizing: border-box !important; overflow-wrap: break-word !important;&amp;quot;,&amp;quot;data-mpa-action-id&amp;quot;:&amp;quot;mbt2e3151rly&amp;quot;},&amp;quot;namespaceURI&amp;quot;:&amp;quot;http://www.w3.org/1999/xhtml&amp;quot;},&amp;quot;node&amp;quot;,{&amp;quot;tagName&amp;quot;:&amp;quot;span&amp;quot;,&amp;quot;attributes&amp;quot;:{&amp;quot;style&amp;quot;:null},&amp;quot;namespaceURI&amp;quot;:&amp;quot;http://www.w3.org/1999/xhtml&amp;quot;}]" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(0, 17, 255);font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Encoder 的組成&lt;/span&gt;&lt;/span&gt;&lt;/p&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1obu"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1obu"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;可以看到 Encoder 的內部除了 Multi-Head Attention 模塊，還有 Feed Forward Network、Add &amp;amp; Norm 模塊，這兩個模塊都是跟在 Multi-Head Attention 模塊之後做「加強表現」效果的。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: center;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaqz2"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;section style="text-indent: 0px;margin-bottom: 0px;margin-top: 8px;line-height: 1.75em;" nodeleaf=""&gt; 
   &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/22311d5c-5951-4bff-8afc-a0f6581dc669.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left: 0px;top: 0px;width: 366px;height: 492px;" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;/section&gt; 
  &lt;span leaf="" style="line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Encoder 架構&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna23jo"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 0px;line-height: 1.75em;" data-mpa-action-id="mbu73dnak9t" data-pm-slice="4 2 []"&gt; 
  &lt;strong data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;▐&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;strong style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;&amp;nbsp; 6&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;line-height: 1.75em;color: rgb(0, 17, 255);letter-spacing: 1px;font-weight: bold;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;.1 FFN 模塊&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnafu7"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnafu7"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;首先，可以看到不論 Encoder 還是 Decoder，在做完 Multi-Head Attention 後，都會接一個 FFN 網絡，那這個 FFN 網絡到底有什麼用呢？要搞清這個問題，還是要先從原理入手。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaxpi"&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;FFN 的計算公式：&lt;img src="https://oscimg.oschina.net/oscnet/43b85b92-4a9f-4ecd-892b-3e74353eb403.png" class="rich_pages wxw-img" data-ratio="0.11574074074074074" data-s="300,640" data-type="png" data-w="1080" style="width:260px;height:30px;" type="block" data-imgfileid="503056869" referrerpolicy="no-referrer"&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;通過公式，其實不難得出，FFN 是由全連接層（FC）和激活函數 Relu 組成。其實通過分析公式，已經可以得出 FFN 的作用，即對矩陣進行&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;空間的變換&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;，引入&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;非線性特徵&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;，來增強模型的表現能力。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaxpi"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 32px;text-align: center;margin-bottom: 0px;" data-mpa-action-id="mbu73dnagsw"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span leaf=""&gt;&lt;img src="https://oscimg.oschina.net/oscnet/1c87fa44-3c16-4e67-ba98-741e4ab3b1a9.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left: 0px;top: 0px;width: 100%;float: left;" data-backw="505" data-backh="259" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;span style="text-indent: 0px;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span leaf="" style="line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;FFN 模塊架構圖&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaycb"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaycb"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;可能有些同學會存在疑問，在 Multi-Head Attention 的最後其實有線性矩陣&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf=""&gt;&lt;img src="https://oscimg.oschina.net/oscnet/3571e99e-4c99-4880-8f8c-4dc628dc90ab.png" class="rich_pages wxw-img" data-ratio="0.7575757575757576" data-s="300,640" data-type="png" data-w="198" style="width:35px;height:27px;" type="block" data-imgfileid="503056887" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;的計算，已經將結果映射成和輸入 X 相同維度了，為什麼這裏還要增加一個 FFN 模塊？筆者認為這裏是把向量先&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;線性變化到高維空間&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;再重新變換回來可以得到更加抽象的數據，泛化效果更好。當然把 FFN 模塊去掉也可以使用，但是效果差了很多。（筆者觀點，有待討論～）&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna10mt"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 0px;line-height: 1.75em;" data-mpa-action-id="mbu73dnak9t" data-pm-slice="4 2 []"&gt; 
  &lt;strong data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;▐&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;strong style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;&amp;nbsp; 6&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;line-height: 1.75em;color: rgb(0, 17, 255);letter-spacing: 1px;font-weight: bold;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;.2&amp;nbsp;&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;line-height: 1.75em;color: rgb(0, 17, 255);letter-spacing: 1px;font-weight: bold;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Add &amp;amp; Norm 模塊&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna7qz"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna7qz"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Add &amp;amp; Norm 層由 Add 和 Norm 兩部分組成，其計算公式如下：&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-align: center;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;" nodeleaf=""&gt; 
  &lt;img src="https://oscimg.oschina.net/oscnet/336eedd2-a4ed-48e4-b4b1-998876f27883.png" class="rich_pages wxw-img" data-ratio="0.06111111111111111" data-s="300,640" data-type="png" data-w="1080" type="block" data-imgfileid="503056870" referrerpolicy="no-referrer"&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna6o2"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1442"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;從公式開始分析，X 為 Multi-Head Attention 或者 Feed Forward 的輸入（從架構圖中更能清晰得出），MultiHeadAttention(X) 和 FeedForward(X) 則表示輸出 。有些同學會疑問這兩者是否可以直接相加？其實我們看前面所有的技術介紹時，可以發現所有的模塊在最後都經過了&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;線性的變換&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;，&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;從而保證輸出和輸入的 X 矩陣維持同樣的維度，比如在 Multi-Head Attention 模塊，最後乘了&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/37fa33bc-186a-4c41-aa4e-8a242b85ad83.jpg" class="rich_pages wxw-img" data-ratio="0.7789473684210526" data-s="300,640" data-type="png" data-w="190" style="width:35px;height:27px;" type="block" data-croporisrc="https://oscimg.oschina.net/oscnet/14fefb14-0a65-45f3-b4cd-301c770d8cbf.png" data-cropx2="190" data-cropy2="146.57142857142858" data-imgfileid="503056889" referrerpolicy="no-referrer"&gt;矩陣保證了輸出和輸入相同維度。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1442"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna782"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Add 是指 X + MultiHeadAttention(X) 和 X + FeedForward(X)，這是一種殘差網絡，&lt;/span&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;通常用於解決深度學習中多層網絡訓練的問題，&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;通過將前一層的信息無差別的傳遞到下一層，從而可以讓網絡只關注當前差異的部分&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;。（具體殘差網絡的知識不在此展開）&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna782"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: center;margin-bottom: 0px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna19hl"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;section style="text-indent: 0px;margin-top: 8px;line-height: 1.75em;" nodeleaf=""&gt; 
   &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/cc618188-bec4-415d-b4d3-51ed03c810d1.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left: 0px;top: 0px;width: 100%;" data-backw="495" data-backh="86" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;/section&gt; 
  &lt;span leaf="" style="text-align: center;text-indent: 0px;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;殘差網絡&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 0px;line-height: 1.75em;" data-mpa-action-id="mbu73dnab29"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnab29"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Norm 模塊則代表了 Layer Normalization，簡單來説它的作用是&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;規範優化空間&lt;/span&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;，&lt;/span&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;加速訓練的收斂&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1yts"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;當我們使用梯度下降算法做優化時，我們可能會對輸入數據進行歸一化，但是經過網絡層作用後，我們的數據已經不是歸一化的了。隨着網絡層數的增加，數據分佈不斷髮生變化，偏差越來越大，導致我們不得不使用更小的學習率來穩定梯度。Layer Normalization 的作用就是&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;保證數據特徵分佈的穩定性，將數據標準化到 ReLU 激活函數的作用區域，可以使得激活函數更好的發揮作用。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1o3i"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);text-align: center;line-height: normal;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: mp-quote, &amp;quot;PingFang SC&amp;quot;, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/fcc202b0-5a24-4370-88cf-4eeea91e08b3.png" alt="圖片" class="rich_pages wxw-img" data-ratio="0.328125" data-s="300,640" data-type="png" data-w="256" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 136px !important;" data-imgfileid="503048354" referrerpolicy="no-referrer"&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);color: rgb(100, 99, 99);font-size: 15px;text-align: center;line-height: normal;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 18px;color: rgb(0, 17, 255);letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Decoder 模塊的組成&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1xln"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1xln"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;從 Decoder 的架構圖中，我們可以看到和 Encoder 層會有一些相似之處，但也存在一些差異：&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;ul style="list-style-type: disc;" class="list-paddingleft-1"&gt; 
  &lt;li&gt; 
   &lt;section data-mpa-action-id="mbu73dna17ld" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Decoder 存在兩個 Multi-Head Attention 模塊，而 Encoder 只有一個&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
  &lt;li&gt; 
   &lt;section data-mpa-action-id="mbu73dna1hly" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Decoder 的第一個 Multi-Head Attention 模塊採用了 Mask 操作&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
  &lt;li&gt; 
   &lt;section data-mpa-action-id="mbu73dna2rr" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Decoder 的第二個 Multi-Head Attention 模塊的輸入，並不止依賴於第一個 Multi-Head Attention 模塊的結果，同時依賴了 Encoder 的輸出（後面會詳細解釋）&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;section style="text-align: center;" data-mpa-action-id="mbu73dnahoo"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="display: inline-block;text-indent: 0px;" nodeleaf=""&gt; 
    &lt;img src="https://oscimg.oschina.net/oscnet/7dea7d68-f7e1-4722-b7c3-8bab9240ec74.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left:0px;top:0px;width:372px;height:512px;" referrerpolicy="no-referrer"&gt; 
   &lt;/section&gt;&lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt;&lt;span leaf="" style="text-align: center;text-indent: 0px;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;Decoder 架構&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnacj1"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 0px;line-height: 1.75em;" data-mpa-action-id="mbu73dnak9t" data-pm-slice="4 2 []"&gt; 
  &lt;strong data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;▐&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;strong style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;&amp;nbsp; 7&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;line-height: 1.75em;color: rgb(0, 17, 255);letter-spacing: 1px;font-weight: bold;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;.1&amp;nbsp;&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;line-height: 1.75em;color: rgb(0, 17, 255);letter-spacing: 1px;font-weight: bold;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Masked Multi-Head Attention 模塊&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnauz9"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnauz9"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;首先我們要了解什麼是 Mask，在深度學習中 Mask 通常表示掩碼的意思，即它會對某些值進行掩蓋處理，使在訓練中進行參數更新時不會產生效果。而在 Transformer 模型中，它是對未來的內容進行了掩蓋處理，在 t 時刻時，我們的解碼輸出&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;只能依賴於 t 時刻之前的產出，而不能依賴 t 時刻之後的輸出&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;。舉一個例子，我喜歡寫代碼的翻譯是「I like encoding」，在 t 時刻我們預測了「&amp;lt;begin&amp;gt; I」，這時候在需要預測"like"時，只能依賴「&amp;lt;begin&amp;gt; I」 而不能依賴「like encoding」進行。所以，在 transformer 裏需要想了一個辦法，把 t 時刻之後的信息全部給隱藏起來。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnauz9"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1ay7"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;具體的做法其實也很簡單，它產生一個上三角的矩陣，上三角的值全部為 0。把這&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;個矩陣和我們的目標矩陣相乘時，便可以做到將 t 時刻之後的特徵全部隱藏。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnass6"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;舉一個例子：&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna1j92"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="font-size: 15px;"&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 8px;line-height: 1.75em;" nodeleaf=""&gt; 
    &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/a4698765-7b45-49bf-9338-1c42396af7bd.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left: 0px;top: 0px;width: 100%;" data-backw="519" data-backh="184" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 0px;line-height: 1em;" data-mpa-action-id="mbu73dna20nl"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna20nl"&gt; 
  &lt;span leaf="" style="text-indent: 0px;text-align: justify;font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;假如我們有一個 0 1 2 3 4 的單詞向量矩陣，那它的 Mask 同樣也得是一個 5*5 的矩陣，按照設定，我們將上三角的區域全部置為 0（即綠色區域為非掩&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;蓋區，黃色為 0 值區），這樣在注意力機制算得&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf=""&gt;&lt;img src="https://oscimg.oschina.net/oscnet/037e98b0-488c-49b1-b8dc-3c46fd410539.png" class="rich_pages wxw-img" data-ratio="0.753731343283582" data-s="300,640" data-type="png" data-w="268" style="width:41px;height:31px;" type="block" data-imgfileid="503056891" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;矩陣後，再將其與 Mask 矩陣進行&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;按位相乘，&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;即可得到一個帶有掩碼的矩陣結果（黑色部分為 0 值），後續再乘 V 矩陣即可得&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;到最終的 self-attention 的結果。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna20nl"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 32px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1zy2"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnak9t" data-pm-slice="4 2 []"&gt; 
  &lt;strong data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;▐&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;strong style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(0, 17, 255);letter-spacing: 1px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;&amp;nbsp; 7&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;color: rgb(0, 17, 255);letter-spacing: 1px;font-weight: bold;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;.2&amp;nbsp;&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;color: rgb(0, 17, 255);letter-spacing: 1px;font-weight: bold;font-family: Optima-Regular, PingFangTC-light;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Decoder 的兩個 Multi-Head Attention 模塊&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnahn2"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnahn2"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;從 Decoder 架構圖中，我們不難看出，第一個 Multi-Head Attention 模塊的 query key value 均來自前一層的 Decocder 的輸出，但是加入了 Mask 操作，從而讓模型只能 attend 到前面已經推理過的詞語，因為在真正推理過程中我們當前是不知道下一個輸出詞語，這是我們之後才會推測到的。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna15ts"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna15ts"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;而第二級的 Multi-Head Attention 模塊，即它的 query 來自於之前一級的 Decoder 層的輸出，但其 key 和 value 則來自於 Encoder 的輸出，這使得 decoder 的每一個位置都可以 attend 到輸入序列的每一個位置。這樣做的好處是在 Decoder 的時候，每一位單詞都可以利用到 Encoder 所有單詞的信息 (這些信息無需 Mask)&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-align: center;" data-mpa-action-id="mbu73dna1mja"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
  &lt;span style="color: rgb(208, 206, 206);font-size: 14px;"&gt; 
   &lt;section style="display: inline-block;text-indent: 0px;" nodeleaf=""&gt; 
    &lt;img src="https://oscimg.oschina.net/oscnet/7dea7d68-f7e1-4722-b7c3-8bab9240ec74.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left:0px;top:0px;width:354px;height:487px;" referrerpolicy="no-referrer"&gt; 
   &lt;/section&gt;&lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt;&lt;span leaf="" style="text-align: center;text-indent: 0px;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;De&lt;/span&gt;&lt;/span&gt;&lt;span leaf="" style="text-align: center;text-indent: 0px;line-height: 1em;color: rgb(208, 206, 206);font-size: 12px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;color: rgb(136, 136, 136);"&gt;coder 架構&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 0px;margin-top: 0px;line-height: 1.5em;" data-mpa-action-id="mbu73dna106v"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);text-align: center;line-height: normal;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: mp-quote, &amp;quot;PingFang SC&amp;quot;, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/d810b80b-5533-4c81-ba22-b0ffe8d0f5b1.png" alt="圖片" class="rich_pages wxw-img" data-ratio="0.328125" data-s="300,640" data-type="png" data-w="256" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;font-family: system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 140px !important;" data-imgfileid="503048358" referrerpolicy="no-referrer"&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-align: center;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;color: rgb(3, 69, 255);font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;" data-pm-slice="1 1 [&amp;quot;para&amp;quot;,{&amp;quot;tagName&amp;quot;:&amp;quot;pre&amp;quot;,&amp;quot;attributes&amp;quot;:{&amp;quot;data-pm-slice&amp;quot;:&amp;quot;0 0 []&amp;quot;,&amp;quot;style&amp;quot;:&amp;quot;-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: inherit;overflow-wrap: break-word !important;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);color: rgba(25, 26, 31, 0.9);font-family: \&amp;quot;Helvetica Neue\&amp;quot;, Helvetica, \&amp;quot;PingFang SC\&amp;quot;, \&amp;quot;Hiragino Sans GB\&amp;quot;, \&amp;quot;Microsoft YaHei\&amp;quot;, Arial, sans-serif;font-size: 16px;text-align: center;visibility: visible;line-height: 1.75em;&amp;quot;},&amp;quot;namespaceURI&amp;quot;:&amp;quot;http://www.w3.org/1999/xhtml&amp;quot;},&amp;quot;para&amp;quot;,{&amp;quot;tagName&amp;quot;:&amp;quot;p&amp;quot;,&amp;quot;attributes&amp;quot;:{&amp;quot;style&amp;quot;:&amp;quot;-webkit-tap-highlight-color: transparent;margin: 8px 0px 0px;padding: 0px;outline: 0px;max-width: 100%;clear: both;min-height: 1em;font-family: \&amp;quot;PingFang SC\&amp;quot;, system-ui, -apple-system, \&amp;quot;system-ui\&amp;quot;, \&amp;quot;Helvetica Neue\&amp;quot;, \&amp;quot;Hiragino Sans GB\&amp;quot;, \&amp;quot;Microsoft YaHei UI\&amp;quot;, \&amp;quot;Microsoft YaHei\&amp;quot;, Arial, sans-serif;letter-spacing: 0.544px;color: rgb(34, 34, 34);visibility: visible;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;&amp;quot;},&amp;quot;namespaceURI&amp;quot;:&amp;quot;http://www.w3.org/1999/xhtml&amp;quot;},&amp;quot;node&amp;quot;,{&amp;quot;tagName&amp;quot;:&amp;quot;span&amp;quot;,&amp;quot;attributes&amp;quot;:{&amp;quot;style&amp;quot;:&amp;quot;-webkit-tap-highlight-color: transparent;margin-right: 0px;margin-bottom: 0px;margin-left: 0px;padding: 0px;outline: 0px;max-width: 100%;color: rgb(3, 69, 255);font-family: \&amp;quot;PingFang SC\&amp;quot;, -apple-system, system-ui, \&amp;quot;Helvetica Neue\&amp;quot;, \&amp;quot;Hiragino Sans GB\&amp;quot;, \&amp;quot;Microsoft YaHei UI\&amp;quot;, \&amp;quot;Microsoft YaHei\&amp;quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;&amp;quot;},&amp;quot;namespaceURI&amp;quot;:&amp;quot;http://www.w3.org/1999/xhtml&amp;quot;}]"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Transformer 如何根據 Decoder 結果實現預測的&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnazpm"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnazpm"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;解碼組件的輸出是一個實數的向量，我們如何能夠把這些浮點數變成一個單詞？這便是後面的 linear+softmax 模塊需要做的。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1bt2"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1bt2"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;線性變換層是一個簡單的全連接層神經網絡，它可以把 Decoder 產生的向量矩陣投射到一個比它大的多的一個被稱為&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;對數幾率的向量&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;裏（logits，&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;維度為&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;vocab_size），&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;表示模型對每個詞彙的「原始分數」&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;。&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;例如，詞表有 30000 個詞，則輸出一個 30000 維的向量，並且每個單元格里都對應某一個單詞的分數。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1bt2"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna2w3"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;最後會通過 softmax 層，把這些分數轉換成概率信息，&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;概率最高的單元格&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;則會被選中，並且它對應的單詞作為&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;font-weight: bold;"&gt;這個時間步的輸出&lt;/span&gt;&lt;/span&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;，具體流程如下圖所示。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1em;" data-mpa-action-id="mbu73dna2w3"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dnayhd"&gt; 
  &lt;span style="min-height: 16px;font-size: 16px;color: rgb(13, 18, 57);"&gt;&lt;/span&gt; 
  &lt;span style="font-size: 15px;"&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" nodeleaf=""&gt; 
    &lt;span textstyle="" style="letter-spacing: 1px;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/271cec5c-c229-4602-bd3c-d3b0aa5a9a9d.png" class="rich_pages wxw-img" data-ratio="NaN" data-w="1000" style="left:0px;top:0px;width:100%;" data-backw="578" data-backh="370" referrerpolicy="no-referrer"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/span&gt; 
  &lt;span style="min-height: 16px;font-size: 16px;color: rgb(13, 18, 57);"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnabac"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin: 8px 0px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);min-height: 24px;line-height: 1.75em;text-align: center;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-size: 15px;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/8b7f2180-7801-4c25-a3d7-3c1c7e6ef421.png" alt="圖片" class="rich_pages wxw-img" data-ratio="0.3425196850393701" data-s="300,640" data-type="png" data-w="254" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;display: initial;width: 130px !important;visibility: visible !important;" referrerpolicy="no-referrer"&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);color: rgb(100, 99, 99);font-size: 15px;text-align: center;line-height: normal;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: mp-quote, &amp;quot;PingFang SC&amp;quot;, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;text-align: justify;font-size: 18px;color: rgb(0, 17, 255);"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;總結&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1tyw"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1tyw"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;1. Transformer 由 Encoder、Decoder、位置編碼模塊組成&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;ol style="list-style-type: lower-alpha;" class="list-paddingleft-1"&gt; 
  &lt;li&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1pwc"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Encoder 用來對輸入序列進行高緯度特徵提取，並生成編碼後的向量信息&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
  &lt;li&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dna1i2j"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;因為 Encoder 獲取不到序列之間的位置信息，所以需要位置編碼模塊對其進行位置特徵的補充，從而讓模型能夠擁有語義信息+位置信息的特徵&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
  &lt;li&gt; 
   &lt;section style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;" data-mpa-action-id="mbu73dnaohr"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;Decoder 基於已生成的結果和 Encoder 的輸入進行生成最終目標序列&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
 &lt;/ol&gt; 
 &lt;section data-mpa-action-id="mbu73dnay2m" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;2. Self-Attention 可以同時關注序列中的所有元素，而不像傳統的 RNN 或 LSTM 那樣需要逐步處理。這使得它能夠並行計算，訓練速度更快，同時也能更好地捕捉長距離依賴關係。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna1a8m" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;3. Multi-Head Attention 實際是多個 Self-Attention 機制的疊加，它的作用是讓模型能夠同時從多個角度捕捉輸入序列中不同位置之間的依賴關係，從而更全面地理解上下文信息&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna1rw4" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;4. 一句話總結 Transformer 的作用：可以處理序列數據（如文本、語音等），並能夠高效地捕捉序列中元素之間的依賴關係，從而完成各種複雜的語言任務。&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna1rw4" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin: 8px 0px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);min-height: 24px;line-height: 1.75em;text-align: center;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-size: 15px;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/167df729-1981-4094-8db6-9f5c8fe116cd.png" alt="圖片" class="rich_pages wxw-img" data-ratio="0.325" data-s="300,640" data-type="png" data-w="1000" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;display: initial;width: 130px !important;visibility: visible !important;" data-croporisrc="https://oscimg.oschina.net/oscnet/c562bcba-5c3a-4ed6-a1af-fdd10054099e.png" data-cropselx2="130" data-cropsely2="45" data-imgfileid="503056213" referrerpolicy="no-referrer"&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);color: rgb(100, 99, 99);font-size: 15px;text-align: center;line-height: normal;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: mp-quote, &amp;quot;PingFang SC&amp;quot;, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;text-align: justify;font-size: 18px;color: rgb(0, 17, 255);"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;參考&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dna1ton" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;ul style="list-style-type: disc;" class="list-paddingleft-1"&gt; 
  &lt;li&gt; 
   &lt;section data-mpa-action-id="mbu73dna1ton" style="text-indent: 0px;text-align: left;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;《Attention Is All You Need》&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;https://arxiv.org/pdf/1706.03762&lt;/span&gt;&lt;/span&gt; 
    &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
  &lt;li&gt; 
   &lt;section data-mpa-action-id="mbu73dna8zn" style="text-indent: 0px;text-align: left;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;《The Illustrated Transformer&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;》&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;https://jalammar.github.io/illustrated-transformer/&lt;/span&gt;&lt;/span&gt; 
    &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
  &lt;li&gt; 
   &lt;section data-mpa-action-id="mbu73dnaz0b" style="text-indent: 0px;text-align: left;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;《Transformer 模型詳解（圖解最完整版）&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;》&lt;/span&gt;&lt;/span&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;https://zhuanlan.zhihu.com/p/338817680&lt;/span&gt;&lt;/span&gt; 
    &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
  &lt;li&gt; 
   &lt;section data-mpa-action-id="mbu73dnaxop" style="text-indent: 0px;text-align: left;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
    &lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;《超詳細圖解 Self-Attention》&lt;/span&gt;&lt;/span&gt; 
    &lt;span style="text-indent: 0px;line-height: 1.75em;font-size: 15px;"&gt;&lt;span leaf="" style="font-size: 15px;"&gt;&lt;span textstyle="" style="letter-spacing: 1px;"&gt;https://zhuanlan.zhihu.com/p/410776234&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 
   &lt;/section&gt;&lt;/li&gt; 
 &lt;/ul&gt; 
 &lt;section data-mpa-action-id="mbu73dnaxop" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-pm-slice="3 3 []" style="-webkit-tap-highlight-color: transparent;margin: 8px 0px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);min-height: 24px;line-height: 1.75em;text-align: center;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-size: 15px;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;img src="https://oscimg.oschina.net/oscnet/3cc408de-910a-48f7-9ebd-b91e0a25e83e.png" class="rich_pages wxw-img" data-ratio="0.3161764705882353" data-s="300,640" data-type="png" data-w="408" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;vertical-align: bottom;height: auto !important;display: initial;width: 130px !important;visibility: visible !important;" data-croporisrc="https://oscimg.oschina.net/oscnet/fdb6f1a0-9ae4-402b-96ed-8749075e4a84.png" data-cropselx2="130" data-cropsely2="41" data-imgfileid="503056264" referrerpolicy="no-referrer"&gt;&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);color: rgb(100, 99, 99);font-size: 15px;text-align: center;line-height: normal;"&gt; 
  &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: mp-quote, &amp;quot;PingFang SC&amp;quot;, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;text-align: justify;font-size: 18px;color: rgb(0, 17, 255);"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;團隊介紹&lt;/span&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbt0exmzmfl" style="-webkit-tap-highlight-color: transparent;margin: 8px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;background-color: rgb(255, 255, 255);visibility: visible;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;background-color: rgba(0, 0, 0, 0);color: rgba(0, 0, 0, 0.9);font-size: 15px;font-style: normal;font-weight: 400;letter-spacing: 1px;text-decoration: none solid rgba(0, 0, 0, 0.9);clear: both;min-height: 24px;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;line-height: 1.75em;visibility: visible;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;p style="-webkit-tap-highlight-color: transparent;margin: 8px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;clear: both;min-height: 24px;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;line-height: 1.75em;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;background-color: rgba(0, 0, 0, 0);color: rgba(0, 0, 0, 0.9);font-size: 15px;font-style: normal;font-weight: 400;letter-spacing: 1px;text-decoration: none solid rgba(0, 0, 0, 0.9);clear: both;min-height: 24px;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;line-height: 1.75em;visibility: visible;"&gt;本文作者逾末，來自淘天集團-直播技術團隊。淘寶直播作為全球領先的直播電商平台，正在重新定義人與商品、人與內容的連接方式。我們致力於打造沉浸式、互動式的購物體驗，讓數億用户在這裏發現好貨、感受樂趣。無論是時尚穿搭、美食評測，還是科技新品發佈，淘寶直播都在引領電商行業的創新潮流。同時淘寶直播也在推進打造行業領先的 AI 數字人技術，實現虛擬主播、智能互動、個性化推薦等創新功能。&lt;/span&gt;&lt;/p&gt; 
 &lt;section data-mpa-action-id="mbt0exmzmfl" style="-webkit-tap-highlight-color: transparent;margin: 8px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;background-color: rgb(255, 255, 255);visibility: visible;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;background-color: rgba(0, 0, 0, 0);color: rgba(0, 0, 0, 0.9);font-size: 15px;font-style: normal;font-weight: 400;letter-spacing: 1px;text-decoration: none solid rgba(0, 0, 0, 0.9);clear: both;min-height: 24px;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;line-height: 1.75em;visibility: visible;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbt0exmzmfl" style="-webkit-tap-highlight-color: transparent;margin: 8px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;clear: both;min-height: 24px;background-color: rgb(255, 255, 255);visibility: visible;line-height: 1.75em;"&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;background-color: rgba(0, 0, 0, 0);color: rgba(0, 0, 0, 0.9);font-size: 15px;font-style: normal;font-weight: 400;letter-spacing: 1px;text-decoration: none solid rgba(0, 0, 0, 0.9);clear: both;min-height: 24px;font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-variant-ligatures: normal;font-variant-caps: normal;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;line-height: 1.75em;visibility: visible;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbt0exmzmfl" style="-webkit-tap-highlight-color: transparent;margin: 0px 0px 24px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbt0exmzmfl" style="-webkit-tap-highlight-color: transparent;margin: 0px 0px 24px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"&gt; 
  &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-role="outer" label="Powered by 135editor.com" data-pm-slice="0 0 []" style="-webkit-tap-highlight-color: transparent;margin: 0px 0px 24px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;visibility: visible;"&gt; 
  &lt;section style="-webkit-tap-highlight-color: transparent;margin: 8px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 0.544px;font-size: 16px;word-break: break-all;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &amp;quot;PingFang SC&amp;quot;, Cambria, Cochin, Georgia, Times, &amp;quot;Times New Roman&amp;quot;, serif;text-align: center;line-height: 1.75em;"&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(0, 17, 255);"&gt;&lt;strong style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;¤&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;strong style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&amp;nbsp;拓展閲讀&amp;nbsp;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(0, 17, 255);"&gt;&lt;strong style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;¤&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;/section&gt; 
  &lt;section style="-webkit-tap-highlight-color: transparent;margin: 8px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 0.544px;font-size: 16px;word-break: break-all;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &amp;quot;PingFang SC&amp;quot;, Cambria, Cochin, Georgia, Times, &amp;quot;Times New Roman&amp;quot;, serif;text-align: center;line-height: 1.75em;"&gt; 
   &lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;br&gt;&lt;/span&gt; 
  &lt;/section&gt; 
  &lt;section style="-webkit-tap-highlight-color: transparent;margin: 8px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-indent: 0em;text-align: center;min-height: 24px;clear: both;visibility: visible;line-height: 1.75em;"&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;a class="normal_text_link" target="_blank" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);margin: 0px;padding: 0px;outline: 0px;color: rgb(87, 107, 149);text-decoration: none;-webkit-user-drag: none;cursor: pointer;max-width: 100%;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D2565944923443904512%23wechat_redirect" textvalue="3DXR 技術" linktype="text" data-linktype="2"&gt;3DXR 技術&lt;/a&gt;&lt;/span&gt;&lt;/span&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&amp;nbsp;|&amp;nbsp;&lt;/span&gt;&lt;/span&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;a class="normal_text_link" target="_blank" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);margin: 0px;padding: 0px;outline: 0px;color: rgb(87, 107, 149);text-decoration: none;-webkit-user-drag: none;cursor: pointer;max-width: 100%;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1533906991218294785%23wechat_redirect" textvalue="終端技術" linktype="text" data-linktype="2"&gt;終端技術&lt;/a&gt;&lt;/span&gt;&lt;/span&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&amp;nbsp;|&amp;nbsp;&lt;/span&gt;&lt;/span&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;a class="normal_text_link" target="_blank" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);margin: 0px;padding: 0px;outline: 0px;color: rgb(87, 107, 149);text-decoration: none;-webkit-user-drag: none;cursor: pointer;max-width: 100%;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1592015847500414978%23wechat_redirect" textvalue="音視頻技術" linktype="text" data-linktype="2"&gt;音視頻技術&lt;/a&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;/section&gt; 
  &lt;section style="-webkit-tap-highlight-color: transparent;margin: 8px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;min-height: 24px;font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-indent: 0em;text-align: center;visibility: visible;line-height: 1.75em;"&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;a class="normal_text_link" target="_blank" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);margin: 0px;padding: 0px;outline: 0px;color: rgb(87, 107, 149);text-decoration: none;-webkit-user-drag: none;cursor: pointer;max-width: 100%;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1539610690070642689%23wechat_redirect" textvalue="服務端技術" linktype="text" data-linktype="2"&gt;服務端技術&lt;/a&gt;&lt;/span&gt;&lt;/span&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&amp;nbsp;|&amp;nbsp;&lt;/span&gt;&lt;/span&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;a class="normal_text_link" target="_blank" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);margin: 0px;padding: 0px;outline: 0px;color: rgb(87, 107, 149);text-decoration: none;-webkit-user-drag: none;cursor: pointer;max-width: 100%;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D2565883875634397185%23wechat_redirect" textvalue="技術質量" linktype="text" data-linktype="2"&gt;技術質量&lt;/a&gt;&lt;/span&gt;&lt;/span&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&amp;nbsp;|&amp;nbsp;&lt;/span&gt;&lt;/span&gt; 
   &lt;span style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;letter-spacing: 1px;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;a class="normal_text_link" target="_blank" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);margin: 0px;padding: 0px;outline: 0px;color: rgb(87, 107, 149);text-decoration: none;-webkit-user-drag: none;cursor: pointer;max-width: 100%;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1522425612282494977%23wechat_redirect" textvalue="數據算法" linktype="text" data-linktype="2"&gt;數據算法&lt;/a&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;/section&gt; 
  &lt;p style="-webkit-tap-highlight-color: transparent;margin: 8px 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;clear: both;min-height: 24px;font-family: &amp;quot;PingFang SC&amp;quot;, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-indent: 0em;text-align: center;line-height: 1.75em;visibility: visible;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt; 
  &lt;section nodeleaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px 0px 24px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt; 
   &lt;mp-common-profile class="js_uneditable js_wx_tap_highlight" data-pluginname="mpprofile" data-nickname="大淘寶技術" data-alias="AlibabaMTT" data-index="0" data-from="2" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju8t5nZGhAatCrc4e2iaDfAaoInribRKxc7MOqdTGygfcLqSDxhj0trCHVEh94Sjl7zuWYzwouYtJ0VQ/300?wx_fmt=png&amp;amp;wxfrom=19" data-signature="大淘寶技術官方賬號" data-id="MzAxNDEwNjk5OQ==" data-is_biz_ban="0" data-origin_num="835" data-biz_account_status="0" data-verify_status="2"&gt;&lt;/mp-common-profile&gt; 
  &lt;/section&gt; 
 &lt;/section&gt; 
 &lt;p style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;clear: both;min-height: 1em;color: rgba(0, 0, 0, 0.9);font-family: &amp;quot;PingFang SC&amp;quot;, system-ui, -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif;font-size: 17px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;"&gt;&lt;span leaf="" style="-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt; 
 &lt;section data-mpa-action-id="mbu73dnaxop" style="text-indent: 0px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"&gt; 
  &lt;span style="text-indent: 0px;text-align: justify;line-height: 1.75em;font-size: 15px;"&gt;&lt;span leaf="" style="font-size: 15px;"&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section data-mpa-action-id="mbu73dnaqvm"&gt; 
  &lt;span style="font-size: 14px;"&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;section&gt; 
  &lt;span leaf=""&gt;&lt;br&gt;&lt;/span&gt; 
 &lt;/section&gt; 
 &lt;p style="display: none;"&gt; 
  &lt;mp-style-type data-value="3"&gt;&lt;/mp-style-type&gt;&lt;/p&gt; 
&lt;/div&gt; 
&lt;p style="color: #858585; font-size: 13px;"&gt;本文分享自微信公眾號 - 大淘寶技術（AlibabaMTT）。&lt;br&gt;如有侵權，請聯繫 support@oschina.cn 刪除。&lt;br&gt;本文參與「&lt;a href="https://www.oschina.net/sharing-plan" target="_blank"&gt;OSC 源創計劃&lt;/a&gt;」，歡迎正在閲讀的你也加入，一起分享。&lt;/p&gt;
                                                                                    &lt;/div&gt;
                                                                            </description>
      <link>https://my.oschina.net/u/4662964/blog/18627316</link>
      <guid isPermaLink="false">https://my.oschina.net/u/4662964/blog/18627316</guid>
      <pubDate>Sun, 11 May 2025 03:08:00 GMT</pubDate>
      <author>原創</author>
    </item>
    <item>
      <title>MiniMax 發佈視頻生成大模型 Hailuo 02</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;MiniMax 宣佈推出視頻生成大模型 Hailuo 02，這個模型支持文生視頻，圖生視頻，甚至添加人物照片作為索引來生成人物在其他場景內互動的視頻。&lt;/p&gt; 
&lt;p&gt;MiniMax 放出的視頻案例中，展現了噴火、鑽火圈、連續後空翻、高空走鋼絲等超高難度雜技動作。&lt;/p&gt; 
&lt;p&gt;&lt;img height="1060" src="https://static.oschina.net/uploads/space/2025/0618/105105_xMFv_2720166.png" width="1048" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;具體來看，Hailuo 02 可以實現逼真物理效果、精確物體交互、流體動力學和自然的運動模式，甚至能復刻雜技表演。&lt;/p&gt; 
&lt;p&gt;在 Artificial Analysis Video Arena Leaderboard 最新排名中，在圖像生視頻類別下，Hailuo 02 目前與 Veo3、Seedance-1.0-pro 處於排行榜前三的位置。&lt;/p&gt; 
&lt;p&gt;&lt;img height="1418" src="https://static.oschina.net/uploads/space/2025/0618/104927_qXcE_2720166.png" width="1598" referrerpolicy="no-referrer"&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355933/minimax-hailuo-02</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355933/minimax-hailuo-02</guid>
      <pubDate>Sun, 11 May 2025 02:53:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>騰訊元寶電腦版上線 AI 編程模式</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;騰訊元寶於 6 月 17 日&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FdzxRkhiptJ2xuc7iWeMwoQ" target="_blank"&gt;發佈更新&lt;/a&gt;，正式上線 AI 編程模式。該功能已在元寶電腦版 2.25 版本中推出。&lt;/p&gt; 
&lt;p&gt;用户在電腦版選擇 DeepSeek 模型並關閉深度思考後，輸入「@AI 編程」後，即可通過雙欄界面，在左側對話生成代碼，右側實時展示並支持預覽運行。&lt;/p&gt; 
&lt;p&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet/up-c7a712000aa674f9547c40f9e99b7a07ff8.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;據介紹，除此前已支持直接運行 HTML 外，在騰訊雲代碼助手 CodeBuddy 的技術支持下，現在元寶還能在線運行 Python、Java、C++、JavaScript、Go、Fortran 等多種語言的在線運行，均無需部署環境。不僅元寶 DeepSeek-V3 模型支持雙欄編程，其他模型也支持一句話寫代碼。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355926</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355926</guid>
      <pubDate>Sun, 11 May 2025 02:32:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>谷歌推出輕量級模型 Gemini 2.5 Flash-Lite</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;&lt;span style="color:#000000"&gt;谷歌發文&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.google%2Fproducts%2Fgemini%2Fgemini-2-5-model-family-expands%2F" target="_blank"&gt;宣佈&lt;/a&gt;，Gemini 2.5 Flash 和 Gemini 2.5 Pro 模型進入穩定階段，同時推出全新輕量級模型 Gemini 2.5 Flash-Lite 預覽版 —— "這是我們迄今為止最經濟實惠、、速度最快的 2.5 模型"。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;公告稱，2.5 Flash Lite 在編碼、數學、科學、推理和多模態基準測試中全面超越 2.0 Flash-Lite。它在翻譯和分類等高容量、延遲敏感的任務中表現出色，在廣泛的任務樣本中，延遲低於 2.0 Flash-Lite 和 2.0 Flash。它具備 Gemini 2.5 的諸多實用功能，包括在不同預算下開啓思維、連接 Google 搜索和代碼執行等工具、多模態輸入以及 100 萬個 token 的上下文長度。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;可&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fstorage.googleapis.com%2Fdeepmind-media%2Fgemini%2Fgemini_v2_5_report.pdf" target="_blank"&gt;在最新的 Gemini 技術報告&lt;/a&gt;&lt;span style="color:#000000"&gt;中查看有關 2.5 系列型號的更多詳細信息。&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;&lt;img alt="" height="550" src="https://oscimg.oschina.net/oscnet/up-9a697505bd2fc209bd5447bda5db3bcb55b.gif" width="500" referrerpolicy="no-referrer"&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span style="color:#000000"&gt;目前，Gemini 2.5 Flash-Lite 預覽版已在 Google AI Studio 和 Vertex AI 中上線，同時還提供 2.5 Flash 和 Pro 穩定版。2.5 Flash 和 Pro 版本均可在 Gemini 應用中訪問。谷歌方面還為 Google 搜索功能引入了 2.5 Flash-Lite 和 Flash 的定製版本。&lt;/span&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355920/gemini-2-5-flash-lite</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355920/gemini-2-5-flash-lite</guid>
      <pubDate>Sun, 11 May 2025 02:10:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>smart-mqtt v1.2.0 已經發布，MQTT Broker 服務</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;smart-mqtt v1.2.0 已經發布，MQTT Broker 服務&lt;/p&gt;
&lt;p&gt;此版本更新內容包括：&lt;/p&gt;
&lt;h1&gt;smart-mqtt v1.2.0 正式發佈&lt;/h1&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;經過持續打磨與優化，我們很高興地宣佈 &lt;strong&gt;smart-mqtt v1.2.0&lt;/strong&gt; 正式發佈！作為 Java 生態中最輕量級的 MQTT Broker 解決方案，本次版本聚焦於&lt;strong&gt;性能優化與資源管理增強&lt;/strong&gt;，進一步提升了系統在高併發場景下的穩定性與效率。&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h2&gt;核心更新亮點&lt;/h2&gt; 
&lt;h3&gt;✅ 性能與穩定性提升&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;strong&gt;異步 + 批處理機制&lt;/strong&gt;：優化指標數據入庫流程，降低數據庫寫入壓力。&lt;/li&gt; 
 &lt;li&gt; &lt;strong&gt;智能資源回收&lt;/strong&gt;：自動識別閒置 Topic 並釋放內存資源；h2 數據庫默認啓用文件持久化模式，避免長期運行內存過高。&lt;/li&gt; 
 &lt;li&gt; &lt;strong&gt;訂閲結構重構&lt;/strong&gt;：優化大規模 Topic 訂閲場景下的處理效率。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;✅ 功能優化與修復&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;修復 MqttClient 在特定情況下丟失 version 字段的問題&lt;/li&gt; 
 &lt;li&gt;規範 retain 消息實現邏輯&lt;/li&gt; 
 &lt;li&gt;改進啓動日誌輸出體驗&lt;/li&gt; 
 &lt;li&gt;增強新版本檢測與壓測工具重連功能&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;✅ 依賴精簡&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt;移除 &lt;code&gt;commons-lang&lt;/code&gt; 和 &lt;code&gt;slf4j&lt;/code&gt; 等第三方依賴包，減少潛在衝突，進一步減小發行包體積。&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;組件升級&lt;/h2&gt; 
&lt;table&gt; 
 &lt;tbody&gt;
  &lt;tr&gt; 
   &lt;th&gt;組件&lt;/th&gt; 
   &lt;th&gt;升級至版本&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt;
 &lt;tbody&gt; 
  &lt;tr&gt; 
   &lt;td&gt;feat&lt;/td&gt; 
   &lt;td&gt;1.1.0&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;smart-socket&lt;/td&gt; 
   &lt;td&gt;1.5.69&lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;h2&gt;獲取方式&lt;/h2&gt; 
&lt;ul&gt; 
 &lt;li&gt;GitHub 鏡像地址：&lt;a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fsmartboot%2Fsmart-mqtt" target="_blank" rel="nofollow"&gt;https://github.com/smartboot/smart-mqtt&lt;/a&gt; &lt;/li&gt; 
 &lt;li&gt;Gitee 主倉庫：&lt;a href="https://gitee.com/smartboot/smart-mqtt" target="_blank" rel="nofollow"&gt;https://gitee.com/smartboot/smart-mqtt&lt;/a&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;快速部署（Docker）&lt;/h2&gt; 
&lt;div class="markdown-code-block"&gt; 
 &lt;pre class="bash"&gt;&lt;code&gt;docker run --name smart-mqtt \
  -p 18083:18083 \
  -p 1883:1883 \
  -d smartboot/smart-mqtt:latest
&lt;/code&gt;&lt;/pre&gt; 
 &lt;div class="markdown-code-block-copy-btn"&gt;&lt;/div&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
 &lt;li&gt;Web 控制枱訪問地址：&lt;code&gt;http://localhost:18083&lt;/code&gt; &lt;/li&gt; 
 &lt;li&gt;MQTT 通信端口：&lt;code&gt;1883&lt;/code&gt; &lt;/li&gt; 
&lt;/ul&gt;
&lt;p&gt;詳情查看：&lt;a href="https://gitee.com/smartboot/smart-mqtt/releases/v1.2.0" rel="nofollow"&gt;https://gitee.com/smartboot/smart-mqtt/releases/v1.2.0&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355918</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355918</guid>
      <pubDate>Sun, 11 May 2025 02:06:00 GMT</pubDate>
      <author>來源: 投稿</author>
    </item>
    <item>
      <title>Mozilla Firefox 新增了固定和取消固定標籤頁的方法</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;Mozilla Firefox 最近推出了一項備受期待的功能：垂直標籤頁。該功能於 2025 年 3 月作為 Firefox 136 更新的一部分推出。&lt;/p&gt; 
&lt;p&gt;現在，Mozilla 在其瀏覽器中推出了另一項備受歡迎的標籤頁管理改進，使用户能夠更輕鬆地在 Firefox 中固定和取消固定標籤頁。&lt;/p&gt; 
&lt;p&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet/up-93cb835b446a292e28f4b205592bd446ffe.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;在最新的 Firefox Nightly 更新中，&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbugzilla.mozilla.org%2Fshow_bug.cgi%3Fid%3D1944907" target="_blank"&gt;Mozilla 引入了&lt;/a&gt;一種全新的標籤頁固定或取消固定方式：&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;您只需將當前頁面拖拽至另一個已固定的標籤頁即可將其固定，或將其拖拽出即可取消固定&lt;/strong&gt;。&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;就這麼簡單。新的邏輯適用於垂直和水平標籤頁視圖，並且無需使用上下文菜單。唯一的前提條件是，您需要至少有一個已固定的標籤頁才能使用拖動功能。否則，您只能將標籤頁移動到標籤頁的任意位置。&lt;/p&gt; 
&lt;p&gt;&lt;img src="https://static.oschina.net/uploads/space/2025/0617/190024_Z6WI_2720166.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;很高興看到 Firefox 為用户實現了這項小小的便利。然而，一些人認為它仍有改進空間。拖動標籤頁固然很酷，但專門的快捷方式或許能更好、更快捷地固定或取消固定標籤頁。不過，其他主流瀏覽器也缺乏這項功能。&lt;/p&gt; 
&lt;p&gt;改進的標籤頁固定功能現已在 Firefox Nightly 中推出，這是最不穩定的更新渠道。Mozilla 使用它來測試早期更改和重大平台變更，這些變更可能存在錯誤、不穩定或破壞功能。&lt;/p&gt; 
&lt;p&gt;因此，將 Nightly 版本作為您的主瀏覽器可能不是一個好主意。不過，您可以同時運行 Firefox Nightly 和其他渠道進行測試。如果您感興趣，可以通過此鏈接從官方網站獲取。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355850</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355850</guid>
      <pubDate>Sat, 10 May 2025 11:00:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>OpenAI 與美國國防部簽署 2 億美元合同</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p style="color:#242424; margin-left:0; margin-right:0; text-align:left"&gt;OpenAI 宣佈與美國國防部達成了一項重磅合作，獲得了一份價值 2 億美元的為期一年的合同。這項合同旨在為國防部開發先進的人工智能工具，幫助應對一系列國家安全挑戰。五角大樓在聲明中指出，這項工作將主要在華盛頓及其周邊地區進行，預計將於 2026 年 7 月完成。&lt;/p&gt; 
&lt;p style="color:#242424; margin-left:0; margin-right:0; text-align:left"&gt;這是 OpenAI&lt;span&gt;首次&lt;/span&gt;與美國國防部簽署合同，標誌着其在國家安全領域的深入佈局。隨着全球安全形勢的不斷變化，人工智能技術在軍事和安全領域的應用愈發重要。五角大樓表示，OpenAI 將致力於開發前沿的 AI 原型，以應對作戰和企業領域的關鍵挑戰。&lt;/p&gt; 
&lt;p style="color:#242424; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img height="233" src="https://oscimg.oschina.net/oscnet/up-bd93bf619f02cc812ac5e03db9d4a666430.png" width="500" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p style="color:#242424; margin-left:0; margin-right:0; text-align:left"&gt;值得一提的是，初創公司 Anduril 去年底也獲得了一項 1 億美元的國防合同，而 OpenAI 的競爭對手 Anthropic 則在與 Palantir 和亞馬遜合作，提供其 AI 模型給美國的國防和情報機構。此外，OpenAI 去年曾與 Anduril 合作，專注於提升反無人機系統的能力，以應對空中威脅。&lt;/p&gt; 
&lt;p style="color:#242424; margin-left:0; margin-right:0; text-align:left"&gt;OpenAI 的聯合創始人兼首席執行官 Sam Altman 在一次關於 AI 與國家安全的峯會上表示，他們希望能夠積極參與國家安全領域的發展。儘管這次合同金額不算龐大，但在 OpenAI 年化收入已經飆升至 100 億美元的背景下，這項合作仍然意義深遠。&lt;/p&gt; 
&lt;p style="color:#242424; margin-left:0; margin-right:0; text-align:left"&gt;今年 3 月，OpenAI 還宣佈了新一輪融資計劃，軟銀集團領投，融資額預計達到 400 億美元，投後估值將達 3000 億美元。而截至 3 月底，OpenAI 的每週活躍用户數已達到 5 億。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355848</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355848</guid>
      <pubDate>Sat, 10 May 2025 10:16:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>SCALE 正式開源：一個面向專業級任務的大語言模型 SQL 能力評測框架</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;隨着大語言模型（LLM）在數據科學領域的應用日益廣泛，學術界和工業界湧現出多種評測基準。然而，我們觀察到，現有評測體系大多聚焦於&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;Text-to-SQL&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;的轉換準確率，而這遠不能全面反映模型在真實、複雜場景下的 SQL 處理能力。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;為了彌補這一關鍵空白，我們經過深入研究，提出了&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;SCALE ------ 一個面向專業級任務的大語言模型 SQL 能力開源評測框架&lt;/strong&gt;。我們致力於通過開放、透明和社區驅動的方式，建立一個行業公認的評估標準。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;img alt="https://sql-llm-leaderboard.com/" src="https://oscimg.oschina.net/oscnet/up-d8de9745f7ddaa54f1659f6175dcbe78d5b.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;h2&gt;背景：現有 LLM-SQL 評測的侷限性&lt;/h2&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;近年來，大語言模型處理結構化查詢語言（SQL）的能力取得了長足進步。一系列公開的評測基準（Benchmark）也應運而生，它們在很大程度上推動了模型在 Text-to-SQL 任務上的發展。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;儘管如此，我們發現現有的評測體系仍存在顯著的侷限性。在專業的數據庫管理和軟件開發實踐中，開發者面臨的挑戰遠比 "將一句話轉為 SQL" 要複雜得多：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;性能是生命線&lt;/strong&gt;：一個能返回正確結果但執行耗時數分鐘的查詢，在生產環境中是不可接受的。現有評測很少關注模型生成 SQL 的性能和效率。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;環境是多樣的&lt;/strong&gt;：數據庫遷移和跨平台適配是常見需求。但模型能否精準處理不同數據庫（如 MySQL，Oracle，PostgreSQL）之間的 "方言" 差異，現有評測也鮮有涉及。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;理解是深度的&lt;/strong&gt;：維護、審查和重構遺留代碼是開發者的日常。這要求模型不僅能 "寫" 代碼，更能深度 "理解" 代碼的邏輯、意圖和潛在風險。這一點同樣是當前評測的薄弱環節。&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;現有評測的單一視角，使得開發者和決策者在面對真實、複雜的業務需求時，難以選擇出真正合適的模型。&lt;/p&gt; 
&lt;h2&gt;我們的解決方案：SCALE 評測框架&lt;/h2&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;為了系統性地解決上述問題，我們設計並實現了&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;SCALE&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;(SQL Capability Leaderboard for LLMs)&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;大模型 SQL 能力排行榜&lt;/strong&gt;。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;strong&gt;SCALE&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;並非對現有評測的簡單復現，而是一個從數據庫專家和資深開發者真實工作流出發，構建的全新、完全開源的評測框架。我們相信，只有&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;開放源代碼、開放數據、開放方法&lt;/strong&gt;，才能建立最廣泛的行業信任。&lt;/p&gt; 
&lt;h2&gt;評測基石：一個高質量、多層次的數據集&lt;/h2&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;一個評測框架的公信力，源於其評測數據的質量與廣度。為此，我們構建了一個高質量、多層次、貼近真實世界的數據集，並將其向社區完全開放。&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;真實世界案例&lt;/strong&gt;：我們收集並脱敏了來自不同行業的真實查詢案例。這些案例作為數據集的基礎，確保了評測內容與生產環境的實際挑戰保持一致。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;AI 輔助的典型場景構造&lt;/strong&gt;：為提升測試集的覆蓋深度，我們針對容易引發邏輯錯誤或性能問題的複雜場景，如子查詢、多表連接、嵌套查詢、存儲過程等，利用 AI 輔助構造了大量細粒度的測試用例，旨在精準評估模型在處理複雜查詢時的邏輯穩健性與準確性。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;評分權重設計&lt;/strong&gt;：為區分不同任務的複雜度，我們為測試用例設置了不同的評分權重。通常，技術複雜度更高的用例會獲得更高的權重。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;答案驗證&lt;/strong&gt;：所有測試用例的參考答案均經過交叉驗證，以確保其準確性。&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;三大核心評測維度&lt;/h2&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;基於這一強大的數據集，SCALE 通過三個相互獨立的核心維度，深入考察模型在處理高價值、高複雜度 SQL 任務時的真實水平。&lt;/p&gt; 
&lt;h3&gt;⚡ SQL 優化能力 (SQL Optimization)&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;研究問題&lt;/strong&gt;：模型是否具備數據庫專家（DBA）的性能優化意識？&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;評估方法&lt;/strong&gt;：我們為模型提供一系列典型的低性能查詢，評估其能否在保證邏輯等價的前提下，改寫出性能更優的版本。評測指標不僅包含語法正確性，更引入了對優化規則複雜度的量化評估，以衡量其優化策略的優劣。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;應用場景&lt;/strong&gt;：當您需要進行數據庫性能調優或代碼重構時，此維度的評測結果將為您提供關鍵參考。&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;🔄 方言轉換能力 (Dialect Conversion)&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;研究問題&lt;/strong&gt;：模型能否成為一個可靠的、跨數據庫平台的 "代碼翻譯官"？&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;評估方法&lt;/strong&gt;：我們評估模型在多種主流數據庫 "方言" 之間進行轉換的邏輯保真度與語法準確性，確保其轉換結果是 "開箱即用" 且完全可靠的。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;應用場景&lt;/strong&gt;：對於面臨數據庫遷移、構建跨平台數據中台等挑戰的團隊，此維度的領先模型是首選。&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;📊 SQL 理解能力 (SQL Understanding)&lt;/h3&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;研究問題&lt;/strong&gt;： 除了寫代碼，模型對 SQL 的理解有多深？&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;評估方法&lt;/strong&gt;： 我們從執行結果準確性、語法錯誤識別、執行計劃分析、查詢類型判斷等多個角度，全面考察模型對 SQL 代碼的深度分析能力。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;應用場景&lt;/strong&gt;： 在進行代碼審查（Code Review）、遺留系統維護、自動化代碼分析等工作中，此維度的評測結果能幫您找到最 "懂"SQL 的 AI 助手。&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;SCALE 的價值與應用&lt;/h2&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;我們相信，一個嚴謹、貼近實踐的評測框架，能為不同角色的專業人士創造價值：&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;對於數據與軟件開發人員&lt;/strong&gt;：提升開發效率，保障交付質量。SCALE 能幫您快速找到最稱手的 AI 工具，處理優化、遷移、代碼審查等專業任務，將寶貴的精力聚焦於更有創造性的工作上。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;對於 AI 研究員與模型開發者&lt;/strong&gt;：精準定位座標，指明迭代方向。SCALE 透明的評測方法和開源的數據集，能清晰揭示您模型在專業 SQL 任務上的長處與短板，為下一階段的優化和訓練提供明確的、可量化的目標。&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;&lt;strong&gt;對於企業 CTO 與技術決策者&lt;/strong&gt;：降低技術風險，驅動業務創新。基於 SCALE 客觀、中立的數據做出技術選型，能確保您為企業引入的 AI 能力是真正可靠、高效的，從而賦能團隊，構建更健壯的數據基礎設施。&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;h2&gt;結論與展望&lt;/h2&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;我們推出 SCALE，旨在為社區提供一個更專業、更深入、更貼近真實需求的 LLM SQL 能力評估標準。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;&lt;strong&gt;作為一個開源項目，我們深知社區的力量是其生命力的源泉&lt;/strong&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;。 我們不僅發佈評測結果，更開放所有評測腳本、數據集和方法論。我們誠摯地邀請您探索 SCALE 的評測結果，利用這一工具為您的研究和工作做出更精準的技術判斷。更重要的是，我們歡迎您&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;strong&gt;加入我們的社區&lt;/strong&gt;，貢獻代碼、提交測試用例或提出寶貴建議。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;讓我們一同完善 SCALE 的評測體系，共同推動大語言模型在數據庫領域的應用走向新的深度。&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;探索 SCALE 實時排行榜 -&amp;gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fsql-llm-leaderboard.com%2F" target="_blank"&gt;https://sql-llm-leaderboard.com/&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
 &lt;li&gt; &lt;p style="margin-left:0; margin-right:0"&gt;瞭解評測方法與技術細節 -&amp;gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Factiontech%2Fsql-llm-benchmark" target="_blank"&gt;https://github.com/actiontech/sql-llm-benchmark&lt;/a&gt;&lt;/p&gt; &lt;/li&gt; 
&lt;/ul&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;SCALE：為專業 SQL 任務，選專業 AI 模型。&lt;/p&gt; 
&lt;p style="color:#333333; margin-left:0; margin-right:0; text-align:left"&gt;更多技術文章，請訪問：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fopensource.actionsky.com%2F" target="_blank"&gt;https://opensource.actionsky.com/&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355838</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355838</guid>
      <pubDate>Sat, 10 May 2025 09:32:00 GMT</pubDate>
      <author>來源: 投稿</author>
    </item>
    <item>
      <title>GC-QA-RAG —— 檢索增強生成系統</title>
      <description>&lt;div class="content"&gt;
                                                                                                                                                                        
                                                                                    &lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;GC-QA-RAG 是一款面向葡萄城產品生態（包括&lt;a href="https://www.grapecity.com.cn/solutions/huozige"&gt; 活字格&lt;/a&gt;、&lt;a href="https://www.grapecity.com.cn/solutions/wyn"&gt;WYN&lt;/a&gt;、&lt;a href="https://www.grapecity.com.cn/developer/spreadjs"&gt;SpreadJS &lt;/a&gt;和 &lt;a href="https://www.grapecity.com.cn/developer/grapecitydocuments/excel-java"&gt;GCExcel&lt;/a&gt; 等）的檢索增強生成（RAG）系統。該系統通過智能文檔處理、高效知識檢索、精準問答等功能，有效提升了知識管理效率和用户支持體驗。&lt;/p&gt;

&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;本系統創新性地採用了 QA 預生成技術，克服了傳統文本切片方法在知識庫構建中的若干侷限性。經過實踐驗證，該技術方案能夠顯著提升檢索效果，可為 RAG 領域的技術實踐提供新的思路。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;對於初學者，我們提供了詳細的入門指南，幫助您快速掌握 QA-RAG 系統的構建方法&lt;/li&gt;
&lt;li&gt;對於面臨傳統架構挑戰的開發者，我們的架構設計文檔可為您提供參考，助力現有知識庫的優化升級&lt;/li&gt;
&lt;/ul&gt;

&lt;p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"&gt;本項目也分享了葡萄城在 RAG 知識庫產品設計方面的實踐經驗，希望能為相關領域的產品和技術探索提供有益參考。&lt;/p&gt;

&lt;p&gt;&lt;img height="356" src="https://oscimg.oschina.net/oscnet/up-322e0ef8752e9e5c72130b47ce44ff2d09a.png" width="802" referrerpolicy="no-referrer"&gt;&lt;/p&gt;

                                                                    &lt;/div&gt;
                                                                </description>
      <link>https://www.oschina.net/p/gc-qa-rag</link>
      <guid isPermaLink="false">https://www.oschina.net/p/gc-qa-rag</guid>
      <pubDate>Sat, 10 May 2025 09:26:00 GMT</pubDate>
    </item>
    <item>
      <title>靜態類型函數式編程語言 —— Darklang 宣佈開源</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;Dark Inc 成立於 2017 年，專注於開發一種名為 Darklang 的靜態類型函數式編程語言，為雲原生應用開發而生，支持構建複雜應用系統，旨在簡化後端編碼。&lt;/p&gt; 
&lt;p&gt;然而，公司發展並不順利，最終資金耗盡。為了確保用户和粉絲能夠繼續使用 Darklang，以及繼續發展這一重要技術，Dark Inc 決定將其資產，包括 Darklang 語言、博客、託管服務、Discord 等，&lt;strong&gt;出售給由前員工創立的新公司 Darklang Inc&lt;/strong&gt;。&lt;/p&gt; 
&lt;p&gt;&lt;img src="https://static.oschina.net/uploads/space/2025/0617/154855_nfp3_2720166.gif" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;Darklang 新公司創始人 Stachu Korick 宣佈該項目現已開源，下文是官方開源公告的翻譯：&lt;/p&gt; 
&lt;hr&gt; 
&lt;p&gt;作為 &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.darklang.com%2Fgoodbye-dark-inc-welcome-darklang-inc%2F" target="_blank"&gt;關閉 Dark Inc.&lt;/a&gt; 和 &lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.darklang.com%2Ffirst-steps-of-darklang-inc%2F" target="_blank"&gt;成立 Darklang Inc.&lt;/a&gt; 的一部分，我們終於開源了所有倉庫。&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fdarklang%3Fref%3Dblog.darklang.com" target="_blank"&gt;我們的源代碼&lt;/a&gt; 現在已採用 Apache License 2.0。&lt;/p&gt; 
&lt;p&gt;多年來，我們一直在思考可持續性問題以及如何構建真正賦能開發者的工具。我們一直從哲學上支持開源，但認為 Darklang 的獨特架構和商業模式需要不同的方法。&lt;/p&gt; 
&lt;h2&gt;&lt;strong&gt;為何我們最初選擇源代碼可用 (&lt;/strong&gt;Source-Available&lt;strong&gt;)&lt;/strong&gt;&lt;/h2&gt; 
&lt;p&gt;我們最初設計 Darklang 為一個僅託管的平台，您在 &lt;a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fdarklang.com" target="_blank"&gt;darklang.com&lt;/a&gt; 編寫代碼，程序會立即在生產環境中上線。我們認為這種集中的方式對於安全的代碼遷移和統一部署等特性是必要的，而提供自託管選項會損害我們的可持續性模式。&lt;/p&gt; 
&lt;p&gt;核心挑戰是構建有價值的東西，同時確保能夠長期持續開發。傳統的開源資金模式都有侷限性，因此 Darklang 被設計為「一種具有商業模式的語言」——那些有大量工作負載的用户將通過我們的託管平台資助生態系統的發展。&lt;/p&gt; 
&lt;h2&gt;&lt;strong&gt;是什麼改變了我們的思考&lt;/strong&gt;&lt;/h2&gt; 
&lt;p&gt;有三個關鍵轉變改變了我們的觀點：&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;產品成熟度和用户反饋&lt;/strong&gt;：Darklang 採用的真正障礙從來不是許可問題，而是產品成熟度。隨着我們越來越接近構建人們喜愛的東西，保持源碼可用性開始感覺像不必要的風險。我們一直聽到人們希望我們更加開放。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;面向本地優先開發&lt;/strong&gt;：我們的技術方向發生了顯著變化。我們現在正在構建 Darklang，使其作為 CLI 在本地運行，並能夠部署到我們的雲或其他地方。沒有人希望在自己的機器上運行專有語言的二進制文件。&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;新的商業機會&lt;/strong&gt;：自 2017 年以來，開發工具市場已經成熟。我們現在看到成功的公司對團隊協作功能和 AI 驅動的工具進行收費，同時保持核心平台的可訪問性。這些功能創造了團隊願意支付的附加值，同時始終保留自行託管的選項。&lt;/p&gt; 
&lt;h2&gt;&lt;strong&gt;為何開源&lt;/strong&gt;&lt;/h2&gt; 
&lt;p&gt;開源使 Darklang 具備可訪問性、可檢查性和社區所有。這與我們普及編程的哲學一致，並確保平台無論哪家公司命運如何都能持續發展和演變。&lt;/p&gt; 
&lt;p&gt;我們已經學會在不依賴我們特定編輯器或託管環境的情況下，提供 Darklang 的關鍵優勢——無形的基礎設施、無部署部署、基於追蹤的開發。這使開源成為可能，同時保留了 Darklang 的獨特之處。&lt;/p&gt; 
&lt;h2&gt;&lt;strong&gt;開放性問題&lt;/strong&gt;&lt;/h2&gt; 
&lt;p&gt;我們仍在探索 Darklang 生態系統中關於許可的一些有趣技術挑戰。GitHub 通過附加 LICENSE.md 文件來處理這個問題，但在一個包管理器可以直接同步類型和函數的世界裏，有一些值得深入思考的有趣挑戰。核心平台是開源的，這為我們提供了一個堅實的基礎來構建。&lt;/p&gt; 
&lt;hr&gt; 
&lt;p&gt;原文：&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.darklang.com%2Fdarklang-goes-open-source%2F" target="_blank"&gt;https://blog.darklang.com/darklang-goes-open-source/&lt;/a&gt;&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355813/darklang-goes-open-source</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355813/darklang-goes-open-source</guid>
      <pubDate>Sat, 10 May 2025 07:49:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
    <item>
      <title>工作中對 InheritableThreadLocal 使用的思考</title>
      <description>&lt;div class="content"&gt;
                                                                                                                    
                                                                                                                                                    &lt;div&gt; 
 &lt;div&gt; 
  &lt;p&gt;代碼評審時，發現在線程池中使用 InheritableThreadLocal 上下文會使其中的線程變量失效，無法獲取到預期的變量值，所以對問題進行了覆盤和總結。&lt;/p&gt; 
  &lt;span id="OSC_h2_1"&gt;&lt;/span&gt; 
  &lt;h2&gt;1. 先説結論&lt;/h2&gt; 
  &lt;p&gt;&lt;code&gt;InheritableThreadLocal&lt;/code&gt; 只有在父線程&lt;strong&gt;創建&lt;/strong&gt;子線程時，在子線程中才能獲取到父線程中的線程變量；當配合線程池使用時：&lt;strong&gt;「第一次在線程池中開啓線程，能在子線程中獲取到父線程的線程變量，而當該子線程開啓之後，發生線程複用，該子線程仍然保留的是之前開啓它的父線程的線程變量，而無法獲取當前父線程中新的線程變量」&lt;/strong&gt;，所以會發生獲取線程變量錯誤的情況。&lt;/p&gt; 
  &lt;span id="OSC_h2_2"&gt;&lt;/span&gt; 
  &lt;h2&gt;2. 實驗例子&lt;/h2&gt; 
  &lt;ul&gt; 
   &lt;li&gt; &lt;p&gt;創建一個線程數固定為 1 的線程池，先在 main 線程中存入&lt;code&gt;變量 1&lt;/code&gt;，並使用線程池開啓新的線程打印輸出線程變量，之後更改 main 線程的線程變量為&lt;code&gt;變量 2&lt;/code&gt;，再使用線程池中線程（發生線程複用）打印輸出線程變量，對比兩次輸出的值是否不同&lt;/p&gt; &lt;/li&gt; 
  &lt;/ul&gt; 
  &lt;pre&gt;&lt;code&gt;&lt;span&gt;/**
 * 測試線程池下 InheritableThreadLocal 線程變量失效的場景
 */&lt;/span&gt;
&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;TestInheritableThreadLocal&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;

    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;InheritableThreadLocal&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; threadLocal &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;InheritableThreadLocal&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;

    &lt;span&gt;// 固定大小的線程池，保證線程複用&lt;/span&gt;
    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;ExecutorService&lt;/span&gt; executorService &lt;span&gt;=&lt;/span&gt; &lt;span&gt;Executors&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;newFixedThreadPool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;

    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; args&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
        threadLocal&lt;span&gt;.&lt;/span&gt;&lt;span&gt;set&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;"main 線程，變量 1"&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
        &lt;span&gt;// 正常取到 main 線程，變量 1&lt;/span&gt;
        executorService&lt;span&gt;.&lt;/span&gt;&lt;span&gt;execute&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;-&amp;gt;&lt;/span&gt; &lt;span&gt;System&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;out&lt;span&gt;.&lt;/span&gt;&lt;span&gt;println&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;threadLocal&lt;span&gt;.&lt;/span&gt;&lt;span&gt;get&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;

        threadLocal&lt;span&gt;.&lt;/span&gt;&lt;span&gt;set&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;"main 線程，變量 2"&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
        &lt;span&gt;// 線程複用再取還是 main 線程，變量 1&lt;/span&gt;
        executorService&lt;span&gt;.&lt;/span&gt;&lt;span&gt;execute&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;-&amp;gt;&lt;/span&gt; &lt;span&gt;System&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;out&lt;span&gt;.&lt;/span&gt;&lt;span&gt;println&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;threadLocal&lt;span&gt;.&lt;/span&gt;&lt;span&gt;get&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
    &lt;span&gt;}&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
  &lt;blockquote&gt; 
   &lt;p&gt;輸出結果:&lt;/p&gt; 
   &lt;br&gt; main 線程，變量 1 
   &lt;p&gt;&amp;nbsp;&lt;/p&gt; 
   &lt;br&gt; main 線程，變量 1 
   &lt;p&gt;&amp;nbsp;&lt;/p&gt; 
  &lt;/blockquote&gt; 
  &lt;p&gt;發現兩次輸出結果值相同，證明發生線程複用時，&lt;strong&gt;子線程獲取父線程變量失效&lt;/strong&gt;&lt;/p&gt; 
  &lt;span id="OSC_h2_3"&gt;&lt;/span&gt; 
  &lt;h2&gt;3. 詳解&lt;/h2&gt; 
  &lt;span id="OSC_h3_4"&gt;&lt;/span&gt; 
  &lt;h3&gt;3.1 JavaDoc&lt;/h3&gt; 
  &lt;blockquote&gt; 
   &lt;p&gt;This class extends ThreadLocal to provide inheritance of values from parent thread to child thread: when a child thread is created, the child receives initial values for all inheritable thread-local variables for which the parent has values. Normally the child's values will be identical to the parent's; however, the child's value can be made an arbitrary function of the parent's by overriding the childValue method in this class.&lt;br&gt; Inheritable thread-local variables are used in preference to ordinary thread-local variables when the per-thread-attribute being maintained in the variable (e.g., User ID, Transaction ID) must be automatically transmitted to any child threads that are created.&lt;/p&gt; 
  &lt;/blockquote&gt; 
  &lt;blockquote&gt; 
   &lt;p&gt;&lt;code&gt;InheritableThreadLocal&lt;/code&gt; 繼承了 &lt;code&gt;ThreadLocal&lt;/code&gt;, 以能夠讓子線程能夠從父線程中繼承線程變量: 當一個子線程&lt;code&gt;被創建&lt;/code&gt;時，它會接收到父線程中所有可繼承的變量。通常情況下，子線程和父線程中的線程變量是完全相同的，但是可以通過重寫 &lt;code&gt;childValue&lt;/code&gt; 方法來使父子線程中的值不同。&lt;/p&gt; 
   &lt;br&gt; 當線程中維護的變量如 UserId, TransactionId 等必須自動傳遞到 
   &lt;strong&gt;新創建的任何子線程&lt;/strong&gt;時，使用 
   &lt;code&gt;InheritableThreadLocal&lt;/code&gt;要優於 
   &lt;code&gt;ThreadLocal&lt;/code&gt; 
   &lt;p&gt;&amp;nbsp;&lt;/p&gt; 
  &lt;/blockquote&gt; 
  &lt;span id="OSC_h3_5"&gt;&lt;/span&gt; 
  &lt;h3&gt;3.2 源碼&lt;/h3&gt; 
  &lt;pre&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;InheritableThreadLocal&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;T&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;extends&lt;/span&gt; &lt;span&gt;ThreadLocal&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;T&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
    &lt;span&gt;/**
     * 當子線程被創建時，通過該方法來初始化子線程中線程變量的值，
     * 這個方法在父線程中被調用，並且在子線程開啓之前。
     * 
     * 通過重寫這個方法可以改變從父線程中繼承過來的值。
     *
     * @param parentValue the parent thread's value
     * @return the child thread's initial value
     */&lt;/span&gt;
    &lt;span&gt;protected&lt;/span&gt; &lt;span&gt;T&lt;/span&gt; &lt;span&gt;childValue&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;T&lt;/span&gt; parentValue&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
        &lt;span&gt;return&lt;/span&gt; parentValue&lt;span&gt;;&lt;/span&gt;
    &lt;span&gt;}&lt;/span&gt;

    &lt;span&gt;ThreadLocalMap&lt;/span&gt; &lt;span&gt;getMap&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;Thread&lt;/span&gt; t&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
       &lt;span&gt;return&lt;/span&gt; t&lt;span&gt;.&lt;/span&gt;inheritableThreadLocals&lt;span&gt;;&lt;/span&gt;
    &lt;span&gt;}&lt;/span&gt;

    &lt;span&gt;void&lt;/span&gt; &lt;span&gt;createMap&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;Thread&lt;/span&gt; t&lt;span&gt;,&lt;/span&gt; &lt;span&gt;T&lt;/span&gt; firstValue&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
        t&lt;span&gt;.&lt;/span&gt;inheritableThreadLocals &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;ThreadLocalMap&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;this&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; firstValue&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
    &lt;span&gt;}&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
  &lt;p&gt;其中&lt;code&gt;childValue&lt;/code&gt;方法來獲取父線程中的線程變量的值，也可通過重寫這個方法來將獲取到的線程變量的值進行修改。&lt;/p&gt; 
  &lt;p&gt;在&lt;code&gt;getMap&lt;/code&gt;方法和&lt;code&gt;createMap&lt;/code&gt;方法中，可以發現&lt;code&gt;inheritableThreadLocals&lt;/code&gt;變量，它是 &lt;code&gt;ThreadLocalMap&lt;/code&gt;，在&lt;code&gt;Thread 類&lt;/code&gt;中&lt;/p&gt; 
  &lt;p&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet//8a5c46d2c14c4bd1ce6d1e980efe3e77.jpg" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
  &lt;span id="OSC_h4_6"&gt;&lt;/span&gt; 
  &lt;h4&gt;3.2.1 childValue 方法&lt;/h4&gt; 
  &lt;ol&gt; 
   &lt;li&gt; &lt;p&gt;開啓新線程時，會調用 Thread 的構造方法&lt;/p&gt; &lt;/li&gt; 
  &lt;/ol&gt; 
  &lt;pre&gt;&lt;code&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;ThreadGroup&lt;/span&gt; group&lt;span&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; name&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
        &lt;span&gt;init&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;group&lt;span&gt;,&lt;/span&gt; &lt;span&gt;null&lt;/span&gt;&lt;span&gt;,&lt;/span&gt; name&lt;span&gt;,&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
    &lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
  &lt;ol&gt; 
   &lt;li&gt; &lt;p&gt;沿着構造方法向下，找到&lt;code&gt;init&lt;/code&gt;方法的最終實現，其中有如下邏輯：&lt;strong&gt;為當前線程創建線程變量以繼承父線程中的線程變量&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt; 
  &lt;/ol&gt; 
  &lt;pre&gt;&lt;code&gt;&lt;span&gt;/**
 * @param inheritThreadLocals 為 ture，代表是為，包含可繼承的線程變量，的線程進行初始化
 */&lt;/span&gt;
&lt;span&gt;private&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;init&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;ThreadGroup&lt;/span&gt; g&lt;span&gt;,&lt;/span&gt; &lt;span&gt;Runnable&lt;/span&gt; target&lt;span&gt;,&lt;/span&gt; &lt;span&gt;String&lt;/span&gt; name&lt;span&gt;,&lt;/span&gt;
                  &lt;span&gt;long&lt;/span&gt; stackSize&lt;span&gt;,&lt;/span&gt; &lt;span&gt;AccessControlContext&lt;/span&gt; acc&lt;span&gt;,&lt;/span&gt;
                  &lt;span&gt;boolean&lt;/span&gt; inheritThreadLocals&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
    &lt;span&gt;.&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;
  
    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;inheritThreadLocals &lt;span&gt;&amp;amp;&amp;amp;&lt;/span&gt; parent&lt;span&gt;.&lt;/span&gt;inheritableThreadLocals &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
        &lt;span&gt;// 注意這裏創建子線程的線程變量&lt;/span&gt;
        &lt;span&gt;this&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;inheritableThreadLocals &lt;span&gt;=&lt;/span&gt;
            &lt;span&gt;ThreadLocal&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;createInheritedMap&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;parent&lt;span&gt;.&lt;/span&gt;inheritableThreadLocals&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
    
    &lt;span&gt;.&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;
    
&lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
  &lt;ol&gt; 
   &lt;li&gt; &lt;p&gt;&lt;code&gt;ThreadLocal.createInheritedMap(parent.inheritableThreadLocals)&lt;/code&gt;創建子線程 &lt;code&gt;InheritedMap&lt;/code&gt; 的具體實現&lt;/p&gt; &lt;/li&gt; 
  &lt;/ol&gt; 
  &lt;p&gt;&lt;code&gt;createInheritedMap&lt;/code&gt; 方法，最終會調用到 &lt;code&gt;ThreadLocalMap&lt;/code&gt; 的&lt;strong&gt;私有構造方法&lt;/strong&gt;，傳入的參數 parentMap 即為&lt;strong&gt;父線程中保存的線程變量&lt;/strong&gt;&lt;/p&gt; 
  &lt;pre&gt;&lt;code&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;ThreadLocalMap&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;ThreadLocalMap&lt;/span&gt; parentMap&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
        &lt;span&gt;Entry&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; parentTable &lt;span&gt;=&lt;/span&gt; parentMap&lt;span&gt;.&lt;/span&gt;table&lt;span&gt;;&lt;/span&gt;
        &lt;span&gt;int&lt;/span&gt; len &lt;span&gt;=&lt;/span&gt; parentTable&lt;span&gt;.&lt;/span&gt;length&lt;span&gt;;&lt;/span&gt;
        &lt;span&gt;setThreshold&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;len&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
        table &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Entry&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;len&lt;span&gt;]&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;

        &lt;span&gt;for&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;&lt;span&gt;int&lt;/span&gt; j &lt;span&gt;=&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;span&gt;;&lt;/span&gt; j &lt;span&gt;&amp;lt;&lt;/span&gt; len&lt;span&gt;;&lt;/span&gt; j&lt;span&gt;++&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
            &lt;span&gt;Entry&lt;/span&gt; e &lt;span&gt;=&lt;/span&gt; parentTable&lt;span&gt;[&lt;/span&gt;j&lt;span&gt;]&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
            &lt;span&gt;if&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;e &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
                &lt;span&gt;@SuppressWarnings&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;"unchecked"&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
                &lt;span&gt;ThreadLocal&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;Object&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; key &lt;span&gt;=&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;&lt;span&gt;ThreadLocal&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;Object&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; e&lt;span&gt;.&lt;/span&gt;&lt;span&gt;get&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
                &lt;span&gt;if&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;key &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
                    &lt;span&gt;// 注意！！！ 這裏調用了 childValue 方法&lt;/span&gt;
                    &lt;span&gt;Object&lt;/span&gt; value &lt;span&gt;=&lt;/span&gt; key&lt;span&gt;.&lt;/span&gt;&lt;span&gt;childValue&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;e&lt;span&gt;.&lt;/span&gt;value&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
                    &lt;span&gt;Entry&lt;/span&gt; c &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Entry&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;key&lt;span&gt;,&lt;/span&gt; value&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
                    &lt;span&gt;int&lt;/span&gt; h &lt;span&gt;=&lt;/span&gt; key&lt;span&gt;.&lt;/span&gt;threadLocalHashCode &lt;span&gt;&amp;amp;&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;len &lt;span&gt;-&lt;/span&gt; &lt;span&gt;1&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
                    &lt;span&gt;while&lt;/span&gt; &lt;span&gt;(&lt;/span&gt;table&lt;span&gt;[&lt;/span&gt;h&lt;span&gt;]&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;null&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;
                        h &lt;span&gt;=&lt;/span&gt; &lt;span&gt;nextIndex&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;h&lt;span&gt;,&lt;/span&gt; len&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
                    table&lt;span&gt;[&lt;/span&gt;h&lt;span&gt;]&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; c&lt;span&gt;;&lt;/span&gt;
                    size&lt;span&gt;++&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
                &lt;span&gt;}&lt;/span&gt;
            &lt;span&gt;}&lt;/span&gt;
        &lt;span&gt;}&lt;/span&gt;
    &lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
  &lt;p&gt;這個方法會對父線程中的線程變量做&lt;strong&gt;拷貝&lt;/strong&gt;，其中調用了&lt;code&gt;childValue&lt;/code&gt;方法來獲取/初始化子線程中的值，並保存到子線程中&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt; &lt;p&gt;由上可見，可繼承的線程變量&lt;strong&gt;只是&lt;/strong&gt;在線程&lt;strong&gt;被創建的時候&lt;/strong&gt;進行了初始化工作，這也就能解釋為什麼在線程池中發生線程複用時不能獲取到父線程線程變量的原因&lt;/p&gt; &lt;/li&gt; 
  &lt;/ul&gt; 
  &lt;span id="OSC_h2_7"&gt;&lt;/span&gt; 
  &lt;h2&gt;4. 實驗例子流程圖&lt;/h2&gt; 
  &lt;p&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet//13978e8555584a0539f17ca79e19b1f5.jpg" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
  &lt;ol&gt; 
   &lt;li&gt; &lt;p&gt;main 線程&lt;code&gt;set main 線程，變量 1&lt;/code&gt;時，會調用到&lt;code&gt;InheritableThreadLocal&lt;/code&gt;的 &lt;code&gt;createMap&lt;/code&gt;方法，創建 &lt;code&gt;inheritableThreadLocals&lt;/code&gt; 並保存線程變量&lt;/p&gt; &lt;/li&gt; 
   &lt;li&gt; &lt;p&gt;開啓子線程 1 時，會拷貝父線程中的線程變量到子線程中，如圖示&lt;/p&gt; &lt;/li&gt; 
   &lt;li&gt; &lt;p&gt;main 線程&lt;code&gt;set main 線程，變量 2&lt;/code&gt;，會覆蓋主線程中之前 set 的 mian 線程變量 1&lt;/p&gt; &lt;/li&gt; 
   &lt;li&gt; &lt;p&gt;最後發生線程複用，子線程 1 無法獲取到 main 線程新 set 的值，仍然打印 main 線程，變量 1&lt;/p&gt; &lt;/li&gt; 
  &lt;/ol&gt; 
  &lt;span id="OSC_h2_8"&gt;&lt;/span&gt; 
  &lt;h2&gt;5. 解決方案: TransmittableThreadLocal&lt;/h2&gt; 
  &lt;p&gt;使用阿里巴巴 &lt;code&gt;TransmittableThreadLocal&lt;/code&gt; 能解決&lt;strong&gt;線程變量線程封閉&lt;/strong&gt;的問題，測試用例如下，在線程池提交任務時調用&lt;code&gt;TtlRunnable&lt;/code&gt;的&lt;code&gt;get&lt;/code&gt;方法來完成線程變量傳遞&lt;/p&gt; 
  &lt;pre&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;TestInheritableThreadLocal&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;

    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;TransmittableThreadLocal&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; threadLocal &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;TransmittableThreadLocal&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;

    &lt;span&gt;// 固定大小的線程池，保證線程複用&lt;/span&gt;
    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;final&lt;/span&gt; &lt;span&gt;ExecutorService&lt;/span&gt; executorService &lt;span&gt;=&lt;/span&gt; &lt;span&gt;Executors&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;newFixedThreadPool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;

    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;]&lt;/span&gt; args&lt;span&gt;)&lt;/span&gt; &lt;span&gt;{&lt;/span&gt;
        threadLocal&lt;span&gt;.&lt;/span&gt;&lt;span&gt;set&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;"main 線程，變量 1"&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
        &lt;span&gt;// 正常取到 main 線程，變量 1&lt;/span&gt;
        executorService&lt;span&gt;.&lt;/span&gt;&lt;span&gt;execute&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;-&amp;gt;&lt;/span&gt; &lt;span&gt;System&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;out&lt;span&gt;.&lt;/span&gt;&lt;span&gt;println&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;threadLocal&lt;span&gt;.&lt;/span&gt;&lt;span&gt;get&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;

        threadLocal&lt;span&gt;.&lt;/span&gt;&lt;span&gt;set&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;"main 線程，變量 2"&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
        &lt;span&gt;// 使用 TransmittableThreadLocal 解決問題&lt;/span&gt;
        executorService&lt;span&gt;.&lt;/span&gt;&lt;span&gt;execute&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;TtlRunnable&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;get&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt; &lt;span&gt;-&amp;gt;&lt;/span&gt; &lt;span&gt;System&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;out&lt;span&gt;.&lt;/span&gt;&lt;span&gt;println&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;threadLocal&lt;span&gt;.&lt;/span&gt;&lt;span&gt;get&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;

        executorService&lt;span&gt;.&lt;/span&gt;&lt;span&gt;shutdown&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;
    &lt;span&gt;}&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
  &lt;blockquote&gt; 
   &lt;p&gt;輸出結果:&lt;br&gt; main 線程，變量 1&lt;br&gt; main 線程，變量 2&lt;/p&gt; 
  &lt;/blockquote&gt; 
  &lt;ul&gt; 
   &lt;li&gt; &lt;p&gt;注意：對象類型需要注意線程安全問題&lt;/p&gt; &lt;/li&gt; 
   &lt;li&gt; &lt;p&gt;具體用法參考 https://github.com/alibaba/transmittable-thread-local&lt;/p&gt; &lt;/li&gt; 
  &lt;/ul&gt; 
  &lt;hr&gt; 
  &lt;p&gt;&lt;strong&gt;That's all.&lt;/strong&gt;&lt;/p&gt; 
 &lt;/div&gt; 
&lt;/div&gt;
                                                                                    &lt;/div&gt;
                                                                            </description>
      <link>https://my.oschina.net/u/4090830/blog/18626652</link>
      <guid isPermaLink="false">https://my.oschina.net/u/4090830/blog/18626652</guid>
      <pubDate>Sat, 10 May 2025 07:45:00 GMT</pubDate>
      <author>原創</author>
    </item>
    <item>
      <title>蘋果內置終端應用在 macOS Tahoe 迎來「彩色」視覺設計更新</title>
      <description>&lt;div class="content"&gt;
                                                                    
                                                        &lt;p&gt;蘋果內置的終端應用在 macOS Tahoe 中得到了視覺上的&lt;a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.macrumors.com%2F2025%2F06%2F16%2Fapples-terminal-app-macos-tahoe%2F" target="_blank"&gt;更新&lt;/a&gt;，這是該命令行工具亮相以來首次顯著的設計更新。&lt;/p&gt; 
&lt;p&gt;&lt;img alt="" src="https://oscimg.oschina.net/oscnet/up-6fcee60476e7476c2925193298f46bc5185.png" referrerpolicy="no-referrer"&gt;&lt;/p&gt; 
&lt;p&gt;根據蘋果在 WWDC25 上的平台現狀演示，更新後的終端將支持 24 位色彩和 Powerline 字體。該應用還將採用全新的 Liquid Glass 美學設計，並重新設計主題，以配合 macOS 26 更廣泛的視覺改進。&lt;/p&gt; 
&lt;p&gt;雖然終端應用已經提供了各種顏色配置文件，但 macOS 26 版本承諾提供增強的自定義選項，以更具視覺吸引力的方式顯示系統信息。&lt;/p&gt; 
&lt;p&gt;這是一個早就應該進行的現代化應用程序，對於開發人員和高級用户來説至關重要，因為它在二十多年來基本保持不變。&lt;/p&gt; 
&lt;p&gt;macOS Tahoe 將於今年秋季推出，開發者測試版現已發佈，第一個公開測試版預計將於 7 月發佈。&lt;/p&gt;
                                                                                &lt;/div&gt;
                                                                            </description>
      <link>https://www.oschina.net/news/355809/apples-terminal-app-macos-tahoe</link>
      <guid isPermaLink="false">https://www.oschina.net/news/355809/apples-terminal-app-macos-tahoe</guid>
      <pubDate>Sat, 10 May 2025 07:24:00 GMT</pubDate>
      <author>來源: OSCHINA</author>
    </item>
  </channel>
</rss>
